{"meta":{"title":"Zehai'blog","subtitle":null,"description":"ä¼šåšé¥­çš„å¨å­","author":"Zhang Zehai","url":"http://zehai.info"},"pages":[{"title":"ComputerOS","date":"2019-04-21T04:15:39.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"ComputerOS/index.html","permalink":"http://zehai.info/ComputerOS/index.html","excerpt":"","text":"conceptOSï¼ˆOperating Systemï¼‰æ˜¯æ§åˆ¶å’Œç®¡ç†æ•´ä¸ªè®¡ç®—æœºç³»ç»Ÿçš„ç¡¬ä»¶å’Œè½¯ä»¶èµ„æºï¼Œåˆç†è°ƒåº¦è®¡ç®—æœºçš„å·¥ä½œå’Œèµ„æºåˆ†é…ï¼Œæä¾›ç»™ç”¨æˆ·å’Œå…¶ä»–è½¯ä»¶æ¥å£å’Œç¯å¢ƒã€‚ å››å¤§ç‰¹å¾ å¹¶å‘ å…±äº« è™šæ‹Ÿ å¼‚æ­¥ å¹¶å‘æ¦‚å¿µï¼šæŒ‡å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿï¼Œå®è§‚ä¸Šæ˜¯åŒæ—¶å‘ç”Ÿï¼Œå¾®è§‚ä¸Šæ˜¯äº¤æ›¿å‘ç”Ÿï¼ˆåŒºåˆ«äºå¹¶è¡Œï¼šå¤šä¸ªäº‹ä»¶åŒä¸€æ—¶åˆ»å‘ç”Ÿï¼‰ å…±äº«åˆ†ä¸ºï¼šäº’æ–¥å…±äº«ï¼ŒåŒæ—¶å…±äº« è™šæ‹ŸæŠŠç‰©ç†ä¸Šçš„å®ä½“å˜ä¸ºè‹¥å¹²ä¸ªé€»è¾‘ä¸Šå¯¹åº”ç‰©ï¼Œå¦‚4GBå†…å­˜å¯ä»¥åŒæ—¶è¿è¡Œå¤§äº4Gçš„è½¯ä»¶ï¼ˆæ—¶åˆ†å¤ç”¨æˆ–è€…ç©ºåˆ†å¤ç”¨ï¼‰ å¼‚æ­¥å¤šä¸ªç¨‹åºå¹¶å‘æ‰§è¡Œï¼Œæ–­æ–­ç»­ç»­åŒæ­¥æ¨è¿› è¿è¡Œæœºåˆ¶ä¸ä½“ç³»ç»“æ„è¿è¡Œæœºåˆ¶æŒ‡ä»¤=ç‰¹æƒæŒ‡ä»¤+éç‰¹æƒæŒ‡ä»¤ ç‰¹æƒï¼šå¦‚å†…å­˜æ¸…é›¶ éç‰¹æƒï¼šå¦‚æ™®é€šè¿ç®— CPU=ç”¨æˆ·æ€ï¼ˆéæ ¸å¿ƒï¼‰+æ ¸å¿ƒæ€ï¼ˆæ ¸å¿ƒ+éæ ¸å¿ƒï¼‰ ç¨‹åºçŠ¶æ€å¯„å­˜å™¨PSWï¼Œ0ä¸ºç”¨æˆ·æ€ï¼Œ1ä½æ ¸å¿ƒæ€ å†…æ ¸ï¼š æ—¶é’Ÿç®¡ç†ï¼ˆè®¡æ—¶ï¼‰ ä¸­æ–­å¤„ç† åŸè¯­ ç³»ç»Ÿèµ„æºç®¡ç†ï¼ˆè¿›ç¨‹ï¼Œå­˜å‚¨å™¨ï¼Œè®¾å¤‡ç®¡ç†ï¼‰ å¤§å†…æ ¸ï¼šé«˜æ€§èƒ½ä½†ç»´æŠ¤éº»çƒ¦ å¾®å†…æ ¸:ç»“æ„æ¸…æ™°ä½†åˆ‡æ¢å¼€é”€å¤§ ä¸­æ–­å’Œå¼‚å¸¸ä¸­æ–­æ˜¯CPUè¿›å…¥æ ¸å¿ƒæ€ï¼Œå½“å‰è¿›ç¨‹æš‚åœï¼Œè€Œæ ¸å¿ƒæ€â€“&gt;ç”¨æˆ·æ€åªéœ€è¦é€šè¿‡PSWçš„ç‰¹æƒæŒ‡ä»¤å°±å¯ä»¥è¿›å…¥ ä¸­æ–­=å†…ä¸­æ–­+å¤–ä¸­æ–­ å†…ä¸­æ–­ï¼šå¼‚å¸¸ï¼Œä¾‹å¤–ï¼Œé™·å…¥ æŒ‡ä»¤ä¸­æ–­ ç¡¬ä»¶æ•…éšœï¼ˆå¦‚ç¼ºé¡µï¼‰ï¼Œè½¯ä»¶ä¸­æ–­ï¼ˆå¦‚ç¼–ç¨‹è¯­æ³•é”™è¯¯ï¼‰ å¤–ä¸­æ–­ï¼šå¤–è®¾è¯·æ±‚ï¼Œäººå·¥å¹²é¢„ ç³»ç»Ÿè°ƒç”¨ è®¾å¤‡ç®¡ç† æ–‡ä»¶ç®¡ç† è¿›ç¨‹æ§åˆ¶ è¿›ç¨‹é€šä¿¡ å†…å­˜ç®¡ç† ä¼ é€’ç³»ç»Ÿè°ƒç”¨å‚æ•°â€“&gt;é™åˆ¶æ€§é™·å…¥æŒ‡ä»¤ï¼ˆç”¨æˆ·æ€ï¼‰â€“&gt;æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ç›¸åº”æœåŠ¡ç¨‹åºï¼ˆæ ¸å¿ƒæ€ï¼‰â€“&gt;è¿”å›ç”¨æˆ·ç¨‹åº é™·å…¥æŒ‡ä»¤åœ¨ç”¨æˆ·æ€æ‰§è¡Œï¼Œæ‰§è¡Œé™·å…¥æŒ‡ä»¤åç«‹å³å¼•å‘ä¸€ä¸ªå†…ä¸­æ–­ï¼Œä»è€ŒCPUè¿›å…¥æ ¸å¿ƒæ€ åº“å‡½æ•°åº”ç”¨ç¨‹åºâ€“&gt;åº“å‡½æ•°â€“&gt;ç³»ç»Ÿè°ƒç”¨ åº“å‡½æ•°ç›®çš„ï¼šé«˜çº§å¼€å‘ï¼Œæ›´æ–¹ä¾¿ç³»ç»Ÿè°ƒç”¨ è¿›ç¨‹why: what:æ˜¯è¿è¡Œè¿‡ç¨‹ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„æœ€å°å•ä½ è¿›ç¨‹æ®µ=ç¨‹åºæ®µ+æ•°æ®æ®µ+PCB PCB=PID+UID+è¿›ç¨‹æ§åˆ¶ç®¡ç†ä¿¡æ¯ï¼ˆè¿›ç¨‹çŠ¶æ€ï¼Œä¼˜å…ˆçº§ï¼‰+èµ„æºåˆ†é…ï¼ˆç¨‹åºæ®µæŒ‡é’ˆï¼Œæ•°æ®æ®µæŒ‡é’ˆï¼Œé”®ç›˜é¼ æ ‡ï¼‰+å¤„ç†æœºä¿¡æ¯ï¼ˆå¯„å­˜å™¨å€¼ï¼‰ feature: åŠ¨æ€æ€§ å¹¶å‘æ€§ ç‹¬ç«‹æ€§ å¼‚æ­¥æ€§ ç»„ç»‡æ–¹å¼ï¼š é“¾æ¥æ–¹å¼ï¼ˆæ‰§è¡ŒæŒ‡é’ˆï¼Œå°±ç»ªæŒ‡é’ˆï¼Œé˜»å¡æŒ‡é’ˆï¼‰ ç´¢å¼•æ–¹å¼ï¼ˆæ‰§è¡ŒæŒ‡é’ˆï¼Œå°±ç»ªæŒ‡é’ˆï¼Œç´¢å¼•æŒ‡é’ˆï¼‰ äº”ç§çŠ¶æ€ è¿è¡Œ å°±ç»ª é˜»å¡ åˆ›å»º ç»ˆæ­¢","raw":null,"content":null},{"title":"","date":"2021-05-28T02:06:51.527Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"README.html","permalink":"http://zehai.info/README.html","excerpt":"","text":"ğŸall in Knowledge ä¸ªäººåšå®¢ LeetCode Latest âœ¨2020-07-30 ä¸Šçº¿phonesï¼Œå…·å¤‡åŸºç¡€åŠŸèƒ½ 2020-07-24 EventLoop Sourceé˜…è¯»æ–‡ç« åˆ†æv8åŸºç¡€åŸç†ï¼Œç†è§£EventLoop Major è®¡ç®—æœºç½‘ç»œ è®¡ç®—æœºæ“ä½œç³»ç»Ÿ æ•°æ®ç»“æ„ Node.js feature å¼‚æ­¥IO å¼‚æ­¥ç¼–ç¨‹ å†…å­˜æ§åˆ¶ ç†è§£buffer ç½‘ç»œç¼–ç¨‹ webåº”ç”¨ å¤šè¿›ç¨‹ æµ‹è¯•å³è°ƒè¯• eventLoopæ¨¡å‹ Java Base é›†åˆ List Map Set çº¿ç¨‹ ç±»åŠ è½½ IO JVM é” å¸¸è§é—®é¢˜ Data Structure String Linked List Binary Tree Huffman Compression Queue Heap Stack Set Map Graph Sorting Algorithm Divide and Conquer Binary Search Math Knapscak Probability Bitmap Network ä¸ƒå±‚æ¨¡å‹ ç‰©ç†å±‚ æ•°æ®é“¾è·¯å±‚ ç½‘ç»œå±‚ ä¼ è¾“å±‚ åº”ç”¨å±‚ Links barriery è±†ç±³ Jack-cool Projects chum neews phones Booksï¼ˆåˆ—è¡¨ä¸¢å¤±ï¼Œç¨åè¡¥å……ï¼‰ æ·±å…¥æµ…å‡ºNode.js å›¾è§£HTTP/IP å›¾è§£ç®—æ³• Others æ˜¥èŠ‚12å“ QS2019 About é‚®ç®±ï¼šzehaizhang@aliyun.com want Node.js Job,base Peking å¢“å¿—é“­ï¼šrestarting","raw":null,"content":null},{"title":"Interview","date":"2019-04-06T14:55:46.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"Interview/index.html","permalink":"http://zehai.info/Interview/index.html","excerpt":"","text":"JSå»é‡ æ’åºï¼Œéå†é¡ºåºæ¯”è¾ƒï¼Œä¸åŒå°±pushåˆ°æ–°æ•°ç»„ 1234567891011let c&#x3D;[1,2,3,4,5,6,1,2,3]function unique(arr)&#123; let Arr&#x3D;arr.sort() let b&#x3D;[] for(let i&#x3D;0;i&lt;Arr.length;i++)&#123; if(Arr[i]!&#x3D;&#x3D;Arr[i+1])&#123; b.push(Arr[i]) &#125; &#125; return b&#125; indexOféå† 12345678910let c&#x3D;[1,2,3,4,5,6,1,2,3]function unique(arr)&#123; let b&#x3D;[] for(let i&#x3D;0;i&lt;arr.length;i++)&#123; if(b.indexOf(arr[i])&#x3D;&#x3D;-1)&#123; b.push(arr[i]) &#125; &#125; return b&#125; map()/forEach() set 123456let c&#x3D;[1,2,3,4,5,6,1,2,3]function unique(arr)&#123; let b&#x3D;new Set(arr) let c&#x3D;Array.from(b) return c&#125; é€’å½’regressionFibonacci1234567891011121314151617181920212223242526//è¿­ä»£ï¼Œnumber=40,time=1msint Fibonacci(int number) &#123; if (number &lt;= 0) &#123; return 0; &#125; if (number == 1 || number == 2) &#123; return 1; &#125; int first = 1, second = 1, third = 0; for (int i = 3; i &lt;= number; i++) &#123; third = first + second; first = second; second = third; &#125; return third;&#125;//regression n=40,time=272mspublic int Fibonacci(int n) &#123; if (n &lt;= 0) &#123; return 0; &#125; if (n == 1||n==2) &#123; return 1; &#125; return Fibonacci(n - 2) + Fibonacci(n - 1);&#125; å˜ç§ï¼šé’è›™è·³å°é˜¶æ•°æ®ç»“æ„é“¾è¡¨ç¿»è½¬é“¾è¡¨æœ‰åºé“¾è¡¨åˆå¹¶123456789101112131415public ListNode Merge(ListNode list1,ListNode list2) &#123; if(list1 == null)&#123; return list2; &#125; if(list2 == null)&#123; return list1; &#125; if(list1.val &lt;= list2.val)&#123; list1.next = Merge(list1.next, list2); return list1; &#125;else&#123; list2.next = Merge(list1, list2.next); return list2; &#125; &#125; å †å’Œé˜Ÿåˆ—ç”¨é˜Ÿåˆ—å®ç°å †æ ˆç”¨å †æ ˆå®ç°é˜Ÿåˆ—SortingHTTPSçš„è®¤è¯è¿‡ç¨‹ TCP/IPä¸‰æ¬¡æ¡æ‰‹ JavaåŸºç¡€HashMapå®ç°åŸç†HashMapæ˜¯æ‹‰é“¾(Hashå†æ•£åˆ—çš„ä¸€ç§æ–¹å¼)çš„ä¸€ç§å®ç°æ–¹å¼ï¼ˆJDK1.7ä¹‹å‰ï¼Œä»¥åŠ1.8ä»¥åï¼Œé˜ˆå€¼å°äº8ï¼‰ï¼Œå·¦è¾¹ä¸€åˆ—ä¸ºæ•°ç»„ï¼ˆä½æ¡¶æ•°ç»„ï¼‰ï¼Œå³è¾¹ä¸ºé“¾è¡¨ï¼ˆEntryé“¾ï¼Œé€šè¿‡equalåˆ¤æ–­ï¼‰ Hashmapåœ¨JDK1.8ï¼Œé˜ˆå€¼å¤§äº8åï¼Œé‡‡ç”¨çº¢é»‘æ ‘ 1234567891011121314151617static final class TreeNode extends LinkedHashMap.Entry &#123; TreeNode parent; // çˆ¶èŠ‚ç‚¹ TreeNode left; //å·¦å­æ ‘ TreeNode right;//å³å­æ ‘ TreeNode prev; // needed to unlink next upon deletion boolean red; //é¢œè‰²å±æ€§ TreeNode(int hash, K key, V val, Node next) &#123; super(hash, key, val, next); &#125; //è¿”å›å½“å‰èŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ final TreeNode root() &#123; for (TreeNode r = this, p;;) &#123; if ((p = r.parent) == null) return r; r = p; &#125; &#125; HashMapï¼ŒHashTableï¼ŒConcurrentHashMapï¼ï¼å¯èƒ½æœ‰é”™ï¼Œè¿˜æœªæ¢³ç†å®Œæˆ hashmap hashtable concurrentHashMap åº•å±‚ æ•°ç»„+é“¾è¡¨ æ•°ç»„+é“¾è¡¨ æ•°ç»„+é“¾è¡¨ çº¿ç¨‹å®‰å…¨ âˆš Ã— Ã— null kvä¸èƒ½ä¸ºç©º kvå¯ä»¥ä¸ºç©º åˆå§‹å¤§å° 11 16 æ‰©å®¹ 2*old+1 old*2 Redisä½¿ç”¨åœºæ™¯ ç¼“å­˜ ç™»å½•session featureï¼š åŸºäºå†…å­˜ï¼ˆå¿«çš„åŸå› ï¼‰ æ•°æ®ç»“æ„ç®€å•ï¼ˆset hash list zsetï¼‰ å•çº¿ç¨‹ï¼Œé¿å…ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œç«äº‰æ¡ä»¶ï¼Œæ²¡æœ‰é”ï¼Œå¤šè·¯I/Oå¤ç”¨ï¼Œéé˜»å¡ï¼ˆå’ŒNodejsä¸€æ ·ï¼‰ åˆ†å¸ƒå¼Kafkaä¼˜ç¼ºç‚¹ é«˜ååé‡çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼ŒåŸºæœ¬ç»„ä»¶ï¼šæ¶ˆè´¹è€…ï¼Œç”Ÿäº§è€…ï¼ŒnodeèŠ‚ç‚¹ç­‰ å‰¯æœ¬â€¦â€¦â€¦â€¦â€¦â€¦ æ¦‚å¿µå¹‚ç­‰æ€§ æ•°å­¦ä¸Šï¼Œå¯¹äºxï¼Œæœ‰f(x)=f(f(x))ï¼Œåˆ™æˆä¸ºå¹‚ç­‰æ€§ åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œè¡¨ç¤ºå¯¹åŒæ ·çš„è¯·æ±‚ï¼Œåœ¨ä¸€æ¬¡æˆ–è€…å¤šæ¬¡è¯·æ±‚çš„æƒ…å†µä¸‹ï¼Œå¯¹ç³»ç»Ÿçš„ä½¿ç”¨èµ„æºæ˜¯ä¸€æ ·çš„ï¼Œä¿è¯å¤±è´¥é‡è¯•ä¸ä¼šå¯¼è‡´æäº¤ä¸¤æ¬¡ å †æ ˆå†…å­˜å †å†…å­˜ï¼šæ˜¯çº¿ç¨‹å…±äº«çš„,new æ ˆå†…å­˜ï¼šçº¿ç¨‹ç§æœ‰çš„,åŸºæœ¬ç±»å‹çš„å˜é‡å’Œå¯¹è±¡çš„å¼•ç”¨å˜é‡ æ•°æ®åº“äº‹åŠ¡Transactionæ˜¯ä¸€ä¸ªæ“ä½œåºåˆ—ï¼Œä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œä»¥begin transactionå¼€å§‹ï¼Œä»¥rollback/commitç»“æŸ ç‰¹æ€§ Desc åŸå­æ€§Atomicity å…¨å¯¹æˆ–å›æ»š ä¸€è‡´æ€§Consistency å¤šæ¬¡äº‹åŠ¡ç»“æœç›¸åŒ éš”ç¦»æ€§Isolation äº‹åŠ¡é—´äº’ä¸å½±å“ æŒä¹…æ€§Durability ä¸€ä½†æˆåŠŸå³æ°¸ä¹… å¹¶å‘ä¸€è‡´æ€§é—®é¢˜ ä¸¢å¤±ä¿®æ”¹ï¼Œåäº‹åŠ¡å¯¹ä¸€ä¸ªæœªå®Œæˆäº‹åŠ¡ä¿®æ”¹è¦†ç›– è„è¯»ï¼Œåäº‹åŠ¡å¯¹ä¸€ä¸ªæœªå®Œæˆäº‹åŠ¡ä¿®æ”¹è¿‡çš„æ•°æ®è¯» ä¸å¯é‡å¤è¯»ï¼Œåäº‹åŠ¡è¯»å–è¿‡ç¨‹ä¸­æ•°æ®è¢«ä¿®æ”¹ å¹»è¯»ï¼Œç±»ä¼¼ä¸å¯é‡å¤ï¼ŒåŒºåˆ«äºæ˜¯æ’å…¥æ“ä½œä¿®æ”¹ å››ç§éš”ç¦»çº§åˆ« æœªæäº¤è¯» æäº¤è¯» å¯é‡å¤è¯»ï¼ˆMYSQLé»˜è®¤éš”ç¦»çº§åˆ«ï¼‰ å¯ä¸²è¡ŒåŒ–ï¼ˆäº‹åŠ¡å…¨éƒ¨ä¸²è¡Œï¼Œæ•ˆç‡ä½ï¼‰ ä¹è§‚é”&amp;æ‚²è§‚é”æ‚²è§‚é”ï¼šå…ˆé”å†æ“ä½œï¼Œé€‚åˆæ•°æ®ä¿®æ”¹é¢‘ç¹åœºæ™¯ ä¹è§‚é”ï¼šå…ˆè¯»ï¼Œè¯»çš„æ—¶å€™åœ¨åˆ¤æ–­æ˜¯å¦æœ‰äº‹åŠ¡å†æ›´æ–°ï¼Œæœ‰åˆ™é‡è¯»ï¼ˆé€šè¿‡åŠ ç‰ˆæœ¬å·æˆ–è€…æ—¶é—´æˆ³ä½œä¸ºå­—æ®µä¸ºåˆ¤æ–­ä¾æ®ï¼Œç¼ºç‚¹å°±æ˜¯æ¯æ¬¡æ•°æ®æ›´æ–°éƒ½éœ€è¦æ›´æ–°è¿™ä¸ªå­—æ®µï¼‰ å°é”ç±»å‹ æ’å®ƒé”X å…±äº«é”S åªè¯»å…±äº« æ„å‘é” ä¸‰çº§å°é”åè®®ï¼ˆå¾…è¡¥å……ï¼Œä¸é‡è¦ï¼‰ ä¸€çº§ï¼ŒX äºŒçº§ ä¸‰çº§ æ•°æ®åº“ç´¢å¼•çš„å®ç°åŸç†ï¼ˆB+æ ‘ï¼‰innoDBä¸­ä½¿ç”¨çš„B+æ ‘ IOæ¬¡æ•°å°‘ï¼ŒB+æ ‘ä¸­é—´èŠ‚ç‚¹å­˜å‚¨ç´¢å¼•ï¼Œæ•°æ®åœ¨å¶å­èŠ‚ç‚¹ä¸­ æŸ¥è¯¢Bæ ‘è¦éå†ï¼ŒB+åªéœ€è¦éå†å¶å­èŠ‚ç‚¹ why é€‰æ‹©B+ æ•ˆç‡æ¯”O(1)å¥½ Bæ ‘ç´¢å¼•æ”¯æŒå¤§å°æ¯”è¾ƒï¼ŒèŒƒå›´æŸ¥æ‰¾ innodbå’ŒmyISAMåŒºåˆ« innodbæ”¯æŒäº‹åŠ¡ myisamä»…æœ‰è¡¨çº§é”ï¼Œinnodbè¡¨+è¡Œé” innodbæ”¯æŒå¤–é”® innodbåœ¨çº¿çƒ­å¤‡ä»½ æ•°æ®åº“ä¼˜åŒ–SQLä¼˜åŒ–è¯¥éƒ¨åˆ†åŸºæœ¬éœ€è¦éµå®ˆä¸€äº›å‡†åˆ™ï¼Œåˆç†åˆ©ç”¨ç´¢å¼• é¿å…!=,&gt;,&lt;,nullçš„åˆ¤æ–­ï¼ˆç´¢å¼•å¤±æ•ˆï¼‰ è¿”å›å¿…è¦çš„åˆ—ï¼Œå‡å°select * (graphQLè§£å†³æ–¹æ¡ˆ) Limité™åˆ¶ ç´¢å¼•ä¼˜åŒ–ï¼ˆä¸»ï¼‰ å»ºç«‹åˆé€‚çš„ç´¢å¼•ï¼Œä¸èƒ½å¤ªå¤šï¼Œä¹Ÿä¸èƒ½å¤ªå°‘ï¼ˆå¤ªå°‘å…¨è¡¨æ£€ç´¢ç”¨ä¸åˆ°ç´¢å¼•ï¼Œå¤ªå¤šå°±å†—ä½™ï¼Œç´¢å¼•å¯èƒ½æ¯”æ•°æ®è¿˜å¤šï¼Ÿï¼‰ è¡¨ç»“æ„ä¼˜åŒ– èŒƒå¼éµå¾ªï¼ˆé»˜è®¤3ï¼‰ é€‰æ‹©åˆé€‚ç±»å‹ï¼Œå°½å¯èƒ½ä¸è¦å­˜å‚¨null æ°´å¹³åˆ‡åˆ†ï¼Œæ ¹æ®å“ˆå¸Œå–æ¨¡ï¼Œå°†ä¸€ä¸ªè¡¨æ°´å¹³åˆ‡åˆ†ï¼Œå½“ä¸€ä¸ªè¡¨ä¸­æ•°æ®å¢å¤šæ—¶ï¼Œshardingï¼Œå°†æ•°æ®åˆ†ä¸åˆ°é›†ç¾¤çš„ä¸åŒèŠ‚ç‚¹ä¸Š å‚ç›´åˆ‡åˆ†ï¼Œå°†ä¸å¸¸ç”¨çš„å­—æ®µç‹¬ç«‹æ”¾ä¸€ä¸ªè¡¨ä¸­ é…ç½®ä¼˜åŒ– å¢åŠ TCPæ”¯æŒçš„é˜Ÿåˆ— MYSQLé…ç½®ç¼“å­˜æ± å¤§å° etc ç¡¬ä»¶ä¼˜åŒ–ï¼ˆæ¬¡ï¼‰ ç£ç›˜æ€§èƒ½ CPU å†…å­˜ ä¸»ä»å¤åˆ¶Replicationå°†æ•°æ®ä»ä¸€ä¸ªmysqlä¸­å¤åˆ¶åˆ°å…¶ä»–æœåŠ¡å™¨ä¸­ï¼Œé»˜è®¤å¼‚æ­¥åŒæ­¥ ä¸»æœåŠ¡å™¨binary log dumpçº¿ç¨‹å°†æ•°æ®æ›´æ”¹å†™å…¥æ—¥å¿— ä»æœåŠ¡å™¨IOçº¿ç¨‹è¯»å–æ•°æ®ä¿®æ”¹æ—¥å¿—ï¼Œå†™å…¥æœ¬åœ°relaylog ä»æœåŠ¡å™¨SQLçº¿ç¨‹ï¼Œè¯»å–relaylogè§£æå¹¶æ‰§è¡Œ whyé€‰æ‹©ä¸»ä»å¤åˆ¶ è¯»å†™åˆ†ç¦»ï¼Œä¸»å†™ä»è¯» ç¼“è§£é”ç«äº‰ ä»ä½¿ç”¨myisamæå‡æŸ¥è¯¢æ€§èƒ½ æ•°æ®å®æ—¶å¤‡ä»½ é™ä½å•ä¸ªIOè®¿é—®é¢‘ç‡ï¼ˆæ˜¾ç„¶ï¼‰ ç´¢å¼•åˆ†ç±» æ™®é€šç´¢å¼• å”¯ä¸€ç´¢å¼•ï¼Œç´¢å¼•å€¼å”¯ä¸€ï¼Œå¯ç©º ä¸»é”®ç´¢å¼•ï¼Œå”¯ä¸€ä¸å¯ç©º å¤åˆç´¢å¼• è¦†ç›–ç´¢å¼• èšé›†ç´¢å¼• åˆ†åŒºç´¢å¼• è™šæ‹Ÿç´¢å¼• MVCCmulti-version concurrency control æ¯è¡Œè®°å½•åé¢ä¿å­˜ä¸¤ä¸ªéšè—çš„åˆ—ç”¨æ¥å­˜å‚¨ç‰ˆæœ¬å·å’Œåˆ é™¤ç‰ˆæœ¬å· åˆ›å»ºç‰ˆæœ¬å·ï¼šåˆ›å»ºæ•°æ®æ—¶çš„äº‹åŠ¡ç‰ˆæœ¬å· åˆ é™¤ç‰ˆæœ¬å·ï¼šåŒä¸Š èŒƒå¼ä¾æ¬¡ä¸¥æ ¼ ç¬¬ä¸€èŒƒå¼ï¼šä¸å­˜åœ¨å¯åˆ†çš„åˆ— ç¬¬äºŒèŒƒå¼ï¼šä¸»é”® ç¬¬ä¸‰èŒƒå¼ï¼ˆé»˜è®¤ï¼‰å¤–é”® ç¬¬ è¡¨è¿æ¥æ–¹å¼å†…è¿æ¥ï¼šæ»¡è¶³è¿æ¥æ¡ä»¶çš„è¡Œç»„åˆèµ·æ¥ï¼ˆäº¤é›†ï¼‰ è‡ªç„¶è¿æ¥ ç­‰å€¼è¿æ¥ å¤–è¿æ¥ï¼šå·¦è¿æ¥ï¼Œå³è¿æ¥ï¼Œå…¨è¿æ¥ äº¤å‰è¿æ¥ï¼šç¬›å¡å°”ç§¯ï¼Œå³m*n å­˜å‚¨è¿‡ç¨‹å­˜å‚¨è¿‡ç¨‹æ˜¯äº‹å…ˆç»è¿‡ç¼–è¯‘å¹¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ä¸€æ®µSQLè¯­å¥çš„é›†åˆã€‚ æƒ³è¦å®ç°ç›¸åº”çš„åŠŸèƒ½æ—¶ï¼Œåªéœ€è¦è°ƒç”¨è¿™ä¸ªå­˜å‚¨è¿‡ç¨‹å°±è¡Œäº†ï¼ˆç±»ä¼¼äºå‡½æ•°ï¼Œè¾“å…¥å…·æœ‰è¾“å‡ºå‚æ•°ï¼‰ã€‚ ä¼˜ç‚¹ï¼š é¢„å…ˆç¼–è¯‘ï¼Œæ•ˆç‡é«˜ å°è£…æ“ä½œå‡å°‘ç½‘ç»œé€šä¿¡ å¯å¤ç”¨ å®‰å…¨æ€§é«˜ï¼Œå¯ä»¥è®©ä½æƒé™ç”¨æˆ·ç›´æ¥è°ƒç”¨ æ˜“ç»´æŠ¤ ç¼ºç‚¹ï¼ˆå¯ä»¥å¿½ç•¥ï¼‰ï¼š ç§»æ¤æ€§å·® è°ƒè¯•å¤æ‚ ä¿®æ”¹å¤æ‚ åˆ é™¤å‘½ä»¤ deleteåˆ é™¤å…¨è¡¨æ•°æ®æˆ–éƒ¨åˆ†æ•°æ®ï¼Œè§¦å‘æ—¥å¿—ï¼Œå¯è¿˜åŸ truncateæ¸…ç©ºæ‰€æœ‰æ•°æ®ä¸å¯å›æ»šï¼Œè‡ªå¢é‡ç½®ä¸º1ï¼Œæ— æ—¥å¿— dropåˆ é™¤æ•°æ®ï¼Œè¡¨ï¼Œç´¢å¼•ï¼Œçº¦æŸä¸èƒ½å›æ»šï¼Œæ— æ—¥å¿— è§†å›¾å–å‡ºæ¥çš„æ•°æ®å¯è§†åŒ–ï¼Œæ“ä½œä¸å½±å“æ•°æ®åº“ä¸­æ•°æ® 1234CREATE VIEW view_name ASSELECT column_name(s)FROM table_nameWHERE condition æ¸¸æ ‡å®šä½æŸ¥è¯¢è¿”å›ç»“æœé›†ä¸­çš„ç‰¹å®šè¡Œï¼Œä»¥å¯¹ç‰¹å®šè¡Œè¿›è¡Œæ“ä½œï¼Œåˆ†æ™®é€šæ¸¸æ ‡å’Œæ»šåŠ¨æ¸¸æ ‡ï¼ˆäº†è§£ï¼Œåº”ç”¨ä¸å¤šï¼‰ ACIDç‰¹æ€§åŸå­æ€§ï¼š ä¸€è‡´æ€§ï¼š éš”ç¦»æ€§ï¼š æŒä¹…æ€§ï¼š å¦‚ä½•rollbackå†™å…¥å‰ä¼šæœ‰redo logå’Œundo logï¼Œå¦‚æœå¤±è´¥ä¼šé€†å‘è¿˜åŸåˆ°äº‹åŠ¡å¼€å§‹ä¹‹å‰ B-Tree vs B+TreeåŸå› ï¼šæ¯ä¸ªèŠ‚ç‚¹èå…¥æ›´å¤šå…ƒç´ ï¼Œå¤šå‰ Bæ ‘å­˜å‚¨æ•°æ®ï¼š å¯¹æ¯”B+çš„Featureçœ‹ B+å­˜å‚¨æ•°æ®ï¼š å¼•å…¥åŸå› ï¼šç›¸å¯¹äºBTreeé«˜åº¦æ›´ä½ï¼ˆéå¶å­èŠ‚ç‚¹æ•°æ®æ›´å¤šï¼‰ï¼ŒæŸ¥è¯¢æ•ˆç‡æ›´é«˜ï¼ˆèšç°‡ç´¢å¼•+å¶èŠ‚ç‚¹é“¾ç¯ï¼‰ æŸ¥è¯¢æ•ˆç‡é«˜ å¦‚æŸ¥è¯¢3-7ï¼ŒæŸ¥åˆ°3åå¯ä»¥ç›´æ¥é“¾å¼éå†åˆ°7ï¼ˆå¤§äºå°äºç­‰æœç´¢æ•ˆç‡é«˜ï¼‰ keyéƒ½åœ¨å¶èŠ‚ç‚¹ï¼Œéå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼Œæé«˜æ•ˆç‡ åŒç­‰æƒ…å†µä¸‹ï¼Œä¸€èˆ¬B+æ›´çŸ® é»˜è®¤æ¯ä¸ªé¡µçš„å¤§å°ä¸º 16K,å³æ¯ä¸ªå¶å­èŠ‚ç‚¹ä¸ºä¸€é¡µ èšç°‡ç´¢å¼•clustered indexï¼Œå¶å­èŠ‚ç‚¹æ˜¯æ•°æ®ï¼Œæ•°æ®åœ¨ç‰©ç†ä¸Šæ˜¯æŒ‰ä¸»é”® key é¡ºåºå­˜æ”¾ éèšç°‡ç´¢å¼•secondary indexï¼Œå¶å­èŠ‚ç‚¹æ˜¯keyï¼Œæ•°æ®åœ¨ç‰©ç†ä¸ŠæŒ‰æ’å…¥çš„é¡ºåºå­˜æ”¾ çµé­‚æ‹·é—®Javaå¤šçº¿ç¨‹ çº¿ç¨‹æ± çš„åŸç†ï¼Œä¸ºä»€ä¹ˆè¦åˆ›å»ºçº¿ç¨‹æ± ï¼Ÿ çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»€ä¹ˆæ—¶å€™ä¼šå‡ºç°åƒµæ­»è¿›ç¨‹ï¼› ä»€ä¹ˆå®ç°çº¿ç¨‹å®‰å…¨ï¼Œå¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨ï¼› åˆ›å»ºçº¿ç¨‹æ± æœ‰å“ªå‡ ä¸ªæ ¸å¿ƒå‚æ•°ï¼Ÿå¦‚ä½•åˆç†é…ç½®çº¿ç¨‹æ± çš„å¤§å°ï¼Ÿ synchronizedã€volatileåŒºåˆ«ã€synchronizedé”ç²’åº¦ã€æ¨¡æ‹Ÿæ­»é”åœºæ™¯ã€åŸå­æ€§ä¸å¯è§æ€§ï¼› JVMç›¸å…³ JVMå†…å­˜æ¨¡å‹ï¼ŒGCæœºåˆ¶å’ŒåŸç†ï¼›GCåˆ†å“ªä¸¤ç§ï¼›ä»€ä¹ˆæ—¶å€™ä¼šè§¦å‘Full GCï¼Ÿ JVMé‡Œçš„æœ‰å‡ ç§classloaderï¼Œä¸ºä»€ä¹ˆä¼šæœ‰å¤šç§ï¼Ÿ ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æœºåˆ¶ï¼Ÿä»‹ç»ä¸€äº›è¿ä½œè¿‡ç¨‹ï¼ŒåŒäº²å§”æ´¾æ¨¡å‹çš„å¥½å¤„ï¼›(è¿™ä¸ªæˆ‘çœŸçš„ä¸ä¼šâ€¦) ä»€ä¹ˆæƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦ç ´ååŒäº²å§”æ´¾æ¨¡å‹ï¼› å¸¸è§çš„JVMè°ƒä¼˜æ–¹æ³•æœ‰å“ªäº›ï¼Ÿå¯ä»¥å…·ä½“åˆ°è°ƒæ•´å“ªä¸ªå‚æ•°ï¼Œè°ƒæˆä»€ä¹ˆå€¼ï¼Ÿ JVMè™šæ‹Ÿæœºå†…å­˜åˆ’åˆ†ã€ç±»åŠ è½½å™¨ã€åƒåœ¾æ”¶é›†ç®—æ³•ã€åƒåœ¾æ”¶é›†å™¨ã€classæ–‡ä»¶ç»“æ„æ˜¯å¦‚ä½•è§£æçš„ï¼› Javaæ‰©å±• çº¢é»‘æ ‘çš„å®ç°åŸç†å’Œåº”ç”¨åœºæ™¯ï¼› NIOæ˜¯ä»€ä¹ˆï¼Ÿé€‚ç”¨äºä½•ç§åœºæ™¯ï¼Ÿ Java9æ¯”Java8æ”¹è¿›äº†ä»€ä¹ˆï¼› HashMapå†…éƒ¨çš„æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿåº•å±‚æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ è¯´è¯´åå°„çš„ç”¨é€”åŠå®ç°ï¼Œåå°„æ˜¯ä¸æ˜¯å¾ˆæ…¢ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­æ˜¯å¦è¦é¿å…ä½¿ç”¨åå°„ï¼› è¯´è¯´è‡ªå®šä¹‰æ³¨è§£çš„åœºæ™¯åŠå®ç°ï¼› Listå’ŒMapåŒºåˆ«ï¼ŒArraylistä¸LinkedListåŒºåˆ«ï¼ŒArrayListä¸Vector åŒºåˆ«ï¼› Spring Spring AOPçš„å®ç°åŸç†å’Œåœºæ™¯ï¼›ï¼ˆåº”ç”¨åœºæ™¯å¾ˆé‡è¦ï¼‰ Spring beançš„ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸï¼› Spring Bootæ¯”Springåšäº†å“ªäº›æ”¹è¿›ï¼ŸSpring 5æ¯”Spring4åšäº†å“ªäº›æ”¹è¿›ï¼›ï¼ˆæƒ­æ„§å‘€ï¼Œæˆ‘ä»¬è¿˜åœ¨ç”¨Spring4ï¼Œé«˜ç‰ˆæœ¬çš„æ²¡å…³å¿ƒè¿‡ï¼‰ Spring IOCæ˜¯ä»€ä¹ˆï¼Ÿä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ SpringMVCã€åŠ¨æ€ä»£ç†ã€åå°„ã€AOPåŸç†ã€äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼› ä¸­é—´ä»¶ Dubboå®Œæ•´çš„ä¸€æ¬¡è°ƒç”¨é“¾è·¯ä»‹ç»ï¼› Dubboæ”¯æŒå‡ ç§è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Ÿ Dubbo ProvideræœåŠ¡æä¾›è€…è¦æ§åˆ¶æ‰§è¡Œå¹¶å‘è¯·æ±‚ä¸Šé™ï¼Œå…·ä½“æ€ä¹ˆåšï¼Ÿ Dubboå¯åŠ¨çš„æ—¶å€™æ”¯æŒå‡ ç§é…ç½®æ–¹å¼ï¼Ÿ äº†è§£å‡ ç§æ¶ˆæ¯ä¸­é—´ä»¶äº§å“ï¼Ÿå„äº§å“çš„ä¼˜ç¼ºç‚¹ä»‹ç»ï¼› æ¶ˆæ¯ä¸­é—´ä»¶å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„ä¸€è‡´æ€§å’Œå¦‚ä½•è¿›è¡Œæ¶ˆæ¯çš„é‡è¯•æœºåˆ¶ï¼Ÿ Spring Cloudç†”æ–­æœºåˆ¶ä»‹ç»ï¼› Spring Cloudå¯¹æ¯”ä¸‹Dubboï¼Œä»€ä¹ˆåœºæ™¯ä¸‹è¯¥ä½¿ç”¨Spring Cloudï¼Ÿ æ•°æ®åº“ é”æœºåˆ¶ä»‹ç»ï¼šè¡Œé”ã€è¡¨é”ã€æ’ä»–é”ã€å…±äº«é”ï¼› ä¹è§‚é”çš„ä¸šåŠ¡åœºæ™¯åŠå®ç°æ–¹å¼ï¼› äº‹åŠ¡ä»‹ç»ï¼Œåˆ†å¸ƒå¼äº‹ç‰©çš„ç†è§£ï¼Œå¸¸è§çš„è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Œä»€ä¹ˆäº‹ä¸¤é˜¶æ®µæäº¤ã€ä¸‰é˜¶æ®µæäº¤ï¼› MySQLè®°å½•binlogçš„æ–¹å¼ä¸»è¦åŒ…æ‹¬ä¸‰ç§æ¨¡å¼ï¼Ÿæ¯ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ MySQLé”ï¼Œæ‚²è§‚é”ã€ä¹è§‚é”ã€æ’å®ƒé”ã€å…±äº«é”ã€è¡¨çº§é”ã€è¡Œçº§é”ï¼› åˆ†å¸ƒå¼äº‹åŠ¡çš„åŸç†2é˜¶æ®µæäº¤ï¼ŒåŒæ­¥å¼‚æ­¥é˜»å¡éé˜»å¡ï¼› æ•°æ®åº“äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼ŒMySQLé»˜è®¤çš„éš”ç¦»çº§åˆ«ã€Springå¦‚ä½•å®ç°äº‹åŠ¡ã€ JDBCå¦‚ä½•å®ç°äº‹åŠ¡ã€åµŒå¥—äº‹åŠ¡å®ç°ã€åˆ†å¸ƒå¼äº‹åŠ¡å®ç°ï¼› SQLçš„æ•´ä¸ªè§£æã€æ‰§è¡Œè¿‡ç¨‹åŸç†ã€SQLè¡Œè½¬åˆ—ï¼› Redis Redisä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿredisé‡‡ç”¨å¤šçº¿ç¨‹ä¼šæœ‰å“ªäº›é—®é¢˜ï¼Ÿ Redisæ”¯æŒå“ªå‡ ç§æ•°æ®ç»“æ„ï¼› Redisè·³è·ƒè¡¨çš„é—®é¢˜ï¼› Rediså•è¿›ç¨‹å•çº¿ç¨‹çš„Rediså¦‚ä½•èƒ½å¤Ÿé«˜å¹¶å‘? Rediså¦‚ä½•ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼é”ï¼Ÿ Redisåˆ†å¸ƒå¼é”æ“ä½œçš„åŸå­æ€§ï¼ŒRediså†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ","raw":null,"content":null},{"title":"Docker","date":"2020-02-11T01:51:34.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"Docker/index.html","permalink":"http://zehai.info/Docker/index.html","excerpt":"","text":"hello worlddokcer containerdocker imagedocker swarm","raw":null,"content":null},{"title":"Java","date":"2020-01-29T14:12:19.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"Java/index.html","permalink":"http://zehai.info/Java/index.html","excerpt":"","text":"[TOC] é¢å‘å¯¹è±¡æ¦‚å¿µé¢å‘å¯¹è±¡ï¼ˆObject Orientedï¼‰ï¼Œå¯¹è±¡å°±æ˜¯çœŸå®ä¸–ç•Œä¸­çš„å®ä½“ï¼Œå¯¹è±¡ä¸å®ä½“æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ç°å®ä¸–ç•Œä¸­æ¯ä¸€ä¸ªå®ä½“éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæ˜¯ä¸€ç§å…·ä½“çš„æ¦‚å¿µã€‚æ¢å¥è¯è¯´ï¼Œå¯¹è±¡æ˜¯çœŸæ˜¯å­˜åœ¨å†…å­˜çš„ï¼Œå®ä¾‹åŒ–çš„ç±»ï¼Œæ¯”å¦‚ä½ æƒ³è¦çš„ç²¥ï¼Œç±»å°±æ˜¯é”…é‡Œçš„ç²¥ï¼Œå®ä¾‹åŒ–å°±æ˜¯ç››å‡ºæ¥æ”¾è¿›ç¢—ä¸­ï¼Œè€Œå¯¹è±¡å°±æ˜¯ä¸€ç¢—ç²¥ï¼ŒçœŸå®å­˜åœ¨ï¼Œå¯ä»¥è¢«ä½ æ“æ§ï¼Œåˆæˆ–è€…ä½ å¥³æœ‹å‹Aæ˜¯ä½ æ‹©å¶æ ‡å‡†ï¼ˆç±»ï¼‰å®ä¾‹åŒ–å‡ºæ¥çš„å¯¹è±¡ï¼ŒçœŸå®å­˜åœ¨ï¼Œä½†æ‹©å¶æ ‡å‡†å¹¶ä¸çœŸå®å­˜åœ¨ å¯¹è±¡VSè¿‡ç¨‹é¢å‘è¿‡ç¨‹ç¼–ç¨‹æ›´åŠ æ³¨é‡ä¸€ä¸ªç±»è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œæ˜¯ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œè€Œä¸éœ€è¦ä½ å»è€ƒè™‘è¿™ä¸ªå¯¹è±¡å…·ä½“æ€ä¹ˆå®ç°çš„ æ¢å¥è¯è¯´ï¼Œé¢å‘è¿‡ç¨‹å°±æ˜¯ç”Ÿäº§ä¸€è¾†æ±½è½¦ï¼Œé¢å‘å¯¹è±¡å°±æ˜¯ç›´æ¥ä¹°ä¸€è¾†æ±½è½¦å¼€ï¼Œä½ å¯ä»¥æŠŠæ±½è½¦é”€å”®å•†ç†è§£ä¸ºä¸€ä¸ªå¯¹è±¡çš„æä¾›å•†ï¼Œä¸ºä½ æä¾›æœåŠ¡ã€‚ ä¸‰å¤§æ ¸å¿ƒä¸‰å¤§æ ¸å¿ƒéƒ½æ˜¯å°½æœ€å¤§çš„å¯èƒ½å¤ç”¨ä»£ç  ç»§æ‰¿å®šä¹‰ç±»çš„åŸºçŸ³ï¼ˆå…±åŒçš„å±æ€§å’Œæ–¹æ³•ï¼‰ é¿å…å­ç±»é‡å¤å®šä¹‰ï¼Œå•ç»§æ‰¿ï¼ˆåªèƒ½ç»§æ‰¿ä¸€æ¬¡ï¼‰ï¼ å­ç±»æ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼ˆé™¤äº†privateä¿®é¥°çš„å±æ€§ä¸èƒ½æ‹¥æœ‰ï¼‰ ç›®çš„ï¼šä»£ç å¤ç”¨ é‡è½½ï¼šåŒåå‡½æ•°ä¸åŒå‚æ•° é‡å†™ï¼šé‡å†™æ–¹æ³•å®ç°æ–¹å¼ï¼ˆå­ç±»ä¸ªæ€§åŒ–ï¼‰ finalçš„å‡ ä¸ªé—®é¢˜ï¼š finalä¿®é¥°çš„ç±»ä¸å…è®¸ç»§æ‰¿ finalä¿®é¥°çš„æ–¹æ³•ä¸å…è®¸é‡å†™ final ä¿®é¥°å±æ€§ï¼Œåˆ™è¯¥ç±»çš„è¯¥å±æ€§ä¸ä¼šè¿›è¡Œéšå¼çš„åˆå§‹åŒ–ï¼Œæ‰€ä»¥ è¯¥final å±æ€§çš„åˆå§‹åŒ–å±æ€§å¿…é¡»æœ‰å€¼ï¼Œæˆ–åœ¨æ„é€ æ–¹æ³•ä¸­èµ‹å€¼(ä½†åªèƒ½é€‰å…¶ä¸€ï¼Œä¸”å¿…é¡»é€‰å…¶ä¸€ï¼Œå› ä¸ºæ²¡æœ‰é»˜è®¤å€¼ï¼)ï¼Œä¸”åˆå§‹åŒ–ä¹‹åå°±ä¸èƒ½æ”¹äº†ï¼Œåªèƒ½èµ‹å€¼ä¸€æ¬¡ final ä¿®é¥°å˜é‡ï¼Œåˆ™è¯¥å˜é‡çš„å€¼åªèƒ½èµ‹ä¸€æ¬¡å€¼ï¼Œåœ¨å£°æ˜å˜é‡çš„æ—¶å€™æ‰èƒ½èµ‹å€¼ï¼Œå³å˜ä¸ºå¸¸é‡ superçš„å‡ ä¸ªé—®é¢˜ï¼š è®¿é—®çˆ¶ç±»å¯¹è±¡ï¼Œå¦‚ï¼šsuper.age,super.eat() å­ç±»æ„é€ çš„è¿‡ç¨‹è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œé»˜è®¤è°ƒç”¨æ— å‚æ„é€ æ–¹æ³• å°è£…ï¼ˆset/getï¼‰å°è£…ï¼ˆEncapsulationï¼‰æ˜¯æŒ‡ä¸€ç§å°†æŠ½è±¡æ€§å‡½å¼æ¥å£çš„å®ç°ç»†èŠ‚éƒ¨ä»½åŒ…è£…ã€éšè—èµ·æ¥çš„æ–¹æ³•ã€‚ å°è£…å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªä¿æŠ¤å±éšœï¼Œé˜²æ­¢è¯¥ç±»çš„ä»£ç å’Œæ•°æ®è¢«å¤–éƒ¨ç±»å®šä¹‰çš„ä»£ç éšæœºè®¿é—®ã€‚ è¦è®¿é—®è¯¥ç±»çš„ä»£ç å’Œæ•°æ®ï¼Œå¿…é¡»é€šè¿‡ä¸¥æ ¼çš„æ¥å£æ§åˆ¶ã€‚ å°è£…æœ€ä¸»è¦çš„åŠŸèƒ½åœ¨äºæˆ‘ä»¬èƒ½ä¿®æ”¹è‡ªå·±çš„å®ç°ä»£ç ï¼Œè€Œä¸ç”¨ä¿®æ”¹é‚£äº›è°ƒç”¨æˆ‘ä»¬ä»£ç çš„ç¨‹åºç‰‡æ®µã€‚ é€‚å½“çš„å°è£…å¯ä»¥è®©ç¨‹å¼ç æ›´å®¹æ˜“ç†è§£ä¸ç»´æŠ¤ï¼Œä¹ŸåŠ å¼ºäº†ç¨‹å¼ç çš„å®‰å…¨æ€§ã€‚ å¤šæ€å¤šæ€å°±æ˜¯åŒä¸€ä¸ªæ¥å£ï¼Œä½¿ç”¨ä¸åŒçš„å®ä¾‹è€Œæ‰§è¡Œä¸åŒæ“ä½œ å¤šæ€æ€§æ˜¯å¯¹è±¡å¤šç§è¡¨ç°å½¢å¼çš„ä½“ç°ã€‚ ç°å®ä¸­ï¼Œæ¯”å¦‚æˆ‘ä»¬æŒ‰ä¸‹ F1 é”®è¿™ä¸ªåŠ¨ä½œï¼š å¦‚æœå½“å‰åœ¨ Flash ç•Œé¢ä¸‹å¼¹å‡ºçš„å°±æ˜¯ AS 3 çš„å¸®åŠ©æ–‡æ¡£ï¼› å¦‚æœå½“å‰åœ¨ Word ä¸‹å¼¹å‡ºçš„å°±æ˜¯ Word å¸®åŠ©ï¼› åœ¨ Windows ä¸‹å¼¹å‡ºçš„å°±æ˜¯ Windows å¸®åŠ©å’Œæ”¯æŒã€‚ åŸºæœ¬æ•°æ®ç±»å‹å†…ç½®æ•°æ®ç±»å‹ byteï¼ˆ-128~127å³2^7,é»˜è®¤0ï¼‰ shortï¼ˆ16ä½ï¼Œé»˜è®¤0ï¼‰ int(32ä½ï¼Œé»˜è®¤0) long(64ä½ï¼Œé»˜è®¤0L) floatï¼ˆ32ä½ï¼Œé»˜è®¤0.0fï¼‰ double(64ä½ï¼Œé»˜è®¤0.0d) boolean(1ä½é»˜è®¤false) charï¼ˆ16ä½0~65535ï¼‰ å¼•ç”¨æ•°æ®ç±»å‹å¼•ç”¨ä¸ºæŒ‡é’ˆçš„å¦ä¸€ç§å˜ç§ï¼Œå¼•ç”¨ç±»å‹æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œæ•°ç»„ å¸¸é‡finalä¿®é¥° æ‹†ç®±å’Œè£…ç®±why æ•°å­—å­—ç¬¦æ—¥æœŸç­‰åŸºæœ¬ç±»å‹å°è£…æˆå¯¹è±¡æ–¹ä¾¿å¤„ç†ï¼Œä½†æ˜¯å¯¹äºCPUæ¥è¯´ï¼Œä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡éœ€è¦å¾ˆå¤šçš„æŒ‡ä»¤ï¼Œå¯¹äºå†…å­˜æ¥è¯´ï¼Œæœ‰éœ€è¦å¾ˆå¤šçš„å†…å­˜ï¼Œæ€§èƒ½è‡ªç„¶å¾ˆä½ï¼Œæ‰€ä»¥è®¾è®¡è£…ç®±å’Œæ‹†ç®±ï¼Œæ˜¯çš„åŸºæœ¬ç±»å‹åœ¨ç¼–ç¨‹ä¸­å½“åšéå¯¹è±¡å¤„ç†ï¼Œåœ¨å¦å¤–åœºåˆæœ‰å½“åšå¯¹è±¡å¤„ç† intçš„è‡ªåŠ¨æ‹†ç®±å’Œè£…ç®±åªåœ¨-128åˆ°127èŒƒå›´ä¸­è¿›è¡Œï¼Œè¶…è¿‡è¯¥èŒƒå›´çš„ä¸¤ä¸ªintegerçš„ == åˆ¤æ–­æ˜¯ä¼šè¿”å›falseçš„ã€‚ å˜é‡å­˜å‚¨æ–¹å¼åŸºæœ¬ç±»å‹-&gt;æ ˆå†…å­˜ å¼•ç”¨ç±»å‹-&gt;å †å†…å­˜ Stringå’ŒåŒ…è£…ç±»stringåŸºç¡€å­—ç¬¦ä¸²å±äºå¯¹è±¡,charå±äºåŸºæœ¬ç±»å‹ï¼ŒString greetings=â€œhello,worldâ€ å¦‚æœå¦‚æœéœ€è¦å¯¹å­—ç¬¦ä¸²åšå¾ˆå¤šä¿®æ”¹ï¼Œé‚£ä¹ˆåº”è¯¥é€‰æ‹©ä½¿ç”¨ StringBuffer &amp; StringBuilder ç±»ã€‚é€šè¿‡appendå¯ä»¥ç›´æ¥ä¿®æ”¹ï¼ŒStringbuilderä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ä½†æ˜¯åˆé€Ÿåº¦ä¼˜åŠ¿ï¼Œå»ºè®®ä½¿ç”¨ï¼ŒStringBufferæ˜¯çº¿ç¨‹å®‰å…¨ appenè¿½åŠ  reverseåè½¬ deleteç§»é™¤ insertå°†intæ’å…¥ replaceæ›¿æ¢ç­‰ Stringæ˜¯final classä¸å¯å˜ä¸å¯ç»§æ‰¿ï¼Œç”±äºä¸å¯å˜ï¼Œæ‰€ä»¥æ‹¼æ¥å­—ç¬¦ä¸²ä¼šæœ‰å¾ˆå¤šä¸­é—´æ— ç”¨çš„å¯¹è±¡ï¼Œæ‰€ä»¥ä¼šå½±å“æ€§èƒ½ï¼Œä½†ä¸å½±å“æ­£å¸¸å°æ‰¹é‡çš„å­—ç¬¦ä¸²æ‹¼æ¥ StringBufferæ˜¯è§£å†³ä¸Šè¿°é—®é¢˜çš„æ–¹æ¡ˆï¼Œæä¾›appendå’Œ addæ–¹æ³•ï¼Œæ‹¼æ¥è‡³å°¾éƒ¨ï¼Œä»–çš„æœ¬è´¨æ˜¯ä¸€ä¸ªå¿åŸå®‰å…¨çš„å¯ä¿®æ”¹çš„å­—ç¬¦åºåˆ—ï¼Œæ·»åŠ äº†synchronizedï¼Œä½†ä¹Ÿä»˜å‡ºäº†æ€§èƒ½ä»£ä»· å¾ˆå¤šæƒ…å†µä¸‹å­—ç¬¦ä¸²æ‹¼æ¥æ— éœ€çº¿ç¨‹å®‰å…¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨StringBuilder StringBuffer å’Œ StringBuilder äºŒè€…éƒ½ç»§æ‰¿äº† AbstractStringBuilder ï¼Œåº•å±‚éƒ½æ˜¯åˆ©ç”¨å¯ä¿®æ”¹çš„charæ•°ç»„(JDK 9 ä»¥åæ˜¯ byteæ•°ç»„)ã€‚ stringåŸºæœ¬ç”¨æ³• String s1 = â€œmpptestâ€ String s2 = new String(); String s3 = new String(â€œmpptestâ€) â€œ==â€åˆ¤æ–­å¼•ç”¨å†…å®¹ï¼Œequalsåˆ¤æ–­å¼•ç”¨åœ°å€ stringç±»æºç 1234567891011public void intern () &#123; //2ï¼šstringçš„internä½¿ç”¨ //s1æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ¯”è¾ƒå€¼ã€‚s2æ˜¯stringå®ä¾‹ï¼Œæ¯”è¾ƒå®ä¾‹åœ°å€ //å­—ç¬¦ä¸²ç±»å‹ç”¨equalsæ–¹æ³•æ¯”è¾ƒæ—¶åªä¼šæ¯”è¾ƒå€¼ String s1 = &quot;a&quot;; String s2 = new String(&quot;a&quot;); //è°ƒç”¨internæ—¶,å¦‚æœs2ä¸­çš„å­—ç¬¦ä¸åœ¨å¸¸é‡æ± ï¼Œåˆ™åŠ å…¥å¸¸é‡æ± å¹¶è¿”å›å¸¸é‡çš„å¼•ç”¨ String s3 = s2.intern(); System.out.println(s1 == s2);//false System.out.println(s1 == s3);//true&#125; (æ­¤å¤„å¾…è¡¥å……) Stringå’ŒJVM Javaæ ˆï¼ˆçº¿ç¨‹ç§æœ‰ï¼‰ æ¯ä¸ªJavaè™šæ‹Ÿæœºçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„Javaè™šæ‹Ÿæœºæ ˆï¼ŒJavaè™šæ‹Ÿæœºæ ˆç”¨æ¥å­˜æ”¾æ ˆå¸§ï¼Œæ¯ä¸ªæ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™éƒ½ä¼šåŒæ—¶åˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼ˆStack Frameï¼‰ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨ç›´è‡³æ‰§è¡Œå®Œæˆçš„è¿‡ç¨‹ï¼Œå°±å¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºæ ˆä¸­ä»å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ Javaå †ï¼ˆçº¿ç¨‹å…±äº«ï¼‰å­˜æ”¾æ‰€æœ‰å¯¹è±¡ æ–¹æ³•åŒºï¼ˆçº¿ç¨‹å…±äº«ï¼‰ æ–¹æ³•åŒºåœ¨è™šæ‹Ÿæœºå¯åŠ¨çš„æ—¶å€™è¢«åˆ›å»ºï¼Œå®ƒå­˜å‚¨äº†æ¯ä¸€ä¸ªç±»çš„ç»“æ„ä¿¡æ¯ï¼Œä¾‹å¦‚è¿è¡Œæ—¶å¸¸é‡æ± ã€å­—æ®µå’Œæ–¹æ³•æ•°æ®ã€æ„é€ å‡½æ•°å’Œæ™®é€šæ–¹æ³•çš„å­—èŠ‚ç å†…å®¹ã€è¿˜åŒ…æ‹¬åœ¨ç±»ã€å®ä¾‹ã€æ¥å£åˆå§‹åŒ–æ—¶ç”¨åˆ°çš„ç‰¹æ®Šæ–¹æ³•ã€‚åœ¨JDK8ä¹‹å‰æ°¸ä¹…ä»£æ˜¯æ–¹æ³•åŒºçš„ä¸€ç§å®ç°ï¼Œè€ŒJDK8å…ƒç©ºé—´æ›¿ä»£äº†æ°¸ä¹…ä»£ï¼Œæ°¸ä¹…ä»£è¢«ç§»é™¤ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºå…ƒç©ºé—´æ˜¯æ–¹æ³•åŒºçš„ä¸€ç§å®ç°ã€‚ å¸¸é‡æ± ï¼ˆçº¿ç¨‹å…±äº«ï¼‰ å¸¸é‡æ± å¸¸è¢«åˆ†ä¸ºä¸¤å¤§ç±»ï¼šé™æ€å¸¸é‡æ± å’Œè¿è¡Œæ—¶å¸¸é‡æ± ã€‚ é™æ€å¸¸é‡æ± ä¹Ÿå°±æ˜¯Classæ–‡ä»¶ä¸­çš„å¸¸é‡æ± ï¼Œå­˜åœ¨äºClassæ–‡ä»¶ä¸­ã€‚ è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime Constant Poolï¼‰æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼Œå­˜æ”¾ä¸€äº›è¿è¡Œæ—¶å¸¸é‡æ•°æ®ã€‚ Stringä¸ºä»€ä¹ˆä¸å¯å˜å˜é‡åœ¨æ ˆä¸­ï¼Œæ•°æ®æœ¬èº«åœ¨å †ä¸­ï¼Œå¼•ç”¨ä¸å¯å˜ Stringå¸¸ç”¨å·¥å…·apache-commons finalå…³é”®å­—Javaç±»å’ŒåŒ…æŠ½è±¡ç±»å’Œæ¥å£ä»£ç å—å’Œä»£ç æ‰§è¡Œé¡ºåºè‡ªåŠ¨æ‹†ç®±è£…ç®±Classç±»å’ŒObjectç±»å¼‚å¸¸å›è°ƒåå°„æ³›å‹æšä¸¾ç±»æ³¨è§£IOæµå¤šçº¿ç¨‹å†…éƒ¨ç±»javacå’Œjavapjava8æ–°ç‰¹æ€§ç±»å’ŒåŒ…åºåˆ—åŒ–å’Œååºåˆ—åŒ–ç»§æ‰¿å°è£…å¤šæ€å®ç°åŸç†","raw":null,"content":null},{"title":"Like","date":"2020-10-12T07:19:53.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"Like/index.html","permalink":"http://zehai.info/Like/index.html","excerpt":"","text":"record something ğŸ¬Movieï¼ˆæ•°æ®æ¥æºï¼šæ·˜ç¥¨ç¥¨è®¢å•è®°å½•ï¼Œè‚¯å®šæœ‰é—æ¼çš„ï¼‰ 2020-10-11ï¼šå§œå­ç‰™ 2020-10-03ï¼šæˆ‘å’Œæˆ‘çš„å®¶ä¹¡ 2020-09-30ï¼šæ­»æ— å¯¹è¯ 2019-07-27ï¼šğŸŒŸå“ªå’ä¹‹é­”ç«¥é™ä¸– 2019-04-27ï¼šå¤ä»‡è€…è”ç›Ÿ4:ç»ˆå±€ä¹‹æˆ˜ 2019-02-17ï¼šç–¯ç‹‚çš„å¤–æ˜Ÿäºº 2019-02-07ï¼šæµæµªåœ°çƒ 2018-12-30ï¼šå¤©æ°”é¢„çˆ† 2018-07-28ï¼šè¥¿çº¢æŸ¿é¦–å¯Œ 2018-07-14ï¼šğŸŒŸæˆ‘ä¸æ˜¯è¯ç¥ 2017-06-18ï¼šğŸŒŸå¼‚å½¢ï¼šå¥‘çº¦ ä¸€äº›å¿˜äº†æ—¶é—´çš„ç”µå½± å¤–å‡ºå·é©¬ ğŸŒŸå¤§æŠ¤æ³• å½¼å²¸èŠ± ğŸŒŸè¥¿å°æ²³çš„å¤å¤© å¤ä»‡è€…è”ç›Ÿ3 é»‘è±¹ é›·ç¥3 ğŸ® Switch / Gameè´­ä¹°è®°å½• 2020-10-06ï¼šè¶…çº§é©¬é‡Œå¥¥å…„å¼ŸUè±ªåç‰ˆ 2020-09-10ï¼šovercooked 1+2 2020-09-06ï¼šå¥èº«ç¯å¤§å†’é™© 2020-09-04ï¼šswtichå›½è¡Œ ğŸ“±PhoneğŸ‘¦ 2020-07-13ï¼šFaceNote F1 4+32G Black 1499 2019-10-19ï¼šOneplus 7T 8+128G Blue 2999 2017-12-01ï¼šOneplus 5T 6+64G Black 2999 2015-05-01ï¼šMi 4s 3+64G White 1699 2014-07-12ï¼šVivo Y18L 2+8G White 2199 ğŸ‘¨ 2019-11-14ï¼šHuawei Mate 30 4G 6+128 Black 3999 2018-07-28ï¼šOneplus6 6+64G Black 3199 2017-xx-xxï¼šHuawei Mate 8 3+32G Silvery 2015-04-13ï¼šMeizu Blue 2+16G White 1199 More :Lenovo A830 and Nokia Series ğŸ‘© 2020-09-18ï¼šRealmeX7 Pro 8+128G C-Colour 1999 2018-02-13ï¼šMi 6 4+64G Blue 2099 2017-01-05ï¼šLenovo zuk z2 3+32G White 1199 2014-xx-xxï¼šVivo Y22L ğŸµ Music 2020-10-12","raw":null,"content":null},{"title":"KnowledgeTree","date":"2020-01-18T15:03:00.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"KnowledgeTree/index.html","permalink":"http://zehai.info/KnowledgeTree/index.html","excerpt":"","text":"[TOC] æ•°æ®ç»“æ„é˜Ÿåˆ—é˜Ÿåˆ—æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯è¿ç»­ç©ºé—´çš„æ•°ç»„ï¼ˆæ— éœ€ç©ºé—´å­˜æŒ‡é’ˆï¼Œä½†æ˜¯æ‰©å®¹åªèƒ½æ•´ä½“å¤åˆ¶åˆ°æ–°çš„å¤§æ•°ç»„ï¼Œè€Œä¸”çº¿æ€§ï¼ŒåŸºæœ¬é¦–ä½ç›¸è¿ä½¿ç”¨ï¼‰ï¼Œä¸€ç§æ˜¯é“¾è¡¨å½¢æ€ï¼ˆéœ€è¦é¢å¤–ç©ºé—´å­˜æŒ‡é’ˆï¼Œä½†æ‰©å®¹ç›´æ¥è¿½åŠ ï¼Œä»¥åŠå¢åˆ å…ƒç´ ä¸éœ€è¦åŠ¨å…¶ä»–å…ƒç´ ï¼‰ Javaä¸­é˜Ÿåˆ—åˆ†ä¸ºé˜»å¡å’Œéé˜»å¡ä¸¤ç§ï¼Œé¡¾åæ€ä¹‰ï¼Œé˜»å¡é˜Ÿåˆ—æ˜¯ä¸€ä¸ªä¸€ä¸ªé¡ºåºæ‰§è¡Œï¼Œéé˜»å¡é˜Ÿåˆ—æ˜¯å¹¶å‘çš„ éé˜»å¡é˜Ÿåˆ—ï¼šConcurrentLinkedQueue(æ— ç•Œçº¿ç¨‹å®‰å…¨)ï¼Œé‡‡ç”¨CASæœºåˆ¶ï¼ˆcompareAndSwapObjectåŸå­æ“ä½œï¼‰ã€‚ é˜»å¡é˜Ÿåˆ—ï¼šArrayBlockingQueue(æœ‰ç•Œ)ã€LinkedBlockingQueueï¼ˆæ— ç•Œï¼‰ã€DelayQueueã€PriorityBlockingQueueï¼Œé‡‡ç”¨é”æœºåˆ¶ï¼›ä½¿ç”¨ ReentrantLock é”ã€‚ é˜»å¡é˜Ÿåˆ—çš„DelayQueueå¯ä»¥åšæˆå»¶æ—¶é˜Ÿåˆ—ï¼Œå¯ä»¥è§è¿™ç¯‡æ–‡ç« â†’:å…³äºPromiseçš„æ€è€ƒï¼ŒåŸæœ¬Nodeéœ€è¦å€ŸåŠ©Promiseå¾ªç¯ä¸€æ¬¡åªå–ä¸€ä¸ªç‰¹æ€§çš„å»¶æ—¶é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨delayQueueç›´æ¥æ±‚è§£ é˜Ÿåˆ—é™¤äº†æ•°ç»„ï¼Œé“¾è¡¨çš„åŒºåˆ«ï¼Œé˜»å¡ åˆ†ç±»ï¼Œè¿˜å¯ä»¥å®‰å…¨åŒºåˆ†ï¼Œç®€å•æ¥è¯´å°±æ˜¯å¤šçº¿ç¨‹ä¸‹å¹¶å‘è¯»å†™æ˜¯å¦ä¼šå‡ºé—®é¢˜ã€‚ é›†åˆSet:æ³¨é‡ç‹¬ä¸€æ— äºŒçš„æ€§è´¨,è¯¥ä½“ç³»é›†åˆå¯ä»¥çŸ¥é“æŸç‰©æ˜¯å¦å·²è¿‘å­˜åœ¨äºé›†åˆä¸­,ä¸ä¼šå­˜å‚¨é‡å¤çš„å…ƒç´  hashset hashtable treeset é“¾è¡¨ã€æ•°ç»„é“¾è¡¨Listæ•°ç»„Arrayå…¶å®å’Œé˜Ÿåˆ—queueæ˜¯ä¸€ç§ä¸œè¥¿ï¼Œåªæ˜¯é˜Ÿåˆ—ï¼ˆæˆ–è€…å †æ ˆï¼‰æ˜¯ç‰¹æ®ŠåŒ–çš„é“¾è¡¨/æ•°ç»„ï¼Œä»–ä»¬é™åˆ¶äº†å…ƒç´ çš„è¿›å‡ºæ–¹å¼ï¼Œè§£å†³äº†é¡ºåºå¤„ç†/é€’å½’å‹æ ˆçš„é—®é¢˜ã€‚ ä¸è¿‡é“¾è¡¨ï¼Œæ•°ç»„åŒºåˆ«äºsetï¼Œå‰è€…æ˜¯æœ‰åºçš„ï¼Œsetæ˜¯æ— åºä¸é‡å¤çš„ Listä¸»è¦åˆ†ä¸º3ç±»ï¼ŒArrayListï¼Œ LinkedListå’ŒVectorï¼Œéƒ½ç»§æ‰¿è‡ªCollectionï¼Œåªæ˜¯å„è‡ªæœ‰è‡ªå·±çš„ç‰¹æ€§çš„æ–¹æ³• ArrayListæ˜¯ä¸€ä¸ªæ•°ç»„å®ç°çš„åˆ—è¡¨ï¼Œç”±äºæ•°æ®æ˜¯å­˜å…¥æ•°ç»„ä¸­çš„ï¼Œæ‰€ä»¥å®ƒçš„ç‰¹ç‚¹ä¹Ÿå’Œæ•°ç»„ä¸€æ ·ï¼ŒæŸ¥è¯¢å¾ˆå¿«ï¼Œä½†æ˜¯ä¸­é—´éƒ¨åˆ†çš„æ’å…¥å’Œåˆ é™¤å¾ˆæ…¢ LinkedListè¿˜æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ Vectorå°±æ˜¯ArrayListçš„çº¿ç¨‹å®‰å…¨ç‰ˆï¼Œå®ƒçš„æ–¹æ³•å‰éƒ½åŠ äº†synchronizedé”ï¼Œå…¶ä»–å®ç°é€»è¾‘éƒ½ç›¸åŒã€‚å¦‚æœå¯¹çº¿ç¨‹å®‰å…¨è¦æ±‚ä¸é«˜çš„è¯ï¼Œå¯ä»¥é€‰æ‹©ArrayListï¼Œæ¯•ç«Ÿsynchronizedä¹Ÿå¾ˆè€—æ€§èƒ½ å­—å…¸ã€å…³è”æ•°ç»„æ ˆæ ‘æ ‘ç»“æ„æ˜¯ä¸€å¯¹å¤šçš„æ•°æ®ç»“æ„ ä»–çš„åº”ç”¨åŒ…æ‹¬ï¼šçº¢é»‘æ ‘ï¼Œæ•°æ®åº“å­˜å‚¨ï¼Œç£ç›˜æ–‡ä»¶å­˜å‚¨ç­‰ äºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå¶å­èŠ‚ç‚¹ å®Œå…¨äºŒå‰æ ‘å¹³è¡¡äºŒå‰æ ‘äºŒå‰æŸ¥æ‰¾æ ‘BSTçº¢é»‘æ ‘Bç³»åˆ—æ ‘B-æ ‘æ˜¯ä¸€ç§å¤šè·¯æœç´¢æ ‘ å…³é”®å­—é›†åˆåˆ†å¸ƒåœ¨æ•´é¢—æ ‘ä¸­ï¼› ä»»ä½•ä¸€ä¸ªå…³é”®å­—å‡ºç°ä¸”åªå‡ºç°åœ¨ä¸€ä¸ªç»“ç‚¹ä¸­ï¼› æœç´¢æœ‰å¯èƒ½åœ¨éå¶å­ç»“ç‚¹ç»“æŸï¼› å…¶æœç´¢æ€§èƒ½ç­‰ä»·äºåœ¨å…³é”®å­—å…¨é›†å†…åšä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼› è‡ªåŠ¨å±‚æ¬¡æ§åˆ¶ B+ æ ‘æ˜¯ä¸€ç§æ ‘æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ä¸ªnå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹é€šå¸¸æœ‰å¤šä¸ªå­©å­ï¼Œä¸€æ£µB+æ ‘åŒ…å«æ ¹èŠ‚ç‚¹ã€å†…éƒ¨èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹ã€‚æ ¹èŠ‚ç‚¹å¯èƒ½æ˜¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šå­©å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ B+ æ ‘é€šå¸¸ç”¨äºæ•°æ®åº“å’Œæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿä¸­ B* æ ‘ æ˜¯B+æ ‘çš„å˜ä½“ï¼Œåœ¨B+æ ‘çš„éæ ¹å’Œéå¶å­ç»“ç‚¹å†å¢åŠ æŒ‡å‘å…„å¼Ÿçš„æŒ‡é’ˆï¼› LSMæ ‘LSMï¼ˆLog-Structured Merge-Treesï¼‰å’Œ B+ æ ‘ç›¸æ¯”ï¼Œæ˜¯ç‰ºç‰²äº†éƒ¨åˆ†è¯»çš„æ€§èƒ½æ¥æ¢å–å†™çš„æ€§èƒ½(é€šè¿‡æ‰¹é‡å†™å…¥)ï¼Œå®ç°è¯»å†™ä¹‹é—´çš„å¹³è¡¡ã€‚ Hbaseã€LevelDBã€Tairï¼ˆLong DBï¼‰ã€nessDB é‡‡ç”¨ LSM æ ‘çš„ç»“æ„ã€‚LSMå¯ä»¥å¿«é€Ÿå»ºç«‹ç´¢å¼•ã€‚ B+ æ ‘è¯»æ€§èƒ½å¥½ï¼Œä½†ç”±äºéœ€è¦æœ‰åºç»“æ„ï¼Œå½“keyæ¯”è¾ƒåˆ†æ•£æ—¶ï¼Œç£ç›˜å¯»é“é¢‘ç¹ï¼Œé€ æˆå†™æ€§èƒ½è¾ƒå·®ã€‚ LSM æ˜¯å°†ä¸€ä¸ªå¤§æ ‘æ‹†åˆ†æˆNæ£µå°æ ‘ï¼Œå…ˆå†™åˆ°å†…å­˜ï¼ˆæ— å¯»é“é—®é¢˜ï¼Œæ€§èƒ½é«˜ï¼‰ï¼Œåœ¨å†…å­˜ä¸­æ„å»ºä¸€é¢—æœ‰åºå°æ ‘ï¼ˆæœ‰åºæ ‘ï¼‰ï¼Œéšç€å°æ ‘è¶Šæ¥è¶Šå¤§ï¼Œå†…å­˜çš„å°æ ‘ä¼šflushåˆ°ç£ç›˜ä¸Šã€‚å½“è¯»æ—¶ï¼Œç”±äºä¸çŸ¥é“æ•°æ®åœ¨å“ªæ£µå°æ ‘ä¸Šï¼Œå› æ­¤å¿…é¡»éå†ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰æ‰€æœ‰çš„å°æ ‘ï¼Œä½†åœ¨æ¯é¢—å°æ ‘å†…éƒ¨æ•°æ®æ˜¯æœ‰åºçš„ã€‚ æç«¯çš„è¯´ï¼ŒåŸºäºLSMæ ‘å®ç°çš„HBaseçš„å†™æ€§èƒ½æ¯”MySQLé«˜äº†ä¸€ä¸ªæ•°é‡çº§ï¼Œè¯»æ€§èƒ½ä½äº†ä¸€ä¸ªæ•°é‡çº§ã€‚ ä¼˜åŒ–æ–¹å¼ï¼šBloom filter æ›¿ä»£äºŒåˆ†æŸ¥æ‰¾ï¼›compact å°æ•°ä½å¤§æ ‘ï¼Œæé«˜æŸ¥è¯¢æ€§èƒ½ã€‚ Hbase ä¸­ï¼Œå†…å­˜ä¸­è¾¾åˆ°ä¸€å®šé˜ˆå€¼åï¼Œæ•´ä½“flushåˆ°ç£ç›˜ä¸Šã€å½¢æˆä¸€ä¸ªæ–‡ä»¶ï¼ˆB+æ•°ï¼‰ï¼ŒHDFSä¸æ”¯æŒupdateæ“ä½œï¼Œæ‰€ä»¥Hbaseåšæ•´ä½“flushè€Œä¸æ˜¯merge updateã€‚flushåˆ°ç£ç›˜ä¸Šçš„å°æ ‘ï¼Œå®šæœŸä¼šåˆå¹¶æˆä¸€ä¸ªå¤§æ ‘ã€‚ BitSetå¸¸ç”¨ç®—æ³•æ’åº+æŸ¥æ‰¾å¸ƒéš†è¿‡æ»¤å™¨å­—ç¬¦ä¸²æ¯”è¾ƒDFS+BFSè´ªå¿ƒå›æº¯å‰ªæåŠ¨æ€è§„åˆ’æœ´ç´ è´å¶æ–¯æ¨èç®—æ³•æ¨èç®—æ³•é€šå¸¸è¢«åˆ†ä¸ºå››å¤§ç±» ååŒè¿‡æ»¤æ¨èç®—æ³• åŸºäºå†…å®¹çš„æ¨èç®—æ³• æ··åˆæ¨èç®—æ³• æµè¡Œåº¦æ¨èç®—æ³• æœ€å°ç”Ÿæˆæ ‘æœ€çŸ­è·¯å¾„ç®—æ³•å¹¶å‘æ¦‚å¿µå¤šçº¿ç¨‹çº¿ç¨‹å®‰å…¨äº‹åŠ¡é”æ“ä½œç³»ç»ŸåŸç†CPUè¿›ç¨‹çº¿ç¨‹åç¨‹é€šä¿¡Linuxè®¾è®¡æ¨¡å¼å…­å¤§åŸåˆ™ å¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•å¼€æ”¾,å¯¹ä¿®æ”¹å…³é—­ï¼Œå¤šä½¿ç”¨æŠ½è±¡ç±»å’Œæ¥å£ã€‚ é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šåŸºç±»å¯ä»¥è¢«å­ç±»æ›¿æ¢ï¼Œä½¿ç”¨æŠ½è±¡ç±»ç»§æ‰¿,ä¸ä½¿ç”¨å…·ä½“ç±»ç»§æ‰¿ã€‚ ä¾èµ–å€’è½¬åŸåˆ™ï¼šè¦ä¾èµ–äºæŠ½è±¡,ä¸è¦ä¾èµ–äºå…·ä½“ï¼Œé’ˆå¯¹æ¥å£ç¼–ç¨‹,ä¸é’ˆå¯¹å®ç°ç¼–ç¨‹ã€‚ æ¥å£éš”ç¦»åŸåˆ™ï¼šä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£,æ¯”ä½¿ç”¨å•ä¸ªæ¥å£å¥½ï¼Œå»ºç«‹æœ€å°çš„æ¥å£ã€‚ è¿ªç±³ç‰¹æ³•åˆ™ï¼šä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å°½å¯èƒ½å°‘åœ°ä¸å…¶ä»–å®ä½“å‘ç”Ÿç›¸äº’ä½œç”¨ï¼Œé€šè¿‡ä¸­é—´ç±»å»ºç«‹è”ç³»ã€‚ åˆæˆå¤ç”¨åŸåˆ™ï¼šå°½é‡ä½¿ç”¨åˆæˆ/èšåˆ,è€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚ 23ç§å¸¸è§è®¾è®¡æ¨¡å¼åº”ç”¨åœºæ™¯å•ä¾‹æ¨¡å¼å•ä¾‹æ¨¡å¼ï¼šå•ä¾‹æ¨¡å¼çš„æ„æ€å°±æ˜¯åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚å•ä¾‹æ¨¡å¼ç¡®ä¿æŸä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œè€Œä¸”è‡ªè¡Œå®ä¾‹åŒ–å¹¶å‘æ•´ä¸ªç³»ç»Ÿæä¾›è¿™ä¸ªå®ä¾‹ã€‚è¿™ä¸ªç±»ç§°ä¸ºå•ä¾‹ç±»ã€‚ å•ä¾‹æ¨¡å¼æœ‰ä¸‰ç§ï¼š æ‡’æ±‰å¼å•ä¾‹ï¼šç¬¬ä¸€æ¬¡è°ƒç”¨åˆå§‹åŒ–ï¼Œä½†åˆå§‹åŒ–æ—¶éœ€åŠ é” 12345678910public class Singleton&#123; private static Singleton singleton; private Singleton &#123;&#125;; public static synchronized Sigleton getInstance&#123; if(singleton ==null)&#123; singleton=new Singleton(); &#125; retrun singleton; &#125;&#125; é¥¿æ±‰å¼å•ä¾‹:ç±»åŠ è½½åˆå§‹åŒ–ï¼Œåç»­ä¸€ç›´å­˜åœ¨ï¼Œæµªè´¹å†…å­˜ 1234567public class Singleton&#123; private static final Singleton SINGLETON&#x3D;new Singleton(); private Signleton()&#123; &#125; public static Signleton getInstance()&#123; retrun SINGLETON; &#125;&#125; ç™»è®°å¼å•ä¾‹:å†…éƒ¨ç±»åœ¨å¤–éƒ¨è°ƒç”¨åŠ è½½ï¼Œæ— éœ€ç”¨é” 123456789public class Singleton&#123; private Sigleton()&#123;&#125; public static Singleton getInstance()&#123; retrun Holder.SINGLETON; &#125; private static class Holder&#123; private static final Singleton SINGLETON&#x3D;new Singleton(); &#125;&#125; è´£ä»»é“¾æ¨¡å¼MVCIOCAOPUMLå¾®æœåŠ¡è¿ç»´ç›‘æ§APMç»Ÿè®¡åˆ†ææŒç»­ç»§æ‰¿CI/CDJenkinsç¯å¢ƒåˆ†ç¦»è‡ªåŠ¨åŒ–è¿ç»´Ansiblepuppetchefæµ‹è¯•TDDç†è®ºå•å…ƒæµ‹è¯•å‹åŠ›æµ‹è¯•å…¨é“¾è·¯å‹æµ‹A/Bã€ç°åº¦ã€è“ç»¿æµ‹è¯•##è™šæ‹ŸåŒ– KVMXenOpenVZå®¹å™¨åŒ–Dockeräº‘æŠ€æœ¯OpenstackDevOpsæ–‡æ¡£ç®¡ç†ä¸­é—´ä»¶Web ServerNginxOpenRestyTengineApache HttpdTomcatJettyç¼“å­˜æœ¬åœ°ç¼“å­˜å®¢æˆ·ç«¯ç¼“å­˜æœåŠ¡ç«¯ç¼“å­˜Webç¼“å­˜MemcachedRedisæ¶æ„å›æ”¶ç­–ç•¥Tairæ¶ˆæ¯é˜Ÿåˆ—æ¶ˆæ¯æ€»çº¿æ¶ˆæ¯é¡ºåºRabbitMQRocketMQActiveMQKafkaRedisZeroMQå®šæ—¶è°ƒåº¦å•æœºå®šæ—¶è°ƒåº¦åˆ†å¸ƒå¼å®šæ—¶è°ƒåº¦RPCRPC = Remote Procedure Call ç›®çš„ï¼šè°ƒç”¨è¿œç¨‹æœåŠ¡æ¥å£å¦‚åŒè°ƒç”¨æœ¬åœ°ï¼ˆæ–¹ä¾¿æœ¬åœ°å¼€å‘ï¼ŒåŠæœåŠ¡é—´è°ƒç”¨ï¼‰ æ„æˆï¼šserverï¼Œclientï¼Œregistryï¼ˆRedis,zookeeper,consul,moreï¼‰ æŠ€æœ¯ï¼šåŠ¨æ€ä»£ç†ï¼ˆCgLib,Javasisitï¼‰ï¼Œåºåˆ—åŒ–ï¼ŒNIOï¼ˆNettyï¼‰ï¼Œæ³¨å†Œä¸­å¿ƒ æµç¨‹ï¼š clentè°ƒç”¨æœ¬åœ°æ–¹æ³• client stubï¼Œå°è£…æˆä¸ºç½‘ç»œä¼ è¾“æ¶ˆæ¯ä½“ client stub ä»registryè·å–åœ°å€å‘é€ serverè§£ç ï¼Œè°ƒç”¨æœ¬åœ°æ–¹æ³•ï¼Œè¿”å›åˆ°server stub server stub ç»“æœæ‰“åŒ…è¿”å›ç»™client clientè§£ç ï¼Œè·å–ç»“æœ ä¼˜ç§€æ¡†æ¶ï¼š æ¡†æ¶ ç®€ä»‹ å¼€å‘è¯­è¨€ åˆ†å¸ƒå¼ å¤šåºåˆ—åŒ–æ¡†æ¶æ”¯æŒ Dubbo é˜¿é‡Œï¼ŒJavaé«˜æ€§èƒ½ä¼˜ç§€çš„æœåŠ¡æ¡†æ¶ java âˆš âˆš Motan å¾®åšï¼ŒJavaæ¡†æ¶ java âˆš âˆš rpcx Go go âˆš âˆš gRPC Googleï¼ŒåŸºäºprotoBufåºåˆ—åŒ–ï¼Œä¸æ˜¯åˆ†å¸ƒå¼ å¤šè¯­è¨€ Ã— Ã— thrift Apacheï¼Œè·¨è¯­è¨€ å¤šè¯­è¨€ Ã— Ã— DubboThriftgRPCæ•°æ®ä¸­é—´ä»¶Sharding Jdbcæ—¥å¿—ç³»ç»Ÿæ—¥å¿—æœé›†é…ç½®ä¸­å¿ƒAPIç½‘å…³ç½‘ç»œåè®®OSITCPIPHTTPHTTP2HTTPSç½‘ç»œæ¨¡å‹EpollJava NIOKqueueè¿æ¥å’ŒçŸ­è¿æ¥æ¡†æ¶é›¶æ‹·è´åºåˆ—åŒ–åºåˆ—åŒ–æ˜¯äºŒè¿›åˆ¶åè®® Hessian Protobuf Hessianprotobufæ•°æ®åº“æœç´¢å¼•æ“æ€§èƒ½å¤§æ•°æ®å®‰å…¨å¸¸ç”¨å¼€æºæ¡†æ¶åˆ†å¸ƒå¼è®¾è®¡è®¾è®¡æ€æƒ³+å¼€å‘æ¨¡å¼é¡¹ç›®ç®¡ç†é€šç”¨ä¸šåŠ¡æœ¯è¯­æŠ€æœ¯è¶‹åŠ¿æ”¿ç­–æ³•è§„æ¶æ„å¸ˆç´ è´¨å›¢é˜Ÿç®¡ç†èµ„è®¯æŠ€æœ¯èµ„æº","raw":null,"content":null},{"title":"Kubernates","date":"2020-03-31T02:48:01.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"Kubernates/index.html","permalink":"http://zehai.info/Kubernates/index.html","excerpt":"","text":"0.Hello Minikube1.Basics1.01.1Create a Cluster master ç®¡ç†cluster node ä¸ºå·¥ä½œèŠ‚ç‚¹ï¼Œæ‹¥æœ‰kubeletï¼ˆç®¡ç†Nodeã€ä¸masteræ²Ÿé€šçš„agentï¼‰ minikubeï¼šæä¾›k8såŸºæœ¬çš„æ“ä½œï¼Œå¦‚start,stop,delete,status minikube â€“help minikube start kubectlï¼šä¸k8säº¤äº’ï¼Œkubectl controls the Kubernetes cluster manager kubectl â€“help 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556Basic Commands (Beginner): create Create a resource from a file or from stdin. expose Take a replication controller, service, deployment or pod and expose it as a new Kubernetes Service run Run a particular image on the cluster set Set specific features on objectsBasic Commands (Intermediate): explain Documentation of resources get Display one or many resources edit Edit a resource on the server delete Delete resources by filenames, stdin, resources and names, or by resources and label selectorDeploy Commands: rollout Manage the rollout of a resource scale Set a new size for a Deployment, ReplicaSet or Replication Controller autoscale Auto-scale a Deployment, ReplicaSet, or ReplicationControllerCluster Management Commands: certificate Modify certificate resources. cluster-info Display cluster info top Display Resource (CPU/Memory/Storage) usage. cordon Mark node as unschedulable uncordon Mark node as schedulable drain Drain node in preparation for maintenance taint Update the taints on one or more nodesTroubleshooting and Debugging Commands: describe Show details of a specific resource or group of resources logs Print the logs for a container in a pod attach Attach to a running container exec Execute a command in a container port-forward Forward one or more local ports to a pod proxy Run a proxy to the Kubernetes API server cp Copy files and directories to and from containers. auth Inspect authorizationAdvanced Commands: diff Diff live version against would-be applied version apply Apply a configuration to a resource by filename or stdin patch Update field(s) of a resource using strategic merge patch replace Replace a resource by filename or stdin wait Experimental: Wait for a specific condition on one or many resources. convert Convert config files between different API versions kustomize Build a kustomization target from a directory or a remote url.Settings Commands: label Update the labels on a resource annotate Update the annotations on a resource completion Output shell completion code for the specified shell (bash or zsh)Other Commands: api-resources Print the supported API resources on the server api-versions Print the supported API versions on the server, in the form of &quot;group/version&quot; config Modify kubeconfig files plugin Provides utilities for interacting with plugins. version Print the client and server version information $ kubectl cluster-infoKubernetes master is running at https://172.17.0.14:8443KubeDNS is running at https://172.17.0.14:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy $ kubectl get nodesNAME STATUS ROLES AGE VERSIONminikube NotReady master 9s v1.17.3 1.2deploy an Appå¦‚æœä½ é…ç½®äº†k8s Deployment configurationï¼Œä½ å¯ä»¥éƒ¨ç½²å®¹å™¨åº”ç”¨åœ¨k8s clusterä¸Šã€‚å½“ä½ é…ç½®äº†Deployment ï¼Œk8s masterä¼šschedule ï¼ˆæŒ‰æ—¶ï¼Ÿï¼‰é€šçŸ¥clusterä¸­æ‰€æœ‰çš„nodeèŠ‚ç‚¹ä¸Šçš„åº”ç”¨ã€‚ å½“ä½ çš„app å®ä¾‹åˆ›å»ºçš„æ—¶å€™ï¼Œk8s Deployment Controllerä¼šæŒç»­ç›‘æµ‹ï¼Œå¦‚æœéƒ¨ç½²çš„èŠ‚ç‚¹æ•…éšœï¼ŒDeployment Controllerä¼šç»™appé‡æ–°æ¢ä¸ªèŠ‚ç‚¹ ä½ å¯ä»¥é€šè¿‡kubectlæ¥create &amp; manage Deploymentï¼Œkubectlä½¿ç”¨k8s API æ¥å’Œclusteräº¤äº’ã€‚ å½“ä½ åˆ›å»ºä¸€ä¸ªDeploymentæ—¶å€™ï¼Œä½ éœ€è¦æŒ‡å®šappæ‰€ç”¨çš„å®¹å™¨é•œåƒå’Œéœ€è¦è¿è¡Œçš„å‰¯æœ¬replcasï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åˆ›å»ºåæ›´æ–°è¿™äº›ä¿¡æ¯ 12345678910111213141516171819202122232425$ kubectl get nodesNAME STATUS ROLES AGE VERSIONminikube NotReady master 15s v1.17.3$ kubectl create deployment kubernetes-bootcamp --image=gcr.io/google-samples/kubernetes-bootcamp:v1deployment.apps/kubernetes-bootcamp created//æŒ‡å®šdeploymentname å’Œimage Location//1.å¯»æ‰¾åˆé€‚nodeéƒ¨ç½² 2.å‡†å¤‡éƒ¨ç½² 3.é…ç½® æ–°èŠ‚ç‚¹é‡å¯çš„é…ç½®//kubectlå¯ä»¥åˆ›å»ºproxyæ¥å¯¹å¤–æš´éœ²ä½ çš„æœåŠ¡$ kubectl proxyStarting to serve on 127.0.0.1:8001$ curl http://localhost:8001/version&#123; &quot;major&quot;: &quot;1&quot;, &quot;minor&quot;: &quot;17&quot;, &quot;gitVersion&quot;: &quot;v1.17.3&quot;, &quot;gitCommit&quot;: &quot;06ad960bfd03b39c8310aaf92d1e7c12ce618213&quot;, &quot;gitTreeState&quot;: &quot;clean&quot;, &quot;buildDate&quot;: &quot;2020-02-11T18:07:13Z&quot;, &quot;goVersion&quot;: &quot;go1.13.6&quot;, &quot;compiler&quot;: &quot;gc&quot;, &quot;platform&quot;: &quot;linux/amd64&quot;&#125; 1.3 Explore App1.3.1Podså½“ä½ create Deploymentæ—¶ï¼Œk8sä¼šåˆ›å»ºä¸€ä¸ªPodæ¥æ‰˜ç®¡appå®ä¾‹ï¼ŒPodæ˜¯k8s abstractionï¼Œä»£è¡¨ä¸€ç»„ï¼ˆå•ä¸ªæˆ–å¤šä¸ªï¼‰app å®¹å™¨ï¼Œå…±äº«èµ„æºï¼Œèµ„æºåŒ…æ‹¬ï¼š å…±äº«å†…å­˜â€”&gt;as Volumes ç½‘ç»œ(as a unique cluster ip address) ä¿¡æ¯ï¼ˆå¦‚ä½•run each containerï¼‰ podå¯ä»¥å…³è”å¤šä¸ªappå®¹å™¨ï¼Œå°†ä»–ä»¬è§†ä½œä¸€ä¸ªæœåŠ¡ï¼Œä»–ä»¬æœ‰ç›¸åŒçš„ipåœ°å€ï¼Œç›¸åŒçš„ç«¯å£ï¼Œæ€»æ˜¯co-located &amp; co-scheduledï¼Œå¹¶åˆ†äº«ä¸Šä¸‹æ–‡ podsæ˜¯k8sçš„æœ€å°å•å…ƒï¼Œå½“ä½ create deployment æ—¶ä¼šåˆ›å»ºpodsï¼Œå®¹å™¨åœ¨podså†…éƒ¨ï¼Œæ¯ä¸ªpodséƒ½ç»‘å®šåœ¨åˆšåˆ›å»ºçš„nodeä¸Šï¼Œç›´åˆ°nodeç»ˆæ­¢ï¼Œå¦‚æœnode downåˆ™ä¼šåœ¨åˆ«çš„å¯ç”¨çš„nodeä¸Šéƒ¨ç½²ç›¸åŒçš„pod 1.3.2nodepodå§‹ç»ˆè¿è¡Œåœ¨nodeä¸Šã€‚nodeæ˜¯ä¾èµ–äºmasterï¼Œè¿è¡Œåœ¨vmæˆ–è€…ç‰©ç†æœºä¸Šçš„worker machineã€‚ä¸€ä¸ªnodeå¯ä»¥æ‹¥æœ‰å¤šä¸ªPodsï¼Œå¹¶ä¸”è¢«masterç®¡ç†è€… 1.3.3æ’é™¤æ•…éšœ kubectl get - list resources kubectl describe - show detailed information about a resource kubectl logs - print the logs from a container in a pod kubectl exec - execute a command on a container in a pod 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465$ kubectl describe podsName: kubernetes-bootcamp-765bf4c7b4-dnm2jNamespace: defaultPriority: 0Node: minikube&#x2F;172.17.0.10Start Time: Tue, 31 Mar 2020 05:54:38 +0000Labels: pod-template-hash&#x3D;765bf4c7b4 run&#x3D;kubernetes-bootcampAnnotations: &lt;none&gt;Status: RunningIP: 172.18.0.5IPs: IP: 172.18.0.5Controlled By: ReplicaSet&#x2F;kubernetes-bootcamp-765bf4c7b4Containers: kubernetes-bootcamp: Container ID: docker:&#x2F;&#x2F;2c2a5074ee7c87a4bdfe6b73db2dab8168d407642e2c76df8edd56b45441ec0b Image: gcr.io&#x2F;google-samples&#x2F;kubernetes-bootcamp:v1 Image ID: docker-pullable:&#x2F;&#x2F;jocatalin&#x2F;kubernetes-bootcamp@sha256:0d6b8ee63bb57c5f5b6156f446b3bc3b3c143d233037f3a2f00e279c8fcc64af Port: 8080&#x2F;TCP Host Port: 0&#x2F;TCP State: Running Started: Tue, 31 Mar 2020 05:54:41 +0000 Ready: True Restart Count: 0 Environment: &lt;none&gt; Mounts: &#x2F;var&#x2F;run&#x2F;secrets&#x2F;kubernetes.io&#x2F;serviceaccount from default-token-wk8gk (ro)Conditions: Type Status Initialized True Ready True ContainersReady True PodScheduled TrueVolumes: default-token-wk8gk: Type: Secret (a volume populated by a Secret) SecretName: default-token-wk8gk Optional: falseQoS Class: BestEffortNode-Selectors: &lt;none&gt;Tolerations: node.kubernetes.io&#x2F;not-ready:NoExecute for 300s node.kubernetes.io&#x2F;unreachable:NoExecute for 300sEvents: &lt;none&gt;kubectl logs $POD_NAME&#x2F;&#x2F;exec$ kubectl exec $POD_NAME envPATH&#x3D;&#x2F;usr&#x2F;local&#x2F;sbin:&#x2F;usr&#x2F;local&#x2F;bin:&#x2F;usr&#x2F;sbin:&#x2F;usr&#x2F;bin:&#x2F;sbin:&#x2F;binHOSTNAME&#x3D;kubernetes-bootcamp-765bf4c7b4-9xxqtKUBERNETES_PORT_443_TCP_PROTO&#x3D;tcpKUBERNETES_PORT_443_TCP_PORT&#x3D;443KUBERNETES_PORT_443_TCP_ADDR&#x3D;10.96.0.1KUBERNETES_SERVICE_HOST&#x3D;10.96.0.1KUBERNETES_SERVICE_PORT&#x3D;443KUBERNETES_SERVICE_PORT_HTTPS&#x3D;443KUBERNETES_PORT&#x3D;tcp:&#x2F;&#x2F;10.96.0.1:443KUBERNETES_PORT_443_TCP&#x3D;tcp:&#x2F;&#x2F;10.96.0.1:443NPM_CONFIG_LOGLEVEL&#x3D;infoNODE_VERSION&#x3D;6.3.1HOME&#x3D;&#x2F;root$ kubectl exec -ti $POD_NAME bashroot@kubernetes-bootcamp-765bf4c7b4-9xxqt:&#x2F;# 1.4 Explor App Publicpodså…·å¤‡ç”Ÿå‘½å‘¨æœŸï¼Œå½“workerèŠ‚ç‚¹ dieçš„æ—¶å€™ï¼Œå…¶ä¸Šçš„podsä¹Ÿä¼šlostã€‚å‰¯æœ¬é›†ï¼ˆreplicaSetï¼‰ä¼šæ•…éšœæ—¶åˆ›å»ºæ–°çš„Podsä¿éšœç¨‹åºæ­£å¸¸è¿è¡Œ k8sæœ‰ä¸€ä¸ªæŠ½è±¡çš„serviceæ˜¯å®šä¹‰äº†podsé€»è¾‘é›†åˆå’Œè®¿é—®Podçš„ç­–ç•¥ï¼Œå®ƒä½¿å¾—podsä¹‹é—´è§£è€¦ï¼Œä½¿ç”¨YAML or JSONå®ç°ã€‚podsé›†åˆé€šå¸¸ç”±LabelSelectorå†³å®šã€‚å…¬å¼€æœåŠ¡å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹æ³•ï¼š clusterIP(default)å†…éƒ¨è®¿é—® nodePort LoadBalancer ExternalName é€šè¿‡æ ‡ç­¾çš„æ–¹å¼ï¼Œå¯ä»¥è¿›è¡Œé€»è¾‘æ ‡è®° æ ‡è®°ç¯å¢ƒENV æ ‡è®°ç‰ˆæœ¬ åˆ†ç±»object 123456789101112131415161718192021222324252627282930313233343536$ kubectl expose deployment&#x2F;kubernetes-bootcamp --type&#x3D;&quot;NodePort&quot; --port 8080service&#x2F;kubernetes-bootcamp exposed$ kubectl describe deploymentName: kubernetes-bootcampNamespace: defaultCreationTimestamp: Wed, 01 Apr 2020 08:44:09 +0000Labels: run&#x3D;kubernetes-bootcampAnnotations: deployment.kubernetes.io&#x2F;revision: 1Selector: run&#x3D;kubernetes-bootcampReplicas: 1 desired | 1 updated | 1 total | 1 available | 0 unavailableStrategyType: RollingUpdateMinReadySeconds: 0RollingUpdateStrategy: 25% max unavailable, 25% max surgePod Template: Labels: run&#x3D;kubernetes-bootcamp Containers: kubernetes-bootcamp: Image: gcr.io&#x2F;google-samples&#x2F;kubernetes-bootcamp:v1 Port: 8080&#x2F;TCP Host Port: 0&#x2F;TCP Environment: &lt;none&gt; Mounts: &lt;none&gt; Volumes: &lt;none&gt;Conditions: Type Status Reason ---- ------ ------ Available True MinimumReplicasAvailable Progressing True NewReplicaSetAvailableOldReplicaSets: &lt;none&gt;NewReplicaSet: kubernetes-bootcamp-765bf4c7b4 (1&#x2F;1 replicas created)Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal ScalingReplicaSet 5m44s deployment-controller Scaled up replica set kubernetes-bootcamp-765bf4c7b4 to 1 1.5 Scale App1.6 Update App2.Configuration3.Stateless Application4.Stateful Application5.Clusters6.Services","raw":null,"content":null},{"title":"Node.js","date":"2019-04-05T02:49:57.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"Nodejs/index.html","permalink":"http://zehai.info/Nodejs/index.html","excerpt":"","text":"what Node.jsÂ® is a JavaScript runtime built on Chromeâ€™s V8 JavaScript engine. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient. Node.jsâ€™ package ecosystem, npm, is the largest ecosystem of open source libraries in the world. Nodeæ˜¯JavaScriptè¿è¡Œç¯å¢ƒ äº‹ä»¶é©±åŠ¨ï¼Œéé˜»å¡IOæ¨¡å‹ ä½¿ç”¨npmç®¡ç†åŒ… åŸºæœ¬åŸç† Chrome V8 æ˜¯ Google å‘å¸ƒçš„å¼€æº JavaScript å¼•æ“ï¼Œé‡‡ç”¨ C/C++ ç¼–å†™ï¼Œåœ¨ Google çš„ Chrome æµè§ˆå™¨ä¸­è¢«ä½¿ç”¨ã€‚Chrome V8 å¼•æ“å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä¹Ÿå¯ä»¥ç”¨æ¥åµŒå…¥åˆ° C/C++ åº”ç”¨ç¨‹åºä¸­æ‰§è¡Œã€‚ Event Loop äº‹ä»¶å¾ªç¯ï¼ˆç”± libuv æä¾›ï¼‰ Thread Pool çº¿ç¨‹æ± ï¼ˆç”± libuv æä¾›ï¼‰ å¸¦æ¥çš„å¥½å¤„ ç”¨æˆ·ä½“éªŒ èµ„æºåˆ†é… Blocking ä¸Non-blockingå¤§é‡è¯¸å¦‚IOï¼Œé”æ“ä½œä¼šé€ æˆå µå¡ï¼Œnodeæ ‡å‡†åº“ä¸­æ‰€æœ‰IOéƒ½æä¾›äº†éé˜»å¡çš„ä¸€æ­¥ç‰ˆæœ¬ï¼Œæ¥å—å›è°ƒå‡½æ•° å›è°ƒå‡½æ•°å¯ä»¥æ”¾å…¥åº•å±‚çº¿ç¨‹æ± æ“ä½œï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹ å¯ä»¥è‡ªå®šä¹‰å›è°ƒå‡½æ•°ï¼Œå¤„ç†è¿”å›ç»“æœ æˆ‘ä»¬å¯ä»¥ç›´æ¥æ¯”è¾ƒä¸€ä¸‹é˜»å¡å’Œéé˜»å¡çš„ä»£ç ï¼š 123456789//blocking ä¸”å¦‚æœé”™è¯¯éœ€è¦catchå¦åˆ™ç¨‹åºä¼š**å´©æºƒ**const fs = require(&#x27;fs&#x27;);const data = fs.readFileSync(&#x27;/file.md&#x27;); // blocks here until file is read//non-blockingconst fs = require(&#x27;fs&#x27;);fs.readFile(&#x27;/file.md&#x27;, (err, data) =&gt; &#123; if (err) throw err;&#125;);//æ‰§è¡Œç¬¬6è¡Œåï¼Œæ”¾è¿›é˜Ÿåˆ—ï¼Œå¼€å§‹æ‰§è¡Œä¸‹é¢çš„ä¸šåŠ¡æ•°æ® å¹¶å‘å’Œååé‡Nodeèµ·æœåŠ¡å¤§æ¦‚ä¼šå¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼ŒåŒ…å«7ä¸ªçº¿ç¨‹ï¼Œ 1 ä¸ª Javascript æ‰§è¡Œä¸»çº¿ç¨‹ï¼›1 ä¸ª watchdog ç›‘æ§çº¿ç¨‹ç”¨äºå¤„ç†è°ƒè¯•ä¿¡æ¯ï¼›1 ä¸ª v8 task scheduler çº¿ç¨‹ç”¨äºè°ƒåº¦ä»»åŠ¡ä¼˜å…ˆçº§ï¼ŒåŠ é€Ÿå»¶è¿Ÿæ•æ„Ÿä»»åŠ¡æ‰§è¡Œï¼›4 ä¸ª v8 çº¿ç¨‹ï¼ˆå¯å‚è€ƒä»¥ä¸‹ä»£ç ï¼‰ï¼Œä¸»è¦ç”¨æ¥æ‰§è¡Œä»£ç è°ƒä¼˜ä¸ GC ç­‰åå°ä»»åŠ¡ï¼›ä»¥åŠç”¨äºå¼‚æ­¥ I / O çš„ libuv çº¿ç¨‹æ± ã€‚ å¹¶å‘æŒ‡çš„æ˜¯æ‰§è¡Œå®Œå…¶ä»–å·¥ä½œåï¼Œäº‹ä»¶å¾ªç¯æ‰§è¡Œå›è°ƒçš„èƒ½åŠ›ï¼Œé«˜å¹¶å‘åŸç†ï¼šå¦‚ä¸€ä¸ªè¯·æ±‚50msè¯·æ±‚ï¼Œå…¶ä¸­45mséƒ½åœ¨æ•°æ®åº“ï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥5mså¤„ç†å®Œï¼Œæ¨å…¥é˜Ÿåˆ—ï¼Œå…¶ä½™æ—¶é—´ç»§ç»­å“åº”å…¶ä»–è¯·æ±‚ã€‚ eventloopæ˜¯JSçš„ç‰¹æ€§ï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œä¼šåˆ›å»ºçº¿ç¨‹æ¥å¤„ç†å¹¶å‘å·¥ä½œï¼ˆæ¯”å¦‚åŒæ—¶ä¸¤ä¸ªè¯·æ±‚ï¼Œåˆ›å»ºä¸¤ä¸ªçº¿ç¨‹æ¥å¤„ç†ï¼Œä½†æ˜¯ä»–ä»¬ä¹‹é—´å¯èƒ½è®¿é—®æ•°æ®ä¼šåŠ é”ï¼Œå¦‚æœæœ‰100ä¸ªè¯·æ±‚ï¼Œè®¿é—®åŒä¸€ä¸ªæ•°æ®ï¼ŒåŠ ä¸ªé”ï¼Œ99ä¸ªè¯·æ±‚éƒ½åªèƒ½ç­‰ç€äº†ï¼‰ æ··åˆé˜»å¡ä»£ç å’Œéé˜»å¡ä»£ç å¤„ç†ioåº”è¯¥é¿å…å¦‚ä¸‹å†™æ³•ï¼š 1234567const fs = require(&#x27;fs&#x27;);fs.readFile(&#x27;/file.md&#x27;, (err, data) =&gt; &#123; if (err) throw err; console.log(data);&#125;);fs.unlinkSync(&#x27;/file.md&#x27;);//unlink first//åº”è¯¥å°†unlinkå†™å…¥å›è°ƒå‡½æ•° EventLoopwhateventloopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰ç»™äºˆnodeéé˜»å¡IOçš„ä¼˜åŠ¿ï¼Œå°½ç®¡JSæ˜¯å•çº¿ç¨‹ ç”±äºå¤§å¤šæ•°å†…æ ¸æ”¯æŒå¤šçº¿ç¨‹ï¼Œä»–ä»¬å¯ä»¥å†åå°æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œå½“æŸä¸ªä»»åŠ¡å®Œæˆçš„æ—¶å€™ï¼Œå†…æ ¸ä¼šå‘Šè¯‰nodeï¼Œä»¥ä¾¿å°†callbackæ·»åŠ åˆ°pollé˜Ÿåˆ—æ¥æ‰§è¡Œ Explainedå½“nodeå¯ä¸œæ—¶ï¼Œä»–ä¼šåˆå§‹åŒ–eventloopï¼Œå¤„ç†è¾“å…¥çš„script(æˆ–è€…æ”¾å…¥REPL)ï¼Œè¿™äº›scriptå¯ä»¥æ‰§è¡Œå¼‚æ­¥APIè°ƒç”¨ï¼Œå®šæ—¶å™¨ï¼Œæˆ–è€…è°ƒç”¨process.nextTick(),ç„¶åå¼€å§‹å¤„ç†äº‹ä»¶å¾ªç¯ å…¶ä¸­æ¯ä¸ªçŸ©å½¢è¢«ç§°ä½œphaseï¼ˆä¸ªäººç†è§£ï¼šé˜¶æ®µï¼‰ æ¯ä¸€ä¸ªphaseéƒ½æœ‰ä¸€ä¸ªæœ‰callbacksç­‰å¾…æ‰§è¡Œçš„FIFOçš„é˜Ÿåˆ—ï¼Œå°½ç®¡æ¯ä¸ªphaseéƒ½æœ‰è‡ªå·±ç‰¹æ®Šçš„åœ°æ–¹ï¼Œä½†æ˜¯é€šå¸¸ï¼Œå½“eventloopæ‰§è¡Œåˆ°æŸä¸€ä¸ªphaseæ—¶å€™ï¼Œä»–å°†æ‰§è¡Œè¯¥é˜¶æ®µç‰¹å®šçš„æ“ä½œï¼Œç„¶åè°ƒç”¨queueé‡Œé¢çš„callback functionç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…è¾¾åˆ°è¯¥phaseæœ€å¤§çš„å›è°ƒæ‰§è¡Œæ•°é‡ã€‚ timersï¼šsetTimeout() and setInterval() pending callbacks: æ‰§è¡Œæ¨è¿Ÿåˆ°ä¸‹ä¸€ä¸ªtickçš„IOå›è°ƒ idle, prepare: å†…éƒ¨ä½¿ç”¨ poll: æ¥æ”¶æ–°çš„IO eventï¼Œæ‰§è¡Œä¸IOç›¸å…³çš„å›è°ƒï¼ˆå…³é—­å›è°ƒï¼Œè®¡æ—¶å™¨å›è°ƒï¼ŒsetImmediateï¼‰(è¯¥phaseå¯èƒ½ä¼šblock) check: setImmediate() close callbacks: å…³é—­å›è°ƒ, å¦‚ socket.on(&#39;close&#39;, ...). ç”±äºæ‰§è¡ŒæŸä¸€ä¸ªphaseéƒ½å¯èƒ½æ–°å¢æ›´å¤šçš„æ“ä½œä»»åŠ¡ï¼Œä¸€äº›æ–°çš„eventä¹Ÿä¼šè¿›å…¥poll é˜Ÿåˆ—ä¸­æ’é˜Ÿï¼Œå› æ­¤å¯åœ¨å¤„ç†è½®è¯¢äº‹ä»¶æ—¶å€™å°†poll eventæ’é˜Ÿï¼Œä½¿å¾—é•¿æ—¶é—´è¿è¡Œçš„å›è°ƒä¹Ÿå¯ä»¥ä½¿è½®è¯¢é˜¶æ®µè¿è¡Œçš„æ—¶é—´æ¯”è®¡æ—¶å™¨çš„é˜ˆå€¼é•¿å¾ˆå¤šã€‚ å¾…æ›´æ–°è®¡æ—¶å™¨ç›®çš„ï¼šè®¾å®šæ—¶é—´æ®µåæ‰§è¡Œå‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨æ— éœ€require ä½¿ç”¨nodejsæ§åˆ¶æ—¶é—´è¿ç»­æ€§settimeoutå¼‚æ­¥ç¼–ç¨‹Buffer The Buffer class was introduced as part of the Node.js API to enable interaction with octet streams in TCP streams, file system operations, and other contexts. åŸå› ï¼šåº”ç”¨éœ€è¦ å¤„ç†ç½‘ç»œåè®® æ“ä½œæ•°æ®åº“ å¤„ç†å›¾ç‰‡ æ¥å—ä¸Šä¼ æ–‡ä»¶ç­‰ å¤„ç†å¤§é‡äºŒè¿›åˆ¶æ•°æ®ï¼ŒJavaScriptè‡ªç”±çš„å­—ç¬¦ä¸²ä¸èƒ½æ»¡è¶³è¿™äº›è¦æ±‚ ç»“æ„ä¸C++ç»“åˆï¼šnode_bufferâ€“&gt;Buffer/SlowBuffer ä¹Ÿå°±æ˜¯JavaScriptçš„Bufferæˆ–è€…SlowBufferä¾èµ–äºC++çš„å†…å»ºæ¨¡å—ï¼Œbufferå†…å­˜ä¸å½’v8ç®¡ç†ï¼Œæ˜¯å †å¤–å†…å­˜ å£°æ˜123456const str=&quot;helloworld&quot;const buf=new Buffer(str,&#x27;utf-8&#x27;)console.log(buf)//=&gt;&lt;Buffer xx xx xx&gt;16è¿›åˆ¶æ•°å­—buf[22]=10//åªèƒ½èµ‹å€¼0-255çš„æ•°å€¼ï¼Œå¦åˆ™ä¼šå–ä½™256 å†…å­˜åˆ†é…Nodeçš„C++å±‚é¢å®ç°å†…å­˜ç”³è¯·ï¼Œåœ¨JavaScriptä¸­åˆ†é…å†…å­˜çš„ç­–ç•¥ï¼ŒNodeé‡‡ç”¨slabçš„åŠ¨æ€å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œslabçš„3ç§çŠ¶æ€ fullï¼šå®Œå…¨åˆ†é… partialï¼šéƒ¨åˆ†åˆ†é… emptyï¼šæ²¡æœ‰åˆ†é… Buffer.poolSize=8*1024ï¼Œå³ä»¥8kbä¸ºå¤§å°Bufferçš„åˆ†ç•Œï¼Œå°äº8Kbæ‹¼å•ï¼Œå¤§äº8kbåˆ†é…å¤§çš„slabè¢«å¤§bufferç‹¬å  è½¬æ¢å¯ä»¥è½¬æ¢çš„ç±»å‹ asc2 utf-8 utf-16LE/UCS-2 Base64 Binary Hex é‡‡ç”¨new Buffer(str,[encoding]),é»˜è®¤utf-8 buf.write(string,[offset],[length],[encoding])é»˜è®¤utf-8 buf.toString([encoding],[start],[end])é»˜è®¤utf-8 æ‹¼æ¥æ€§èƒ½æ€§èƒ½å¤§æ¦‚æ˜¯å­—ç¬¦ä¸²çš„ä¸€å€ EventLooplibuvä»‹ç»page","raw":null,"content":null},{"title":"README","date":"2020-03-10T09:14:53.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"README/index.html","permalink":"http://zehai.info/README/index.html","excerpt":"","text":"Knowledgeall in Knowledge ä¸ªäººåšå®¢ LeetCode ä¸“ä¸šè¯¾ è®¡ç®—æœºç½‘ç»œ è®¡ç®—æœºæ“ä½œç³»ç»Ÿ æ•°æ®ç»“æ„ Interview B-Tree vs B+ Tree Node.js feature å¼‚æ­¥IO å¼‚æ­¥ç¼–ç¨‹ å†…å­˜æ§åˆ¶ ç†è§£buffer ç½‘ç»œç¼–ç¨‹ webåº”ç”¨ å¤šè¿›ç¨‹ æµ‹è¯•å³è°ƒè¯• eventLoopæ¨¡å‹ JavaåŸºç¡€ é›†åˆ List Map Set çº¿ç¨‹ ç±»åŠ è½½ IO JVM é” å¸¸è§é—®é¢˜ Data Structure String Linked List Binary Tree Huffman Compression Queue Heap Stack Set Map Graph Sorting Algorithm Divide and Conquer Binary Search Math Knapscak Probability Bitmap è®¡ç®—æœºç½‘ç»œ ä¸ƒå±‚æ¨¡å‹ ç‰©ç†å±‚ æ•°æ®é“¾è·¯å±‚ ç½‘ç»œå±‚ ä¼ è¾“å±‚ åº”ç”¨å±‚ Springbootå­¦ä¹ ä¹‹è·¯ xxx python docs-zh-CN æ‰˜ç®¡é¡¹ç›® chum neews å…¶ä»– æ˜¥èŠ‚12å“ QS2019 å…³äºä½œè€… é‚®ç®±ï¼šzehaizhang@aliyun.com åšå®¢ï¼šzehai.info CSDN:https://blog.csdn.net/ShancoFolia want Node.js Job,base Peking å¢“å¿—é“­ï¼šrestarting","raw":null,"content":null},{"title":"Redis","date":"2019-11-17T07:49:54.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"Redis/index.html","permalink":"http://zehai.info/Redis/index.html","excerpt":"","text":"é¦–å…ˆæ„Ÿè°¢æ˜é‡‘@æ•–ä¸™çš„ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—çš„å¯å‘ whatredisæ˜¯ä¸€ä¸ªç¼“å­˜ï¼ŒåŸºäºå†…å­˜æ“ä½œæ•°æ®ï¼Œç®—æ˜¯æ•°æ®åº“çš„å°å¼Ÿï¼Œå¸®åŠ©æ•°æ®åº“æŒ¡æ‰ä¸€äº›ç»å¸¸æŸ¥è¯¢çš„å†…å®¹ï¼Œé¿å…æ‰«æåº“ï¼ˆä½ è¦çŸ¥é“æœ‰äº›æŸ¥è¯¢è¦å…³è”å¾ˆå¤šè¡¨ï¼Œè™½ç„¶ä½ å¯èƒ½åªæŸ¥ä¸€æ¡æ•°æ®ï¼Œä½†å¯èƒ½è¦è¦æ‰§è¡Œ2-3ç§’ï¼Œåœ¨é«˜å¹¶å‘ä¸‹æ˜¯è‡´å‘½çš„ï¼‰ï¼Œä¸»è¦ç”¨çš„Redisä»¥åŠJavaçš„Memcachedï¼Œä¸¤è€…å„æœ‰ç‰¹ç‚¹ï¼Œä½†å¸‚åœºå€¾å‘äºRedis çŸ¥è¯†ç‚¹ç½—åˆ—Redis æ•°æ®ç»“æ„ï¼š ç±»å‹ ä½œç”¨ ç¤ºä¾‹ String ä¿å­˜å­—ç¬¦ä¸² session Hash key-value è®¡æ•°å™¨ List æ•°ç»„ æ•°ç»„ç±»å‹æ•°æ® Set å»é‡æ•°ç»„ è‡ªåŠ¨å»é‡ SortedSet å»é‡æ’åºæ•°ç»„ å¾®åšçƒ­æœæ¦œå• HyperLog Geo Pub/Sub Redis modules æš´éœ²æ¥å£è‡ªå®šä¹‰redisæ¨¡å—ï¼Œè‡ªå®šä¹‰æ•°æ®ç»“æ„ï¼ˆjsonæ”¯æŒï¼Œå¯¹å›¾æ•°æ®åº“æ”¯æŒï¼ŒåŒ¹é…æ·»åŠ æ­£åˆ™åŠŸç­‰ï¼‰ï¼Œè®¿é—®redisæ•°æ®ç©ºé—´ï¼Œå®ç°é˜»å¡å‘½ä»¤ï¼ŒåŠ¨æ€é“¾æ¥åŠ è½½æ¨¡å—ï¼Œç¼–å†™ç¥ç»ç½‘ç»œæ¨¡å—ç­‰ * å®˜æ–¹æœ‰æ–‡æ¡£ï¼Œå¾…å­¦ä¹ ï¼Œåº”ç”¨å¦‚ï¼šBloomFilter,redisSearch,redis-ML å†…å­˜æ¸…ç†å¾…è¡¥å…… åˆ†å¸ƒå¼é” ç›®çš„ï¼šredis clusteræ—¶å€™ä¿è¯ä¸€ä¸ªæ•°æ®åŒæ—¶åªæœ‰ä¸€ä¸ªå®ä¾‹åœ¨è¯»/å†™ å®ç°ï¼šzookeeperæˆ–è€…setnxäº‰æŠ¢é”ï¼Œexpireé‡Šæ”¾ï¼Œç±»ä¼¼è¿›ç¨‹é” æŒä¹…åŒ– æŒä¹…æ–¹å¼ å®ç°åŸç† åº”ç”¨åœºæ™¯ RDBï¼ˆï¼‰ å…¨é‡ å†·å¤‡ä»½ï¼Œè€—æ—¶ AOF å¢é‡ å®æ—¶å¢é‡ï¼ˆsyncå±æ€§é…ç½®åŒæ­¥æ—¶é—´ï¼‰ æ··åˆä½¿ç”¨ å…¨é‡å¯åŠ¨ï¼ŒAOFæ¢å¤è¿‘æœŸæ•°æ® å¯»æ‰¾key 1.keys-ä¼šé˜»å¡-æ— é‡å¤é¡¹ 2.scan-ä¸é˜»å¡-ä¼šæœ‰é‡å¤é¡¹ å¼‚æ­¥é˜Ÿåˆ—å®ç° 1.rpushç”Ÿäº§ï¼Œlpopæ¶ˆè´¹ 2.sleepç¨åé‡è¯•ï¼Œblpopä¼‘æ¯ç›´åˆ°æ¶ˆæ¯æ¥ 3.åº”ç”¨åœºæ™¯ï¼šæ›¾ç»è°ƒç”¨ä»“åº“ç³»ç»Ÿå‘è´§ï¼Œä»“åº“ç³»ç»Ÿåº“å­˜1ä¸€åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ï¼Œæ‰€ä»¥å°†å‘è´§æ•°æ®æ¨å…¥é˜Ÿåˆ—ä¸­ 4.pub/subå¯ä»¥å®ç°ä¸€æ¬¡ç”Ÿäº§å¤šæ¬¡æ¶ˆè´¹ï¼Œé«˜çº§çš„MQè§£å†³æ„å¤–æƒ…å†µ 5.å»¶æ—¶é˜Ÿåˆ—ï¼Œsortedsetï¼Œæ—¶é—´æˆ³åšscoreï¼Œå†…å®¹åškeyè°ƒç”¨zaddç”Ÿäº§ï¼Œzrangebysccoreè·å–Nç§’å‰æ¶ˆæ¯è½®è¯¢æ¶ˆè´¹ pipeline 1.å¤šæ¬¡IOä¸€æ¬¡è¿”å› 2.å‹æµ‹ åŒæ­¥æœºåˆ¶ 1.ä¸»ä»åŒæ­¥ 2.ä»ä»åŒæ­¥ é›†ç¾¤ redis sentinalé«˜å¯ç”¨ï¼Œmasterå®•æœºé€‰æ–°å¤´å„¿ redis cluster æ‰©å±•æ€§ï¼Œå¤šä¸ªå®ä¾‹ BloomFilter å¸ƒéš†è¿‡æ»¤å™¨ï¼Œå¸¸ç”¨ç”¨äºé¿å…ç¼“å­˜å‡»ç©¿ å®ç°åŸç†ï¼šäºŒè¿›åˆ¶å‘é‡å’Œéšæœºæ˜ å°„å‡½æ•° ä½œç”¨ï¼šæ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨åˆé›†ä¸­ å·¥ä½œæµç¨‹ï¼šå¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†æ˜¯ï¼Œå½“ä¸€ä¸ªå…ƒç´ è¢«åŠ å…¥é›†åˆæ—¶ï¼Œé€šè¿‡Kä¸ªæ•£åˆ—å‡½æ•°å°†è¿™ä¸ªå…ƒç´ æ˜ å°„æˆä¸€ä¸ªä½æ•°ç»„ä¸­çš„Kä¸ªç‚¹ï¼ŒæŠŠå®ƒä»¬ç½®ä¸º1ã€‚æ£€ç´¢æ—¶ï¼Œæˆ‘ä»¬åªè¦çœ‹çœ‹è¿™äº›ç‚¹æ˜¯ä¸æ˜¯éƒ½æ˜¯1å°±ï¼ˆå¤§çº¦ï¼‰çŸ¥é“é›†åˆä¸­æœ‰æ²¡æœ‰å®ƒäº†ï¼šå¦‚æœè¿™äº›ç‚¹æœ‰ä»»ä½•ä¸€ä¸ª0ï¼Œåˆ™è¢«æ£€å…ƒç´ ä¸€å®šä¸åœ¨ï¼›å¦‚æœéƒ½æ˜¯1ï¼Œåˆ™è¢«æ£€å…ƒç´ å¾ˆå¯èƒ½åœ¨ã€‚è¿™å°±æ˜¯å¸ƒéš†è¿‡æ»¤å™¨çš„åŸºæœ¬æ€æƒ³ã€‚","raw":null,"content":null},{"title":"System","date":"2019-03-14T09:20:32.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"System/index.html","permalink":"http://zehai.info/System/index.html","excerpt":"","text":"","raw":null,"content":null},{"title":"RocketMQ","date":"2019-05-06T09:30:12.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"RocketMQ/index.html","permalink":"http://zehai.info/RocketMQ/index.html","excerpt":"","text":"","raw":null,"content":null},{"title":"structure","date":"2019-03-14T09:21:10.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"Structure/index.html","permalink":"http://zehai.info/Structure/index.html","excerpt":"","text":"çº¿æ€§è¡¨LinkedListçº¿æ€§è¡¨=æ•°ç»„+é“¾è¡¨ çº¿æ€§è¡¨ä¸­æ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œå³é™¤äº†ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæ•°æ®å…ƒç´ ä¹‹å¤–ï¼Œå…¶å®ƒæ•°æ®å…ƒç´ éƒ½æ˜¯é¦–å°¾ç›¸æ¥çš„ã€‚ é¡ºåºå­˜å‚¨ é“¾å¼å­˜å‚¨ å…¸å‹ æ•°ç»„ é“¾è¡¨ ç‰©ç†è¿ç»­æ€§ è¿ç»­ åˆ†å¼€ï¼Œé æŒ‡é’ˆæ¡¥æ¥ æ’å…¥ã€åˆ é™¤å¤æ‚åº¦ O(n) O(1) æŸ¥æ‰¾å¤æ‚åº¦ O(1) O(n) é“¾è¡¨=å•å‘é“¾è¡¨+åŒå‘é“¾è¡¨+å¾ªç¯é“¾è¡¨ç­‰ç­‰ï¼ˆä¸ºäº†è§£å†³æŸ¥æ‰¾å¤æ‚åº¦ä¸ºOï¼ˆnï¼‰çš„æƒ…å†µï¼Œå³æ¯æ¬¡éƒ½è¦ä»å¤´å¼€å§‹éå†ï¼Œæ‰€ä»¥æœ‰äº†åŒå‘é“¾è¡¨ï¼Œè¿›ä¸€æ­¥çš„æŠŠæ”¶å°¾è¿èµ·æ¥å¾ªç¯ï¼Œæ˜¯åŒå‘é“¾è¡¨çš„ä¸€ä¸ªè¿›åŒ–ï¼Œèƒ½æ›´å¥½çš„éå†ä»¥åŠåˆ©ç”¨ç©ºé—´ï¼‰ 12345struct ListNode &#123; int val; ListNode *next; ListNode(int val,ListNode *next=NULL):val(val),next(next)&#123;&#125;&#125;; Queue é˜Ÿåˆ—ï¼ˆé»˜è®¤å•é˜Ÿåˆ—ï¼‰ å¾ªç¯é˜Ÿåˆ—ï¼ˆé€šè¿‡å–ä½™ï¼Œå½¢æˆé€»è¾‘ä¸Šé—­ç¯ï¼‰rear = (rear - size) % size ä¸ä»¥ front = rear ä¸ºæ”¾æ»¡æ ‡å¿—ï¼Œæ”¹ä¸º (rear - front) % size = 1 Java-Collection=set+list+queue Set(HashSet,TreeSet) æ— é‡å¤å…ƒç´ çš„æ•°ç»„ HashSet æ˜¯å“ˆå¸Œè¡¨ç»“æ„ï¼Œä¸»è¦åˆ©ç”¨ HashMap çš„ key æ¥å­˜å‚¨å…ƒç´ ï¼Œè®¡ç®—æ’å…¥å…ƒç´ çš„ hashCode æ¥è·å–å…ƒç´ åœ¨é›†åˆä¸­çš„ä½ç½®ï¼› TreeSet æ˜¯çº¢é»‘æ ‘ç»“æ„ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ’å…¥çš„å…ƒç´ éƒ½ä¼šè¿›è¡Œæ’åºï¼› ##List åœ¨ List ä¸­ï¼Œç”¨æˆ·å¯ä»¥ç²¾ç¡®æ§åˆ¶åˆ—è¡¨ä¸­æ¯ä¸ªå…ƒç´ çš„æ’å…¥ä½ç½®ï¼Œå¦å¤–ç”¨æˆ·å¯ä»¥é€šè¿‡æ•´æ•°ç´¢å¼•ï¼ˆåˆ—è¡¨ä¸­çš„ä½ç½®ï¼‰è®¿é—®å…ƒç´ ï¼Œå¹¶æœç´¢åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚ ä¸ Set ä¸åŒï¼ŒList é€šå¸¸å…è®¸é‡å¤çš„å…ƒç´ ã€‚ å¦å¤– List æ˜¯æœ‰åºé›†åˆè€Œ Set æ˜¯æ— åºé›†åˆã€‚ ArrayList:æ•°ç»„é˜Ÿåˆ—ï¼ŒåŠ¨æ€ï¼Œçº¿ç¨‹ä¸å®‰å…¨ vectorï¼šçŸ¢é‡é˜Ÿåˆ—ï¼Œå’Œæ•°ç»„ç±»ä¼¼ï¼Œçº¿ç¨‹å®‰å…¨ linkedListï¼šåŒå‘é“¾è¡¨ TreeBSTäºŒå‰æŸ¥æ‰¾æ ‘ï¼šbinary search tree å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºæˆ–ç­‰äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºæˆ–ç­‰äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æ’åºæ ‘(regression) åº”ç”¨ï¼šäºŒåˆ†æŸ¥æ‰¾O(logn),æŸ¥æ‰¾æ¬¡æ•°ç­‰äºæ ‘çš„é«˜åº¦ ç¼ºç‚¹ï¼šæ–°æ’å…¥èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå› ä¸ºè¦æ—‹è½¬å¤æ‚åº¦è¾ƒé«˜ï¼ˆå¼•å…¥çº¢é»‘æ ‘çš„æ³•åˆ™é™ä½æ—‹è½¬ï¼‰ RBTï¼ˆred black treeï¼‰åŸåï¼šå¹³è¡¡äºŒå‰Bæ ‘ï¼ˆsymmetric binary B-treesï¼‰ featureï¼š æ¯ä¸ªèŠ‚ç‚¹éƒ½åªèƒ½æ˜¯çº¢è‰²æˆ–è€…é»‘è‰² æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰² æ¯ä¸ªå¶èŠ‚ç‚¹ï¼ˆNILèŠ‚ç‚¹ï¼Œç©ºèŠ‚ç‚¹ï¼‰æ˜¯é»‘è‰²çš„ã€‚ å¦‚æœä¸€ä¸ªç»“ç‚¹æ˜¯çº¢çš„ï¼Œåˆ™å®ƒä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½æ˜¯é»‘çš„ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä¸€æ¡è·¯å¾„ä¸Šä¸èƒ½å‡ºç°ç›¸é‚»çš„ä¸¤ä¸ªçº¢è‰²ç»“ç‚¹ã€‚ ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ã€‚ çº¢é»‘æ ‘å¸¦æ¥çš„ä¼˜åŠ¿ï¼š çº¢é»‘æ ‘æ ¹åˆ°æ¤°å­çš„æœ€é•¿è·¯å¾„ä¸ä¼šè¶…è¿‡æœ€çŸ­è·¯å¾„çš„2å€ æ’å…¥æˆ–åˆ é™¤ï¼Œé€šè¿‡featureæ¥è°ƒæ•´ç»“æ„ï¼ˆæœ‰çš„æ—¶å€™ä¸éœ€è¦è°ƒæ•´ï¼‰ æ’å…¥é»˜è®¤æ˜¯çº¢è‰²ï¼Œè°ƒæ•´åŒ…æ‹¬å˜è‰²å’Œæ—‹è½¬ åº”ç”¨äºJDKï¼ŒCollectionä¸­çš„TreeMapå’ŒTreeSetï¼ŒHashMapï¼ˆJDK1.8ä¹‹åç”¨ï¼Œä¸”é˜ˆå€¼å¤§äº8æ—¶å€™æ‰åˆ‡æ¢åˆ°çº¢é»‘æ ‘ï¼Œä¹‹å‰ç”¨çš„æ˜¯æ‹‰é“¾æ³•ï¼‰","raw":null,"content":null},{"title":"Schedule","date":"2019-04-06T14:57:15.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"Schedule/index.html","permalink":"http://zehai.info/Schedule/index.html","excerpt":"","text":"æ›´æ–°Interviewä¸­JSçš„å»é‡ æ›´æ–°Structureä¸­çš„äºŒå‰æ ‘","raw":null,"content":null},{"title":"about","date":"2019-03-11T15:11:47.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"about/index.html","permalink":"http://zehai.info/about/index.html","excerpt":"","text":"è”ç³»æ–¹å¼ é‚®ç®±ï¼šzehaizhang@aliyun.com ä¸ªäººä¿¡æ¯ ç« æ³½æµ·/ç”·/1995 æœ¬ç§‘/åŒ—äº¬åŸå¸‚å­¦é™¢-ä¿¡æ¯å­¦é™¢ å·¥ä½œå¹´é™ï¼š2å¹´ æŠ€æœ¯åšå®¢ï¼šhttp://zehai.info Githubï¼šhttp://github.com/ShawnGoethe æœŸæœ›èŒä½ï¼šNodeJSç¨‹åºå‘˜ï¼Œæ•°æ®åˆ†æ æœŸæœ›è–ªèµ„ï¼š18k~24k æœŸæœ›åŸå¸‚ï¼šåŒ—äº¬ è‡ªæˆ‘è¯„ä»·å·¥ä½œç»å†æå®¢æ™¨æ˜Ÿ ï¼ˆ2020å¹´2æœˆï½è‡³ä»Šï¼‰äº‘ä¸ç§‘æŠ€ ï¼ˆ 2018å¹´11æœˆ ~ 2020å¹´2æœˆ ï¼‰å‡Œä¼—æ—¶ä»£ ï¼ˆ 2018å¹´6æœˆ ~ 2018å¹´9æœˆ ï¼‰é‡‘å±±è½¯ä»¶ ï¼ˆ 2017å¹´12æœˆ ~ 2018å¹´5æœˆ ï¼‰internship æ•™è‚²ç»å†åŒ—äº¬åŸå¸‚å­¦é™¢ ï¼ˆ2014~ 2018ï¼‰è½¯ä»¶å·¥ç¨‹ ç»Ÿæ‹›","raw":null,"content":null},{"title":"categories","date":"2019-03-22T13:17:40.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"categories/index.html","permalink":"http://zehai.info/categories/index.html","excerpt":"","text":"","raw":null,"content":null},{"title":"QS2019","date":"2019-03-13T06:11:05.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"qs2019/index.html","permalink":"http://zehai.info/qs2019/index.html","excerpt":"","text":"top 18 No school_name ä¸­æ–‡å 1 MIT éº»çœç†å·¥å­¦é™¢ 2 Stanford Uni æ–¯å¦ç¦å¤§å­¦ 3 Harvard Uni å“ˆä½›å¤§å­¦ 4 California Institute of Technology åŠ å·ç†å·¥å­¦é™¢ 5 Uni of Oxford ç‰›æ´¥å¤§å­¦ 6 Uni of Cambridge å‰‘æ¡¥å¤§å­¦ 7 ETH Zurich-Swiss Fedeal Institute of Technology è‹é»ä¸–è”é‚¦ç†å·¥å¤§å­¦ 8 Imperial College London å¸å›½ç†å·¥å­¦é™¢ 9 Uni of Chicago èŠåŠ å“¥å¤§å­¦ 10 Uni College London ä¼¦æ•¦å¤§å­¦å­¦é™¢ 11 Nathonal Uni of Singapore æ–°åŠ å¡å›½ç«‹å¤§å­¦ 12 Nanyang Technological Uni,Singapore æ–°åŠ å¡å—æ´‹ç†å·¥å¤§å­¦ 13 Princeton Uni æ™®æ—æ–¯é¡¿å¤§å­¦ 14 Comell Uni åº·å¥ˆå°”å¤§å­¦ 15 Yale Uni è€¶é²å¤§å­¦ 16 Columbia Uni å“¥ä¼¦æ¯”äºšå¤§å­¦ 17 Tsinghua Uni æ¸…åå¤§å­¦ 18 The uni of Edinburgh çˆ±ä¸å ¡å¤§å­¦ 30 Peking Uni åŒ—äº¬å¤§å­¦ 98 Uni of Science and Technology of China ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦","raw":null,"content":null},{"title":"tags","date":"2019-03-22T13:16:06.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"tags/index.html","permalink":"http://zehai.info/tags/index.html","excerpt":"","text":"","raw":null,"content":null},{"title":"MySQL","date":"2020-03-09T07:04:55.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"MySQL/index.html","permalink":"http://zehai.info/MySQL/index.html","excerpt":"","text":"å…è´£å£°æ˜ï¼šè¯¥æ–‡ç« ä¸ªäººç¿»è¯‘ï¼Œä»…åšå­¦ä¹ ä½¿ç”¨ï¼Œå¯èƒ½å­˜åœ¨ç¿»è¯‘é”™è¯¯ å…¨æ–‡é‡å¿ƒ15.6.2ä»‹ç»äº†MYSQLçš„å­˜å‚¨æ–¹å¼ï¼Œå¯¹äºæˆ‘ä»¬äº†è§£æ•°æ®åº“ï¼Œæ›´å¥½åœ°ä½¿ç”¨æ•°æ®åº“æä¾›äº†åŸºç¡€ The InnoDB Storage Engine15.1.1 Benefits of Using InnoDB Tables 15.1.2 Best Practices for InnoDB Tables 15.1.3 Verifying that InnoDB is the Default Storage Engine 15.1.4 Testing and Benchmarking with InnoDB é€šç”¨å­˜å‚¨ï¼Œé»˜è®¤ä½¿ç”¨InnoDBï¼Œå¦‚éœ€æ›´æ¢å¼•æ“ï¼Œåˆ›å»ºè¡¨æ—¶ENGINEå‚æ•°æŒ‡å®š é«˜æ€§èƒ½ é«˜å¯é  key Advantage DMLéµå¾ªACIDè§„åˆ™ï¼ˆæ”¯æŒäº‹åŠ¡ï¼‰ Row-level lockingï¼ˆè¡Œé”ï¼‰ï¼Œå’ŒOracleé£æ ¼çš„ä¸€è‡´è¯»å–å¯æé«˜å¤šç”¨æˆ·å¹¶å‘æ€§å’Œæ€§èƒ½ã€‚ èšç°‡ç´¢å¼•ï¼šInnoDBè¡¨å°†æ•°æ®æ”¾åœ¨åœ¨ç£ç›˜ä¸Šï¼Œæ¥æ–¹ä¾¿åŸºäºä¸»é”®ä¼˜åŒ–æŸ¥è¯¢ã€‚æ¯ä¸ªInnoDBè¡¨éƒ½æœ‰ä¸€ä¸ªç§°ä¸ºèšé›†ç´¢å¼•ï¼ˆ clustered indexï¼‰çš„ä¸»é”®ç´¢å¼•ï¼Œè¯¥ç´¢å¼•ç»„ç»‡æ•°æ®ä»¥æœ€å°åŒ–ä¸»é”®æŸ¥æ‰¾çš„I / Oã€‚ å¤–é”®çº¦æŸ Feature Support B-tree indexes Yes Backup/point-in-time recovery (Implemented in the server, rather than in the storage engine.) Yes Cluster database support No Clustered indexes Yes Compressed data Yes Data caches Yes Encrypted data Yes (Implemented in the server via encryption functions; In MySQL 5.7 and later, data-at-rest tablespace encryption is supported.) Foreign key support Yes Full-text search indexes Yes (InnoDB support for FULLTEXT indexes is available in MySQL 5.6 and later.) Geospatial data type support Yes Geospatial indexing support Yes (InnoDB support for geospatial indexing is available in MySQL 5.7 and later.) Hash indexes No (InnoDB utilizes hash indexes internally for its Adaptive Hash Index feature.) Index caches Yes Locking granularity Row MVCC Yes Replication support (Implemented in the server, rather than in the storage engine.) Yes Storage limits 64TB T-tree indexes No Transactions Yes Update statistics for data dictionary Yes mysql8.0 innoDB enhancements InnoDB enhancements 15.1.1Benefits of InnoDB Tables é‡æ–°å¯åŠ¨æ•°æ®åº“(ä¸»åŠ¨oræ„å¤–)åéƒ½æ— éœ€æ‰§è¡Œä»»ä½•ç‰¹æ®Šæ“ä½œ æ‹¥æœ‰ç¼“å†²æ± ï¼ˆbuffer poolï¼‰ç»å¸¸è®¿é—®çš„æ•°æ®æ”¾åˆ°å†…å­˜ä¸­å¤„ç† è®¾ç½®å¤–é”®ï¼Œæ›´æ–°æˆ–åˆ é™¤æ•°æ®ï¼Œå¹¶è‡ªåŠ¨æ›´æ–°æˆ–åˆ é™¤å…¶ä»–è¡¨ä¸­çš„ç›¸å…³æ•°æ®ã€‚ æ•°æ®æŸåæç¤º è®¾è®¡æ­£ç¡®çš„ä¸»é”®ï¼Œä¼šè‡ªåŠ¨ä¼˜åŒ–ï¼Œä½¿å¾—where,order,groupè¿…é€Ÿ CRUDé€šè¿‡è‡ªåŠ¨æœºåˆ¶ï¼ˆchange bufferingï¼‰å¯ä»¥å¯¹åŒä¸€å¼ è¡¨å¹¶å‘è¯»å†™ï¼ˆè¡Œé”çš„ä¼˜åŠ¿ï¼‰ï¼Œä»¥åŠç¼“å­˜CRUDåä¸€èµ·å†™å…¥å‡å°‘ç£ç›˜IO æ…¢æŸ¥è¯¢æ€§èƒ½ä¼˜å¼‚ï¼Œè‡ªé€‚åº”å“ˆå¸Œç´¢å¼•ï¼ˆAdaptive Hash Indexï¼‰ä½¿å¾—ä¸€è¡Œè¢«å¤šæ¬¡è®¿é—®æ—¶ï¼Œè¯»å–æ›´å¿«ï¼Œå°±åƒhashä¸€æ · æ”¯æŒå‹ç¼©è¡¨å’Œå…³è”ç´¢å¼•ï¼ˆassociated indexesï¼‰ æ”¯æŒåˆ›å»ºå’Œåˆ é™¤ç´¢å¼•ï¼Œè€Œå¯¹æ€§èƒ½å’Œå¯ç”¨æ€§å½±å“è¾ƒä½ Truncating a file-per-table tablespace is very fast, and can free up disk space for the operating system to reuse, rather than freeing up space within the system tablespace that only InnoDB can reuse.ï¼ˆä¸çŸ¥é“åœ¨è¯´ä»€ä¹ˆï¼‰ DYNAMICæ ¼å¼è§£å†³BLOBå’Œé•¿æ–‡æœ¬çš„å­˜å‚¨é—®é¢˜ INFORMATION_SCHEMAç›‘è§†å­˜å‚¨å¼•æ“å†…éƒ¨ä¿¡æ¯ é€šè¿‡æŸ¥è¯¢æ€§èƒ½æ¶æ„è¡¨ï¼ˆperformance schemaï¼‰æ¥ç›‘è§†å­˜å‚¨çš„æ€§èƒ½ å…¼å®¹å…¶ä»–å¼•æ“çš„table å¤„ç†å¤§é‡æ•°æ®æ—¶æé«˜CUPæ•ˆç‡ï¼Œè·å¾—æœ€ä½³æ€§èƒ½ æ”¯æŒå¤„ç†å¤§é‡æ•°æ® 15.1.2 Best Practices for InnoDB Tables åˆç†è®¾ç½®ä¸»é”®æˆ–è€…è®¾ç½®è‡ªåŠ¨å¢é‡ä¸ºä¸»é”® 15.2 InnoDB and the ACID Model15.3 InnoDB Multi-Versioning15.4 InnoDB Architecture15.5.1 Buffer Pool 15.5.2 Change Buffer 15.5.3 Adaptive Hash Index 15.5.4 Log Buffer å›¾ç¤ºâ†“ 15.5.1 Buffer Poolè®¾ç½®buffer pool ç›®çš„ï¼šæé«˜å¤§å®¹é‡è¯»å–æ“ä½œçš„æ•ˆç‡ï¼ŒPool åˆ†ä¸ºå¤šä¸ªé¡µï¼Œå®¹çº³å¤šè¡Œæ•°æ®ï¼Œé¡µéµå¾ªLRUï¼šlatest recently usedæ›¿æ¢åŸåˆ™ ç¼“å†²æ± åˆ—è¡¨â†“ LRUä½¿å¾—å¸¸ç”¨çš„é¡µåœ¨new sublistéƒ¨åˆ†ï¼Œoldsublistæ˜¯ä¸å¸¸ç”¨ï¼Œå…¶ä¸­çš„é¡µä¼šè¢«æ›¿æ¢ é»˜è®¤é…ç½®ä¸‹ç®—æ³•å…·ä½“å®Œæˆ old sublistå æ®3/8 midpoint æ˜¯æ–°æ—§çš„è¾¹ç•Œ æ–°é¡µæ’å…¥midpointä½ç½®ï¼ˆoldå¤´éƒ¨ï¼‰ä¸”å¯ä»¥è¢«è¯»ï¼ˆå› ä¸ºæ˜¯ç”¨æˆ·å¯åŠ¨çš„æ“ä½œï¼Œä¾‹å¦‚sql queryï¼‰,æˆ–è€…åŠ è½½é¢„è¯» å¯¹oldåŒºçš„é¡µæ“ä½œï¼Œç”¨æˆ·ä¸»åŠ¨æ“ä½œä¼šä½¿å¾—é¡µç§»å‘newåŒºåŸŸï¼Œé¢„è¯»æ“ä½œåˆ™ä¸ä¼š ä¸æ–­æ›´æ–°ï¼Œoldæœ«ä½æ·˜æ±° é»˜è®¤æƒ…å†µä¸‹ï¼Œç”¨æˆ·ä¸»åŠ¨æ“ä½œdumpæ“ä½œä¹Ÿä¼šæŠŠæ•°æ®åŠ è½½åˆ°poolä¸­ï¼Œå°½ç®¡è¿™äº›æ•°æ®ä¸åœ¨è®¿é—®ï¼Œä»¥åŠé¢„è¯»ä»…è®¿é—®ä¸€æ¬¡çš„é¡µé¢å¤šæ¬¡åŠ è½½ç§»åˆ°newçš„è¡¨å¤´ï¼Œæ…¢æ…¢æ·˜æ±°ï¼Œéƒ½å­˜åœ¨é—®é¢˜ é»˜è®¤é…ç½®ï¼š ä¸“æœºé…ç½®80%çš„å†…å­˜ä½œä¸ºbuffer pool å°†ç¼“å†²æ± åˆ’åˆ†ï¼Œé¿å…å¹¶å‘ç«äº‰ é¢‘ç¹è®¿é—®çš„æ•°æ®å¸¸é©»å†…å­˜ æ§åˆ¶é¢„è¯»è¯·æ±‚ï¼Œå¼‚æ­¥å°†æ•°æ®è°ƒåˆ°buffer pool é€‚å½“æ‰§è¡Œbackground flushing é…ç½®innodbç¼“å†²æ± å¤‡ä»½ï¼Œé¿å…æ„å¤– ç›‘è§†buffer poolä½¿ç”¨ SHOW ENGINE INNODB STATUS è®¿é—®monitoræä¾›çš„ç¼“å†²æ± æ•°æ® Tpye name status InnoDB (è§ä¸‹) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;2020-03-11 09:06:22 0x7f4ef0097700 INNODB MONITOR OUTPUT&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;Per second averages calculated from the last 52 seconds-----------------BACKGROUND THREAD-----------------srv_master_thread loops: 7 srv_active, 0 srv_shutdown, 181415 srv_idlesrv_master_thread log flush and writes: 0----------SEMAPHORES----------OS WAIT ARRAY INFO: reservation count 3OS WAIT ARRAY INFO: signal count 3RW-shared spins 0, rounds 0, OS waits 0RW-excl spins 1, rounds 30, OS waits 0RW-sx spins 0, rounds 0, OS waits 0Spin rounds per wait: 0.00 RW-shared, 30.00 RW-excl, 0.00 RW-sx------------TRANSACTIONS------------Trx id counter 4410Purge done for trx&#39;s n:o &lt; 4410 undo n:o &lt; 0 state: running but idleHistory list length 11LIST OF TRANSACTIONS FOR EACH SESSION:---TRANSACTION 421452050332264, not started0 lock struct(s), heap size 1136, 0 row lock(s)---TRANSACTION 421452050331392, not started0 lock struct(s), heap size 1136, 0 row lock(s)--------FILE I&#x2F;O--------I&#x2F;O thread 0 state: waiting for completed aio requests (insert buffer thread)I&#x2F;O thread 1 state: waiting for completed aio requests (log thread)I&#x2F;O thread 2 state: waiting for completed aio requests (read thread)I&#x2F;O thread 3 state: waiting for completed aio requests (read thread)I&#x2F;O thread 4 state: waiting for completed aio requests (read thread)I&#x2F;O thread 5 state: waiting for completed aio requests (read thread)I&#x2F;O thread 6 state: waiting for completed aio requests (write thread)I&#x2F;O thread 7 state: waiting for completed aio requests (write thread)I&#x2F;O thread 8 state: waiting for completed aio requests (write thread)I&#x2F;O thread 9 state: waiting for completed aio requests (write thread)Pending normal aio reads: [0, 0, 0, 0] , aio writes: [0, 0, 0, 0] , ibuf aio reads:, log i&#x2F;o&#39;s:, sync i&#x2F;o&#39;s:Pending flushes (fsync) log: 0; buffer pool: 01129 OS file reads, 352 OS file writes, 117 OS fsyncs0.00 reads&#x2F;s, 0 avg bytes&#x2F;read, 0.00 writes&#x2F;s, 0.00 fsyncs&#x2F;s-------------------------------------INSERT BUFFER AND ADAPTIVE HASH INDEX-------------------------------------Ibuf: size 1, free list len 0, seg size 2, 0 mergesmerged operations: insert 0, delete mark 0, delete 0discarded operations: insert 0, delete mark 0, delete 0Hash table size 34679, node heap has 0 buffer(s)Hash table size 34679, node heap has 1 buffer(s)Hash table size 34679, node heap has 0 buffer(s)Hash table size 34679, node heap has 0 buffer(s)Hash table size 34679, node heap has 1 buffer(s)Hash table size 34679, node heap has 0 buffer(s)Hash table size 34679, node heap has 1 buffer(s)Hash table size 34679, node heap has 4 buffer(s)0.37 hash searches&#x2F;s, 0.25 non-hash searches&#x2F;s---LOG---Log sequence number 34372703Log buffer assigned up to 34372703Log buffer completed up to 34372703Log written up to 34372703Log flushed up to 34372703Added dirty pages up to 34372703Pages flushed up to 34372703Last checkpoint at 3437270395 log i&#x2F;o&#39;s done, 0.00 log i&#x2F;o&#39;s&#x2F;second----------------------BUFFER POOL AND MEMORY----------------------Total large memory allocated 137363456Dictionary memory allocated 464815Buffer pool size 8192Free buffers 6942Database pages 1243Old database pages 478Modified db pages 0Pending reads 0Pending writes: LRU 0, flush list 0, single page 0Pages made young 0, not young 00.00 youngs&#x2F;s, 0.00 non-youngs&#x2F;sPages read 1100, created 143, written 2140.00 reads&#x2F;s, 0.00 creates&#x2F;s, 0.00 writes&#x2F;sBuffer pool hit rate 1000 &#x2F; 1000, young-making rate 0 &#x2F; 1000 not 0 &#x2F; 1000Pages read ahead 0.00&#x2F;s, evicted without access 0.00&#x2F;s, Random read ahead 0.00&#x2F;sLRU len: 1243, unzip_LRU len: 0I&#x2F;O sum[0]:cur[0], unzip sum[0]:cur[0]--------------ROW OPERATIONS--------------0 queries inside InnoDB, 0 queries in queue0 read views open inside InnoDBProcess ID&#x3D;1, Main thread ID&#x3D;139976635500288 , state&#x3D;sleepingNumber of rows inserted 33, updated 323, deleted 0, read 84710.00 inserts&#x2F;s, 0.00 updates&#x2F;s, 0.00 deletes&#x2F;s, 0.65 reads&#x2F;s----------------------------END OF INNODB MONITOR OUTPUT&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; æ ¸å¿ƒæŒ‡æ ‡ Total large memory allocated 137363456//æ€»å†…å­˜Dictionary memory allocated 464815//data+indexåˆ†é…å†…å­˜Buffer pool size 8192Free buffers 6942Database pages 1243Old database pages 478Modified db pages 0Pending reads 0Pending writes: LRU 0, flush list 0, single page 0Pages made young 0, not young 0//ç§»åˆ°youngåŒºé¡µæ•°0.00 youngs/s, 0.00 non-youngs/s//ç§»åŠ¨é€Ÿåº¦Pages read 1100, created 143, written 2140.00 reads/s, 0.00 creates/s, 0.00 writes/s //å‘½ä¸­ç‡æŒ‡æ ‡ Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000 //é¢„è¯»æŒ‡æ ‡ //é¢„è¯»é€Ÿåº¦ï¼Œé¢„è¯»åæ— æ•ˆé¡µé€Ÿåº¦ï¼Œéšæœºé¢„è¯»é€Ÿåº¦ Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s //LRUåˆ—è¡¨é•¿åº¦ LRU len: 1243, unzip_LRU len: 0I/O sum[0]:cur[0], unzip sum[0]:cur[0] 15.5.2 Change Bufferchange bufferæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼Œé¡µé¢ä¸åœ¨ç¼“å†²æ± æ—¶ï¼Œcashesä¼šæ”¹å˜secondary indexï¼Œå½“ç¼“å†²æ›´æ”¹å°†åœ¨ä»¥åé€šè¿‡å…¶ä»–è¯»æ“ä½œå°†é¡µé¢åŠ è½½åˆ°ç¼“å†²æ± åˆå¹¶ 15.5.3 Adptive Hash Index15.5.4 Log Buffer15.6.1 Tables15.6.1.1 Creating InnoDB Tablescreate table statement CREATE TABLE t1 (a INT, b CHAR (20), PRIMARY KEY (a)) ENGINE=InnoDB; é»˜è®¤é…ç½®ä¸‹ï¼Œé»˜è®¤InnoDBï¼Œåˆ™æ— éœ€æŒ‡å®šï¼ŒæŸ¥è¯¢é…ç½®ä¸­é»˜è®¤å¼•æ“æŒ‡ä»¤ SELECT @@default_storage_engine åœ¨ä»¥ä¸‹æƒ…å†µä¸‹éœ€è¦ä½¿ç”¨ENGINE=InnoDB use mysqldumpï¼ˆA Database Backup Programï¼‰ å¤åˆ¶åˆ°ä¸æ˜¯innodbçš„serverä¸Š innodbçš„è¡¨å’Œç´¢å¼•åˆ›å»ºåœ¨system tablespace or file-per-table tablespace or general tablespaceã€‚å½“å¯ç”¨innodb file per tableï¼ˆé»˜è®¤å¯ç”¨ï¼‰ï¼Œinnodbè¡¨ä¼šè¢«éšå¼åˆ›å»ºåœ¨è¯»äº†çš„file-per-table spaceã€‚ç›¸åçš„ç¦ç”¨ä¼šåˆ›å»ºåœ¨innodb system tablespace.ä½¿ç”¨create table â€¦ tablespace è¯­æ³•åœ¨general tablespaceä¸­åˆ›å»ºè¡¨ å½“ä½ åœ¨`file-per-table tablespace ä¸­åˆ›å»ºè¡¨çš„æ—¶å€™ï¼ŒMySQLé»˜è®¤ä¼šåœ¨æ•°æ®ç›®å½•ä¸‹åˆ›å»º.dbè¡¨ç©ºé—´æ–‡ä»¶ã€‚åœ¨Innodb system tablespaceä¸­åˆ›å»ºçš„è¡¨ï¼Œç”±å·²ç»å­˜åœ¨çš„ibdataæ–‡ä»¶åˆ›å»ºçš„ï¼Œè¯¥æ–‡ä»¶åœ¨MySQL dataç›®å½•ä¸­ï¼Œåœ¨general tablespace ä¸­åˆ›å»ºçš„è¡¨ï¼Œç”±å·²ç»å­˜åœ¨çš„general tablespace .bdæ–‡ä»¶åˆ›å»ºï¼Œè¯¥æ–‡ä»¶å¯ä»¥åœ¨data ç›®å½•çš„å†…éƒ¨æˆ–è€…å¤–éƒ¨ å†…éƒ¨ä¸­ï¼Œinnodbä¼šå°†æ¯ä¸ªè¡¨çš„entryæ·»åŠ åˆ°data dictionaryä¸­ã€‚entryåŒ…æ‹¬ï¼Œdatabase nameã€‚ä¾‹å¦‚ï¼Œåœ¨æ•°æ®åº“ä¸­åˆ›å»ºtable t1 (in test database),datadictionary å°±æ˜¯test/t1ï¼Œå½“ä½ åœ¨åˆ«çš„databaseä¸­åˆ›å»ºåŒåè¡¨ä¸ä¼šå†²çªã€‚ InnoDB tables and Row Formats é»˜è®¤é€šè¿‡innodb default row formaté…ç½®é¡¹é…ç½®é»˜è®¤è¡Œæ ¼å¼ï¼Œé»˜è®¤å€¼DYNAMIC. Dynamic å’Œ Compressedè¡Œæ ¼å¼åŠŸèƒ½ï¼Œæ¯”å¦‚ è¡¨å‹ç¼© efficient off-page storage of column values è¯¥åŠŸèƒ½éœ€è¦innodb file per tableæ”¯æŒ 12345678SET GLOBAL innodb_file_per_table=1;CREATE TABLE t3 (a INT, b CHAR (20), PRIMARY KEY (a)) ROW_FORMAT=DYNAMIC;CREATE TABLE t4 (a INT, b CHAR (20), PRIMARY KEY (a)) ROW_FORMAT=COMPRESSED;//or CREATE TABLE t1 (c1 INT PRIMARY KEY) TABLESPACE ts1 ROW_FORMAT=DYNAMIC;//orCREATE TABLE t1 (c1 INT PRIMARY KEY) TABLESPACE = innodb_system ROW_FORMAT=DYNAMIC; InnoDB Tables Primary Keys ä¸»é”®å¿…é¡»å­˜åœ¨ï¼Œå¹¶æ»¡è¶³ä¸€ä¸ªæˆ–å¤šä¸ªæ¡ä»¶ï¼š ç»å¸¸ç´¢å¼• ä¸ä¸ºç©º ä¸é‡å¤ å‡ ä¹ä¸æ›´æ–° 12345# The value of ID can act like a pointer between related items in different tables.CREATE TABLE t5 (id INT AUTO_INCREMENT, b CHAR (20), PRIMARY KEY (id));# The primary key can consist of more than one column. Any autoinc column must come first.CREATE TABLE t6 (id INT AUTO_INCREMENT, a INT, b CHAR (20), PRIMARY KEY (id,a)); innodb talbe properties 123456789101112131415161718192021222324252627282930313233mysql&gt; SHOW TABLE STATUS FROM test LIKE &#x27;t%&#x27; \\G;*************************** 1. row *************************** Name: t1 Engine: InnoDB Version: 10 Row_format: Compact Rows: 0 Avg_row_length: 0 Data_length: 16384Max_data_length: 0 Index_length: 0 Data_free: 0 Auto_increment: NULL Create_time: 2015-03-16 15:13:31 Update_time: NULL Check_time: NULL Collation: utf8mb4_0900_ai_ci Checksum: NULL Create_options: Comment: //ormysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_TABLES WHERE NAME=&#x27;test/t1&#x27; \\G*************************** 1. row *************************** TABLE_ID: 45 NAME: test/t1 FLAG: 1 N_COLS: 5 SPACE: 35 ROW_FORMAT: CompactZIP_PAGE_SIZE: 0 SPACE_TYPE: Single 15.6.1.2 Creating Tables Externallyåˆ›å»ºå¤–é”®åŸå› ï¼š space management IOä¼˜åŒ– æŠŠè¡¨æ”¾ç½®åœ¨ç‰¹å®šæ€§èƒ½æˆ–è€…å®¹é‡çš„å­˜å‚¨è®¾å¤‡ä¸Šï¼ˆï¼Ÿï¼‰ åˆ›å»ºæ–¹å¼ï¼š ä½¿ç”¨data directionary CREATE TABLE â€¦ TABLESPACE Syntax Creating a Table in an External General Tablespace Using the DATA DIRECTORY Clause CREATE TABLE t1 (c1 INT PRIMARY KEY) DATA DIRECTORY = â€˜/external/directoryâ€˜; åœ¨file-per-talbe tablespacesä¸­æ”¯æŒä½¿ç”¨DATA DIRECTORY clauseåˆ›å»ºè¡¨ã€‚åœ¨file-per-tableä¸­å¯ç”¨innodb file per tableå°†éšå¼åˆ›å»ºè¡¨ 123456mysql&gt; SELECT @@innodb_file_per_table;+-------------------------+| @@innodb_file_per_table |+-------------------------+| 1 |+-------------------------+ External 1234567891011mysql&gt; USE test;Database changedmysql&gt; CREATE TABLE t1 (c1 INT PRIMARY KEY) DATA DIRECTORY = &#x27;/external/directory&#x27;;# MySQL creates the table&#x27;s data file in a schema directory # under the external directoryshell&gt; cd /external/directory/testshell&gt; lst1.ibd ä½¿ç”¨é¡»çŸ¥ externalæ—¶å€™è¦ç¡®ä¿innodbçŸ¥é“è¯¥ç›®å½• (å¾…è¡¥å……) Using CREATE TABLE â€¦ TABLESPACE Syntax 12CREATE TABLE t2 (c1 INT PRIMARY KEY) TABLESPACE = innodb_file_per_table DATA DIRECTORY = &#x27;/external/directory&#x27;; è¿™ä¸ªæ–¹æ³•ä»…ä»…å¯ä»¥ç”¨åœ¨file-per-talbe tablespacesä¸­åˆ›å»ºçš„è¡¨ï¼Œå¹¶ä¸éœ€è¦enable innodb file per talbeï¼Œåœ¨å…¶ä»–æ–¹é¢ï¼Œè¿™ä¸ªæ–¹æ³•ç­‰æ•ˆäºcreate table â€¦data directoryæ–¹æ³•ï¼Œé€‚ç”¨ç›¸åŒä½¿ç”¨é¡»çŸ¥ Creating a Table in an External General Tablespace å¯ä»¥åœ¨general tablespacesä¸­ä¾é external directoryåˆ›å»ºè¡¨ 15.6.1.3 Importing InnoDB Tables15.6.1.4 Moving or Copying InnoDB Tables15.6.1.5 Converting Tables from MyISAM to InnoDB15.6.1.6 AUTO_INCREMENT Handling in InnoDB15.6.2 Indexes15.6.2.1 Clustered and Secondary Indexes è¯¥ç« èŠ‚å—é¢è¯•å®˜æ¬¢è¿ innodbé‡‡ç”¨èšç°‡ç´¢å¼•ï¼Œå­˜å‚¨è¡Œæ•°æ®ï¼Œèšç°‡ç´¢å¼•ä¸ä¸»é”®åŒä¹‰ï¼ˆSynonymosï¼‰ ä¸»é”®ï¼ˆæˆ–è‡ªå¢åˆ—ï¼‰ä¼šç”¨ä½œèšç°‡ç´¢å¼• å¦‚æœæ²¡æœ‰ä¸»é”®åˆ™mysqlä¼šåœ¨æ‰€æœ‰åˆ—éƒ½ä¸ä¸ºnullçš„æƒ…å†µä¸‹ï¼Œç»™uniqueç´¢å¼•ç”¨ä½œèšç°‡ç´¢å¼• å¦‚æœä»¥ä¸Šéƒ½æ²¡æœ‰ï¼Œä¼šå†…éƒ¨ç”Ÿæˆåä¸ºGEN_CLUST_INDEXçš„éšè—èšé›†ç´¢å¼• whyæ›´å¿« èšç°‡ç´¢å¼•è®¿é—®è¡Œæ˜¯å¿«é€Ÿçš„ï¼Œå› ä¸ºå¯ä»¥ç›´æ¥å¯¼èˆªåˆ°æ‰€æœ‰è¡Œæ•°æ®çš„é¡µï¼Œå¦‚æœé¡µå¾ˆå¤§ï¼Œèšç°‡ç´¢å¼•ç›¸å¯¹äºå…¶ä»–ä¼šå‡å°‘IOï¼ˆå…¶ä»–çš„å¼•æ“ä½¿ç”¨ä¸åŒçš„é¡µé¢æ¥å­˜å‚¨è¡Œæ•°æ®å’Œç´¢å¼•ï¼‰ ä¸¤è€…ç›¸å…³ åœ¨éèšç°‡ç´¢å¼•ä¸­ï¼Œæ¯æ¡è®°å½•åŒ…å«ä¸»é”®ä»¥åŠæŒ‡å‘éèšç°‡ç´¢å¼•çš„åˆ—ï¼ˆä¸ªäººç†è§£ï¼Œé™¤äº†å­˜å‚¨ä¸»é”®ï¼Œä¸»é”®è¿˜éœ€è¦å­˜å‚¨åœ°å€å»æŒ‡å‘rowï¼‰ åœ¨èšç°‡ç´¢å¼•ä¸­ï¼Œåˆ©ç”¨ä¸»é”®çš„å€¼å–å¯»æ‰¾è¿™æ¡è®°å½• å¦‚æœä¸»é”®é•¿åˆ™éèšç°‡ç´¢å¼•ä½¿ç”¨æ›´å¤šç©ºé—´ï¼Œå› æ­¤å®ƒé€‚åˆä½¿ç”¨çŸ­ä¸»é”® 15.6.2.2 The Physical Structure of an InnoDB Indexé™¤äº†ç©ºé—´ç´¢å¼•ï¼ˆspatial indexesï¼‰,innoDBç´¢å¼•éƒ½æ˜¯B-tree ç©ºé—´ç´¢å¼•ä½¿ç”¨R-treesï¼ˆç´¢å¼•å¤šç»´æ•°æ®çš„ä¸“ç”¨æ•°æ®ç»“æ„ï¼‰ ç´¢å¼•è®°å½•å­˜å‚¨åœ¨Bæ ‘æˆ–è€…Ræ ‘ï¼Œæ•°æ®ç»“æ„ä¸­çš„å¶å­èŠ‚ç‚¹ä¸­çš„é¡µä¸­ï¼Œç´¢å¼•é¡µé»˜è®¤16K å½“æ–°çš„è®°å½•æ’å…¥åˆ°èšç°‡ç´¢å¼•ä¸­æ—¶ï¼Œinnodbå°è¯•ç©ºé—²é¡µ1/16ä¾›å°†æ¥æ’å…¥å’Œæ›´æ–°ç´¢å¼•è®°å½• é¡ºåºæ’å…¥åˆ™æ‰€å¾—ç´¢å¼•é¡µçº¦ä¸º15/16è£…æ»¡ ä¹±åºæ’å…¥åˆ™é¡µé¢å®¹é‡ä¸º1/2 to 15/16 InnoDBåœ¨åˆ›å»ºæˆ–è€…é‡å»ºBtreeæ—¶æ‰§è¡Œæ‰¹é‡åŠ è½½ï¼Œæˆä¸ºæ’åºç´¢å¼•æ„å»ºï¼ˆsorted index buildï¼‰é€šè¿‡innodb fill factor é…ç½®é¡¹å®šä¹‰åœ¨æ’åºç´¢å¼•æ„å»ºæœŸé—´å¡«å……æ¯ä¸ªB-Treeé¡µé¢ä¸Šçš„ç©ºé—´ç™¾åˆ†æ¯”ï¼Œå‰©ä½™çš„ç©ºé—´å°†æ¥ç´¢å¼•å¢é•¿ä½¿ç”¨ 15.6.2.3 Sorted Index Builds 15.6.2.4 InnoDB FULLTEXT Indexes15.6.3 Tablespaces15.6.3.1 The System Tablespace15.6.3.2 File-Per-Table Tablespaces15.6.3.3 General Tablespaces15.6.3.4 Undo Tablespaces15.6.3.5 Temporary Tablespaces15.6.3.6 Moving Tablespace Files While the Server is Offline###15.6.4 Doublewrite Buffer 15.6.5 Redo Log15.6.6 Undo Logs](https://dev.mysql.com/doc/refman/8.0/en/innodb-fulltext-index.html)","raw":null,"content":null},{"title":"SpringBoot","date":"2019-12-12T02:31:48.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"SpringBoot/index.html","permalink":"http://zehai.info/SpringBoot/index.html","excerpt":"","text":"[TOC] Getting Start1.ä»‹ç»ï¼ˆæˆ‘ä»¬ç‰›é€¼ï¼Œå¼€ç®±å³ç”¨ï¼‰ 2.å¼€å§‹1.spring-bootç²¾é«“ä¹‹å¤„å°±æ˜¯ç®€åŒ–äº†springçš„é…ç½®ï¼Œ Spring Bootä¾èµ–é¡¹ä½¿ç”¨org.springframework.bootï¼Œç»§æ‰¿è‡ªspring-boot-starter-parentï¼Œå¦å¤–è¿˜æ”¯æŒgradle(å¾…è¡¥å……)ï¼Œä¸‹é¢ç¤ºä¾‹ä¸­çš„æ³¨è§£å¯ä»¥è¯¦ç»†çœ‹ä¸€ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;myproject&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;!-- Inherit defaults from Spring Boot --&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.2.RELEASE&lt;/version&gt; &lt;/parent&gt; &lt;!-- Override inherited settings --&gt; &lt;description/&gt; &lt;developers&gt; &lt;developer/&gt; &lt;/developers&gt; &lt;licenses&gt; &lt;license/&gt; &lt;/licenses&gt; &lt;scm&gt; &lt;url/&gt; &lt;/scm&gt; &lt;url/&gt; &lt;!-- Add typical dependencies for a web application --&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;!-- Package as an executable jar --&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; 2.groupIdå’ŒartifactIdï¼ˆå¾…è¡¥å……ï¼‰ 3. @RestControlleræ¥æ ‡è®°æ§åˆ¶å™¨ï¼ˆControllerï¼‰ä¸€ä¸ªæ˜¯æ³¨é‡Šçš„ä½œç”¨ï¼Œä¸€ä¸ªæ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå¤„ç†webè¯·æ±‚çš„æ—¶å€™è€ƒè™‘ä¸€ä¸‹æˆ‘ã€‚ @RequestMappingåšè·¯ç”±æ˜ å°„â„(â„ â„â€¢â„Ï‰â„â€¢â„ â„)â„ï¼Œå¹¶è¿”å›stringç±»å‹ã€‚ @EnableAutoConfigurationäºŒçº§æ³¨è§£ï¼Œè¿™ä¸ªæ³¨é‡Šå‘Šè¯‰Spring Bootæ ¹æ®æ‰€æ·»åŠ çš„jarä¾èµ–å…³ç³»â€œçŒœæµ‹â€æ‚¨å¦‚ä½•é…ç½®Springã€‚ç”±äºspring-boot-starter-webæ·»åŠ äº†Tomcatå’ŒSpring MVCï¼Œå› æ­¤è‡ªåŠ¨é…ç½®å‡å®šæ‚¨æ­£åœ¨å¼€å‘Webåº”ç”¨ç¨‹åºå¹¶ç›¸åº”åœ°è®¾ç½®Springã€‚ 123456789101112131415161718import org.springframework.boot.*;import org.springframework.boot.autoconfigure.*;import org.springframework.web.bind.annotation.*;@RestController@EnableAutoConfigurationpublic class Example &#123; @RequestMapping(&quot;/&quot;) String home() &#123; return &quot;Hello World!&quot;; &#125; public static void main(String[] args) &#123; SpringApplication.run(Example.class, args); &#125;&#125; 4.Mainæ–¹æ³• è¿™æ˜¯éµå¾ªJavaçº¦å®šçš„åº”ç”¨ç¨‹åºå…¥å£ç‚¹çš„æ ‡å‡†æ–¹æ³•ã€‚æˆ‘ä»¬çš„ä¸»è¦æ–¹æ³•é€šè¿‡è°ƒç”¨runæ¥å¯åŠ¨Spring Bootçš„SpringApplicationç±»ã€‚SpringApplicationä¼šå¼•å¯¼æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œå¹¶å¯åŠ¨Springï¼Œå¹¶ä¸”åˆä¼šå¯åŠ¨è‡ªåŠ¨é…ç½®çš„Tomcat WebæœåŠ¡å™¨ã€‚å°†Example.classä½œä¸ºå‚æ•°ä¼ é€’ç»™runæ–¹æ³•ï¼Œä»¥å‘Šè¯‰SpringApplicationå“ªä¸ªæ˜¯ä¸»è¦çš„Springç»„ä»¶ã€‚argsæ•°ç»„ä¹Ÿé€šè¿‡ä¼ é€’ä»¥å…¬å¼€ä»»ä½•å‘½ä»¤è¡Œå‚æ•°ã€‚ 5.åˆ›å»ºå¯æ‰§è¡Œçš„jar(æŠŠç¨‹åºæ‰“åŒ…æˆjar) 12345678&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;&#x2F;artifactId&gt; &lt;&#x2F;plugin&gt; &lt;&#x2F;plugins&gt;&lt;&#x2F;build&gt; å¼€å§‹æ‰“åŒ…ï¼šmvn package çœ‹ç»†èŠ‚ï¼šjar tvf target/myproject-0.0.1-SNAPSHOT.jar åŸå§‹jarï¼šmyproject-0.0.1-SNAPSHOT.jar.origin 6.å¯åŠ¨ æˆ‘å°†æä¾›ä¸€ä¸ªæˆ‘åœ¨debugçš„é¡¹ç›®ä¾›å¤§å®¶è°ƒè¯•ï¼Œhttps://github.com/ShawnGoethe/money Application.javaé…ç½®æˆå¯åŠ¨é¡¹ï¼Œåœ¨IDEAä¸­å°±å¯ä»¥å¯åŠ¨äº†ï¼Œåœ¨/helloç›®å½•ä¸‹å°±å¯ä»¥çœ‹åˆ°è¿”å›çš„å­—ç¬¦ä¸²äº† 3.ä½¿ç”¨3.1build ä¾èµ–ç®¡ç†ï¼šä¼šè‡ªåŠ¨å‡çº§é™¤éæŒ‡å®šä¾èµ–åŒ…æœ¬ mavenï¼šç»§æ‰¿è‡ªspring-boot-starter-parentè·å¾—é»˜è®¤é…ç½® åºå· ç‰¹æ€§ 1. Java 1.8ä¸ºåŸºç¡€ 2 UTF-8ç¼–ç æ–¹å¼ 3. ç»§æ‰¿è‡ªspring-boot-dependencies çš„A Dependency Management sectionå¯ä»¥çœå»versionæ ‡ç­¾ 4 An execution of the repackage goal with a repackage execution id. Sensible resource filtering. 5 æ™ºèƒ½æ’ä»¶é…ç½® 6 èµ„æºè¿‡æ»¤ mavené…ç½®ä½ çš„é¡¹ç›®ï¼Œä»ç»§æ‰¿spring-boot-starter-parentå¼€å§‹ 1234567891011&lt;!-- Inherit defaults from Spring Boot --&gt;&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;&lt;/parent&gt;&lt;!--éœ€è¦æŒ‡å®šç‰ˆæœ¬å·ï¼Œé™¤äº†å¯¼å…¥å…¶ä»–å¯åŠ¨å™¨--&gt;&lt;properties&gt; &lt;!--è¦†ç›–parentä¸­spring dataçš„é…ç½®--&gt; &lt;spring-data-releasetrain.version&gt;Fowler-SR2&lt;/spring-data-releasetrain.version&gt;&lt;/properties&gt; å¦‚æœä½ ä¸æƒ³ç»§æ‰¿parenté…ç½®å‘¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¬å¸çš„ä¾èµ–ï¼Œé€šè¿‡scopeæ ‡ç­¾æ¥ä¿ç•™ä¾èµ–é¡¹ç›®ç®¡ç†â†“1234567891011121314151617181920212223242526272829303132&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;!-- Import dependency management from Spring Boot --&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;2.2.2.RELEASE&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;!--or--&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;!-- Override Spring Data release train provided by Spring Boot --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.data&lt;/groupId&gt; &lt;artifactId&gt;spring-data-releasetrain&lt;/artifactId&gt; &lt;version&gt;Fowler-SR2&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;2.2.2.RELEASE&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt; maven pluginç›®çš„ï¼šæŠŠä½ çš„é¡¹ç›®æ‰“åŒ…æˆå¯æ‰§è¡Œçš„jarï¼Œç±»ä¼¼npmé‡Œé¢çš„åŒ… å®ç°æ–¹å¼ï¼špomä¸­æ·»åŠ ï¼šï¼ˆä»¥ä¸‹æƒ…å†µä¸ºé»˜è®¤é…ç½®ï¼‰ 12345678&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;&#x2F;artifactId&gt; &lt;&#x2F;plugin&gt; &lt;&#x2F;plugins&gt;&lt;&#x2F;build&gt; gradleï¼ˆå¾…è¡¥å……ï¼‰ antï¼ˆå¾…è¡¥å……ï¼‰ starter(å‘½åè§„åˆ™ï¼šspring-boot-starter-*) åç§° æè¿° spring-boot-starter å¯åŠ¨æ ¸å¿ƒï¼ˆåŒ…æ‹¬è‡ªåŠ¨é…ç½®ï¼Œæ—¥å¿—å’ŒYAMLï¼‰ spring-boot-starter-activemq Apache ActiveMQ spring-boot-starter-amqp Spring AMQP and Rabbit MQ spring-boot-starter-aop ä½¿ç”¨AOPå’ŒAspectJé¢å‘åˆ‡ç‰‡ç¼–ç¨‹ spring-boot-starter-artemis Apache Artemis spring-boot-starter-batch ä½¿ç”¨Spring Batchæ‰¹å¤„ç† spring-boot-starter-cache Spring Frameworkâ€™s caching spring-boot-starter-cloud-connectors spring-boot-starter-data-cassandra spring-boot-starter-data-cassandra-reactive spring-boot-starter-data-couchbase spring-boot-starter-data-couchbase-reactive spring-boot-starter-data-elasticsearch spring-boot-starter-data-jdbc Spring Data JDBC spring-boot-starter-data-jpa spring-boot-starter-data-ldap spring-boot-starter-data-mongodb spring-boot-starter-data-mongodb-reactive spring-boot-starter-data-neo4j spring-boot-starter-data-redis spring-boot-starter-data-redis-reactive spring-boot-starter-data-rest spring-boot-starter-data-solr spring-boot-starter-freemarker spring-boot-starter-groovy-templates spring-boot-starter-hateoas spring-boot-starter-integration spring-boot-starter-jdbc spring-boot-starter-jersey spring-boot-starter-jooq spring-boot-starter-json spring-boot-starter-jta-atomikos spring-boot-starter-jta-bitronix spring-boot-starter-mail spring-boot-starter-mustache spring-boot-starter-oauth2-client spring-boot-starter-oauth2-resource-server spring-boot-starter-quartz spring-boot-starter-rsocket spring-boot-starter-security spring-boot-starter-test spring-boot-starter-thymeleaf spring-boot-starter-validation spring-boot-starter-web WEBæœåŠ¡åŒ…æ‹¬RESTfulï¼Œspring MVCåº”ç”¨ï¼Œç»§æ‰¿tomctçš„å®¹å™¨ spring-boot-starter-web-services spring-boot-starter-webflux spring-boot-starter-websocket é™¤äº†ä¸Šé¢çš„åº”ç”¨çº§åˆ«ä¾èµ–ï¼Œè¿˜æœ‰ç”Ÿäº§ç¯å¢ƒstaterâ†“ åç§° æè¿° spring-boot-starter-actuator å¸®åŠ©ç›‘æ§å’Œç®¡ç†ç”Ÿäº§åº”ç”¨ç¨‹åº å¦‚æœä½ æƒ³æ¢ä¸€äº›æŠ€æœ¯å¯ä»¥å‚è€ƒâ†“ åç§° æè¿° spring-boot-starter-jetty spring-boot-starter-log4j2 spring-boot-starter-logging spring-boot-starter-reactor-netty spring-boot-starter-tomcat spring-boot-starter-undertow 3.2 ç»“æ„åŒ–ä»£ç spring bootï¼šæˆ‘ä»¬å¾ˆç‰›é€¼ï¼Œä¸éœ€è¦ä»»ä½•ç‰¹å®šçš„ä»£ç å¸ƒå±€å°±å¯ä»¥å¼€å§‹ï¼Œä½†æœ‰äº›ç»“æ„åŒ–å¯ä»¥å¯¹ç¼–ç¨‹æœ‰å¸®åŠ© 3.2.1ä½¿ç”¨é»˜è®¤åŒ…å½“ç±»ä¸åŒ…å«packageå£°æ˜çš„æ—¶å€™ï¼Œå°†è§†è¯¥ç±»åœ¨é»˜è®¤ç¨‹åºåŒ…ä¸­ï¼ˆè™½ç„¶æˆ‘ä»¬ä¸æ¨èï¼Œå®ƒä¼šå¯¼è‡´@ComponentScanï¼Œ@ConfigurationPropertiesScanï¼Œ@EntityScanï¼Œ@SpringBootApplicationç­‰ä¸€äº›é—®é¢˜ï¼‰ 3.2.2 mainç±»æˆ‘ä»¬å»ºè®®å°†mainæ–‡ä»¶æ”¾åœ¨åº”ç”¨çš„æ ¹ç›®å½•ï¼Œ@SpringBootApplicationçš„æ³¨è§£ä¼šåœ¨ä½ çš„mainç±»ä¸Šæ–¹ï¼Œå®ƒä¹Ÿä¼šéšå¼å®šä¹‰ä¸€äº›æœç´¢çš„åŸºç¡€åŠŸèƒ½ï¼Œå¦‚å†™JPAçš„æ—¶å€™ï¼Œ@SpringBootApplicationä¼šå¸®ä½ å¯»æ‰¾@Entityæ³¨è§£ï¼Œæ–‡ä»¶æ”¾åœ¨æ ¹ç›®å½•ï¼Œå¯ä»¥æŸ¥åˆ°æ‰€æœ‰ç›®å½•ä¸‹çš„@Entityã€‚ 3.2.3 å¸¸ç”¨åŒ…tree12345678910111213141516com +- example +- myapplication +- Application.java | +- customer | +- Customer.java | +- CustomerController.java | +- CustomerService.java | +- CustomerRepository.java | +- order +- Order.java +- OrderController.java +- OrderService.java +- OrderRepository.java Application.javaæ–‡ä»¶å°†ç”¨@SpringBootApplicationæ³¨è§£mainä¸»æ–¹æ³•12345678910111213package com.example.myapplication;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@SpringBootApplicationpublic class Application &#123; public static void main(String[] args) &#123; SpringApplication.run(Application.class, args); &#125;&#125; 3.3 é…ç½®ç±»SpringBootæ”¯æŒåŸºäºJavaçš„é…ç½®ï¼Œå°½å¯ä»¥ä½¿ç”¨XMLæ ¼å¼çš„SpringApplicationçš„é…ç½®ï¼Œä½†æˆ‘ä»¬ä»ç„¶å»ºè®®æ‚¨çš„ä¸»è¦ç¨‹åºé…ç½®æ˜¯ä¸€ä¸ªç®€å•çš„é…ç½®ç±»ï¼Œé€šå¸¸ï¼Œmainæ–¹æ³•æœ€å¥½ä½¿ç”¨@Configuration 3.3.1 å¯¼å…¥å…¶ä»–é…ç½®ç±»ä¸éœ€è¦æŠŠæ‰€æœ‰é…ç½®æ”¾åœ¨å•ä¸ªé…ç½®ç±»ä¸­ï¼Œ@Importæ³¨è§£å¯ä»¥å¸®åŠ©ä½ å¯¼å…¥å…¶ä»–é…ç½®ç±»ï¼Œå¦å¤–ï¼Œä½ å¯ä»¥ä½¿ç”¨@ComponentScanæ¥è‡ªåŠ¨è·å–æ‰€æœ‰Springç»„ä»¶ï¼ŒåŒ…æ‹¬@Configurationç±» 3.3.2 é€šè¿‡xmlé…ç½®å¦‚æœä½ å¿…é¡»ä½¿ç”¨XMLï¼Œä»ç„¶å»ºè®®ä»@Configurationé…ç½®ç±»å¼€å§‹ï¼Œç„¶åä½ å¯ä»¥ä½¿ç”¨@ImporResourceæ³¨è§£æ¥åŠ è½½xmlé…ç½®æ–‡ä»¶ 3.4 è‡ªåŠ¨é…ç½®SpringBootè‡ªåŠ¨é…ç½®ä¼šå°è¯•æ ¹æ®æ·»åŠ çš„ä¾èµ–è‡ªåŠ¨é…ç½®Springåº”ç”¨ç¨‹åºï¼Œä½ éœ€è¦é€šè¿‡@EnableAutoConfigurationæˆ–è€…@SpringBootApplicationï¼ˆä»…èƒ½ç”¨ä¸€ä¸ªï¼‰æ³¨è§£åˆ°é…ç½®ç±»ä¸­ 3.4.1é€æ¸å–æ¶ˆè‡ªåŠ¨é…ç½®è‡ªåŠ¨é…ç½®æ˜¯ä¸æ™ºèƒ½çš„ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨è‡ªå®šä¹‰é…ç½®æ¥æ›¿æ¢è‡ªåŠ¨é…ç½® 3.4.2ç¦ç”¨ç‰¹å®šçš„è‡ªåŠ¨é…ç½®ç±»é€šè¿‡@EnableAutoConfigurationä¸­çš„exculdeç¦ç”¨ï¼Œä¾‹å¦‚ 12345678import org.springframework.boot.autoconfigure.*;import org.springframework.boot.autoconfigure.jdbc.*;import org.springframework.context.annotation.*;@Configuration(proxyBeanMethods = false)@EnableAutoConfiguration(exclude=&#123;DataSourceAutoConfiguration.class&#125;)public class MyConfiguration &#123;&#125; 3.5 Spring beans å’Œä¾èµ–æ³¨å…¥(dependencyInjection)ä½ å¯ä»¥ä»»æ„ä½¿ç”¨SpringFrameworkçš„æŠ€æœ¯æ¥å®šä¹‰ä½ çš„beanå’Œæ³¨å…¥ä¾èµ–ï¼Œå¦‚æŸ¥æ‰¾beançš„@ComponetScanå’Œæ„é€ æ³¨å…¥çš„@Autowired 12345678910111213141516171819package com.example.service;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;@Servicepublic class DatabaseAccountService implements AccountService &#123; //finalåç»­æ— æ³•ä¿®æ”¹ private final RiskAssessor riskAssessor; @Autowired //å¦‚æœbeanæœ‰äº†æ„é€ å™¨ï¼Œå°±ä¸éœ€è¦@Autowired public DatabaseAccountService(RiskAssessor riskAssessor) &#123; this.riskAssessor = riskAssessor; &#125; // ...&#125; 3.6@SpringBootApplication å¾ˆå—æ¬¢è¿çš„ä¸€ä¸ªæ³¨è§£ï¼Œå¯ä»¥ç”¨äºå¯ç”¨ä¸‰ä¸ªåŠŸèƒ½ @EnableAutoConfiguration @ComponentScan @Configuration 12345678910111213package com.example.myapplication;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@SpringBootApplication // same as @Configuration @EnableAutoConfiguration @ComponentScanpublic class Application &#123; public static void main(String[] args) &#123; SpringApplication.run(Application.class, args); &#125;&#125; 3.7run3.7.1 IDE3.7.2 æ‰“åŒ…è¿è¡Œ3.7.3 ä½¿ç”¨MavenPlugin3.7.4 ä½¿ç”¨GradlePlugin3.7.5çƒ­æ›´æ–°3.8 å¼€å‘å·¥å…·1234567&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 3.9 æ‰“åŒ…","raw":null,"content":null},{"title":"Network","date":"2019-03-14T09:20:18.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"cnetwork/index.html","permalink":"http://zehai.info/cnetwork/index.html","excerpt":"","text":"åŸºç¡€æ¦‚å¿µ é€Ÿç‡ï¼ˆæ¯”ç‰¹ç‡ï¼‰ï¼šåœ¨æ•°å­—ä¿¡é“ä¼ é€æ•°æ®ä½æ•°çš„é€Ÿç‡,b/s,kb/s,Mb/s(mbps:Mb per second)ï¼ˆè¿è¥å•†å¸¸ç”¨ï¼Œè¿›åˆ¶10è¿›åˆ¶ï¼‰ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºå¸¦å®½çš„æ¦‚å¿µ å­˜å‚¨å®¹é‡ï¼Œ1Byte=8bitï¼ˆè¿›åˆ¶1024ï¼‰ æ—¶å»¶ï¼šå‘é€æ—¶å»¶+ä¼ æ’­æ—¶å»¶+æ’é˜Ÿæ—¶å»¶+å¤„ç†æ—¶å»¶ RTTï¼šå¾€è¿”æ—¶å»¶ï¼Œå‘é€å¼€å§‹åˆ°å‘é€æ–¹æ”¶åˆ°æ¥æ”¶æ–¹çš„ackï¼Œå³2*ä¼ è¾“æ—¶å»¶ï¼Œä¸å«å‘é€æ—¶å»¶ï¼Œå¤„ç†æ—¶å»¶ç­‰ ä¿¡æºï¼šäº§ç”Ÿå’Œå‘é€æ•°æ®çš„æºå¤´ ä¿¡å®¿ï¼šæ¥æ”¶æ•°æ®çš„ç»ˆç‚¹ ä¿¡é“ï¼šä¿¡å·çš„ä¼ è¾“åª’ä»‹ å•å·¥åŒè¡Œï¼šç”µæŠ¥ï¼Œä¸€æ–¹åªèƒ½å‘é€ï¼Œä¸€æ–¹åªèƒ½æ¥å— åŠåŒå·¥é€šä¿¡ï¼šå¯¹è®²æœºï¼ŒåŒæ–¹é”™å¼€è¯´è¯ å…¨åŒå·¥é€šä¿¡ï¼šè§†é¢‘ç”µè¯ï¼ŒåŒæ–¹åŒæ—¶è¯´ OSI ä¸ƒå±‚æ¨¡å‹ï¼ŒTCPIPå››å±‚whyè§£å†³äº’è”ç½‘å¼‚æ„é—®é¢˜ what åºå· åç§° TCP/IP å¸¸è§åè®® ä½œç”¨ 7 åº”ç”¨å±‚ 6 è¡¨ç¤ºå±‚ 5 ä¼šè¯å±‚ åº”ç”¨å±‚ 4 ä¼ è¾“å±‚ ä¼ è¾“å±‚ 3 ç½‘ç»œå±‚ ç½‘é™…å±‚ 2 æ•°æ®é“¾è·¯å±‚ ç½‘ç»œæ¥å£å±‚ 1 ç‰©ç†å±‚ difference index OSI TCPIP 1 ç†è®ºæ¨¡å‹ å®é™…åº”ç”¨ 2-ç½‘ç»œå±‚åŒºåˆ« æ— è¿æ¥+é¢å‘è¿æ¥ æ— è¿æ¥ 3- ä¼ è¾“å±‚åŒºåˆ« é¢å‘è¿æ¥ æ— è¿æ¥+é¢å‘è¿æ¥ é¢å‘è¿æ¥ï¼šTCPçš„å»ºç«‹è¿æ¥ï¼Œç„¶åæ”¶å‘æ•°æ®ï¼Œæ–­å¼€è¿æ¥ æ— è¿æ¥ï¼šæ— éœ€å»ºç«‹è¿æ¥ï¼Œç›´æ¥å‘æ•°æ® äº”å±‚å‚è€ƒæ¨¡å‹å°±æ˜¯å°†TCP/IPçš„ç½‘ç»œæ¥å£å±‚åˆ†æˆäº†ï¼šæ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚ï¼Œä»åº•å‘ä¸Šä¾æ¬¡æ˜¯ï¼šç‰©ç†å±‚ï¼Œæ•°æ®é“¾è·¯å±‚ï¼Œç½‘ç»œå±‚ï¼Œä¼ è¾“å±‚ï¼Œåº”ç”¨å±‚ ä¼ è¾“ä»‹è´¨whatä¼ è¾“ä»‹è´¨æ˜¯ç¬¬0å±‚ï¼Œæ˜¯ç‰©ç†å±‚ä¸‹é¢çš„è½½ä½“ åˆ†ç±»å¯¼å‘æ€§ä¼ è¾“ä»‹è´¨ï¼šå›ºä½“ï¼Œå¦‚å…‰çº¤ï¼ŒåŒç»çº¿ï¼ŒåŒè½´ç”µç¼†ï¼ˆç”µè§†çº¿ï¼‰ éå¯¼å‘ç±»ä¼ è¾“ä»‹è´¨ï¼šç©ºæ°”ï¼ŒçœŸç©ºï¼Œæµ·æ°´ï¼Œç­‰ ç‰©ç†å±‚whyè§£å†³è®¡ç®—æœºçš„ä¼ è¾“åª’ä½“å¤šæ ·æ€§çš„é—®é¢˜ whatä¸»æœºå‘é€æ•°æ®æ— éœ€å…³å¿ƒåº•å±‚çš„ä»‹è´¨æ˜¯åŒç»çº¿è¿˜æ˜¯å…‰çº¤ï¼Œæˆ–è€…æ˜¯åä¸ºå®¶ç”Ÿäº§çš„ï¼Œè¿˜æ˜¯ä¸­å…´å®¶ç”Ÿäº§çš„ã€‚ ç±»æ¯”å°±æ˜¯ä½ è¦å‘ä¸€ä¸ªåŒ…è£¹ï¼Œä½ å¯ä»¥é€‰æ‹©å››é€šä¸€è¾¾ä»¥åŠé¡ºä¸°ï¼Œä¹Ÿä¸ç”¨ç®¡åŒ…è£¹èµ°æ°´é™†ç©ºé‚£ä¸€è·¯ï¼Œä½ åªè¦è´Ÿè´£å‘åŒ…è£¹ï¼Œå‰©ä¸‹çš„äº‹æƒ…ï¼Œç‰©ç†å±‚è§£å†³ æ¦‚å¿µ ç å…ƒï¼šå›ºå®šæ—¶é•¿çš„ä¿¡å·æ³¢å½¢ï¼ˆæ•°å­—è„‰å†²ï¼‰ï¼Œä¸¾ä¸ªä¾‹å­ï¼šäºŒè¿›åˆ¶ç å…ƒï¼Œ0å’Œ1ï¼Œå››è¿›åˆ¶ç å…ƒï¼Œ00,01,10,11ï¼Œå…«è¿›åˆ¶ç å…ƒ000,001,010,100,011,110,101,111ï¼Œå³ï¼Œä¸€ä¸ªç å…ƒå¯ä»¥æºå¸¦å¤šä¸ªæ¯”ç‰¹ä¿¡æ¯ ç å…ƒä¼ è¾“é€Ÿç‡ï¼š1sä¼ è¾“å¤šå°‘ä¸ªç å…ƒï¼Œå•ä½ï¼šæ³¢ç‰¹ï¼ˆBaudï¼‰ ä¿¡æ¯ä¼ è¾“é€Ÿç‡ï¼šç å…ƒä¼ è¾“é€Ÿç‡*nï¼ˆ1ä¸ªç å…ƒæœ‰nä¸ªæ¯”ç‰¹è¡¨ç¤ºï¼Œå¦‚101ï¼Œn=3ï¼‰,å€¼å°±æ˜¯å¸¦å®½b/s ç¼–ç  è§£ç  ç¼–ç  åç§° ç‰¹ç‚¹ äºŒè¿›åˆ¶æ•°æ® éå½’é›¶ç¼–ç ï¼ˆNRZï¼‰ ç®€å•ï¼Œä½†æ— æ³•æ£€é”™ï¼Œæ— æ³•ä¿æŒåŒæ­¥ å½’é›¶ç¼–ç ï¼ˆRZï¼‰ ä¸€ä¸ªç å…ƒå†…è¦æ¢å¤åˆ°é›¶ æ›¼å½»æ–¯ç‰¹ç¼–ç  ä¸‹è·³æ˜¯1ï¼Œä¸Šè·³æ˜¯0 å·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç  åŒ1å¼‚0 å…¶ä»–äº†è§£ï¼šåå‘ä¸å½’é›¶ç¼–ç ï¼ˆNRZIï¼‰ï¼Œ4B/5Bç¼–ç  å¥ˆæ°å‡†åˆ™ï¼ˆå¥ˆå¥æ–¯ç‰¹å®šç†ï¼Œä¼ è¾“æé™ï¼Œé¿å…ç é—´ä¸²æ‰°ï¼‰definitionåœ¨ç†æƒ³ç¯å¢ƒä¸‹ï¼Œä¸ºäº†é¿å…ç é—´ä¸²æ‰°ï¼Œæé™ç å…ƒä¼ è¾“é€Ÿç‡ä¸º2W Baudï¼ŒWä¸ºä¿¡é“å¸¦å®½ï¼Œå•ä½Hz æé™æ•°æ®ä¼ è¾“ç‡ $$v=2W\\log_2 V(b.s)$$ W:å¸¦å®½ï¼ˆHzï¼‰ V:å‡ ç§ç å…ƒ/ç å…ƒçš„ç¦»æ•£ç”µå¹³æ•°ç›® æ„ä¹‰ ç å…ƒä¼ è¾“é€Ÿç‡æœ‰ä¸Šé™ å¸¦å®½è¶Šå®½ï¼Œæé™ä¼ è¾“ç‡è¶Šé«˜ ä½¿ç”¨å¤šå…ƒåˆ¶çš„è°ƒåˆ¶æ–¹æ³•ï¼Œæé«˜ç å…ƒæºå¸¦çš„æ¯”ç‰¹æ•° é¦™å†œå®šç†ï¼ˆä¿¡å™ªæ¯”ï¼‰definition $$ä¿¡å™ªæ¯”= \\frac{ä¿¡å·çš„å¹³å‡åŠŸç‡}{å™ªå£°çš„å¹³å‡åŠŸç‡}$$ è®°ä½œï¼šS/N$$ä¿¡å™ªæ¯”ï¼ˆdBï¼‰=10\\ln (S/N)$$å•ä½ï¼šdBï¼Œåˆ†è´ ä»¥ä¸Šæ˜¯ä¿¡å™ªæ¯”çš„ä¸¤ç§è¡¨ç°å½¢å¼ é¦™å†œå®šç†ï¼šè§£å†³äº†å¸¦å®½å—é™æœ‰å™ªéŸ³çš„ä¿¡é“ä¸­ï¼Œä¸äº§ç”Ÿè¯¯å·®ï¼Œä¿¡æ¯çš„æ•°æ®ä¼ è¾“ç‡çš„ä¸Šé™ï¼ˆå¥ˆæ–¯æ˜¯ç†æƒ³ç¯å¢ƒï¼‰ ä¼ è¾“é€Ÿç‡ $$v=W\\log_2 (1+S/N)$$ å•ä½ï¼šb/s Wï¼šå¸¦å®½Hz é¢˜ç›®å¦‚æœè¯´ä¿¡å™ªæ¯”æ˜¯1000ï¼Œå³S/N=1000å¸¦å…¥ï¼Œå¦‚æœé¢˜ç›®è¯´ä¿¡å™ªæ¯”30dBåˆ™å¸¦å…¥å…¬å¼æ±‚å‡ºS/Nçš„å€¼ï¼Œå†ä»£å…¥å…¬å¼ æ„ä¹‰ ä¿¡å™ªæ¯”è¶Šå¤§ï¼Œæé™ä¼ è¾“é€Ÿç‡è¶Šé«˜ è€ƒé¢˜æ³¨æ„ï¼šé¢˜ç›®å¯èƒ½è®©ä½ æ±‚å¥ˆæ°å‡†åˆ™å’Œé¦™å†œå®šç†çš„é€Ÿç‡ï¼Œå–å…¶æœ€å°å€¼ä¸ºæé™é€Ÿç‡è®¾å¤‡ï¼ˆå¤„ç†ä¿¡å·ï¼‰ ä¸­ç»§å™¨ï¼šå†ç”Ÿå’Œè¿˜åŸæ•°å­—ä¿¡å· é›†çº¿å™¨ï¼šå¤šå£çš„ä¸­ç»§å™¨ï¼Œæ”¾å¤§è½¬å‘ï¼Œä¸èƒ½åˆ†å‰²å†²çªåŸŸï¼Œå¹³åˆ†å¸¦å®½ æ•°æ®é“¾è·¯å±‚definitionæ•°æ®é“¾è·¯å±‚å°†ç½‘ç»œå±‚çš„æ•°æ®å¯é çš„ä¼ è¾“åˆ°ç›¸é‚»æ¥ç‚¹çš„ç›®æ ‡åŠç½‘ç»œå±‚ ä½œç”¨ï¼šåŠ å¼ºç‰©ç†å±‚ä¼ è¾“åŸå§‹æ¯”ç‰¹æµçš„åŠŸèƒ½ï¼Œå°†ç‰©ç†å±‚æä¾›çš„å¯èƒ½å‡ºé”™çš„è¿æ¥æ”¹ä¸ºåœ¨é€»è¾‘ä¸Šæ— å·®é”™çš„æ•°æ®é“¾è·¯ ç®€å•æ¥è¯´ï¼šæ•°æ®é“¾è·¯å±‚ç»™æŠ¥æ–‡ç¼–å·ï¼Œå¯ä»¥è¿›è¡Œæµé‡æ§åˆ¶ï¼Œä¸¢å¤±é‡å‘ç­‰ ä½œç”¨ æä¾›ï¼šæ— ç¡®è®¤æ— è¿æ¥ï¼Œæœ‰ç¡®è®¤æ— è¿æ¥ï¼Œæœ‰ç¡®è®¤é¢å‘è¿æ¥æœåŠ¡ é“¾è·¯ç®¡ç†ï¼Œè¿æ¥çš„å»ºç«‹ã€ç»´æŒã€é‡Šæ”¾ ç»„å¸§ æµé‡æ§åˆ¶ å·®é”™æ§åˆ¶ ç»„å¸§åœ¨ç½‘ç»œå±‚çš„æ•°æ®å¤´å°¾æ·»åŠ ï¼šå¸§é¦–éƒ¨ï¼Œå¸§å°¾éƒ¨ï¼Œè®©å¯¹æ–¹è¯´è¯†åˆ«å¸§çš„å¼€å§‹å’Œç»“æŸ ç»„å¸§çš„å››ç§æ–¹æ³•ï¼šï¼ˆTransmissionï¼‰ å­—ç¬¦è®¡æ•°æ³•ï¼šå¸§é¦–éƒ¨ç¬¬ä¸€å­—èŠ‚è®°å½•å¸§çš„é•¿åº¦ï¼ˆä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸ªå­—ç¬¦å¯èƒ½è¢«ä¿®æ”¹ï¼Œæˆ–è€…ä¸¢å¤±ï¼Œåç»­å¸§å…¨éƒ¨é”™è¯¯ï¼‰ å­—ç¬¦å¡«å……æ³•ï¼šå¸§é¦–éƒ¨å¡«å……SOHï¼ˆ00000001ï¼‰,å°¾éƒ¨å¡«å……EOTï¼ˆ00000100ï¼‰ï¼ˆæ•°æ®éƒ¨åˆ†æœ‰å¯èƒ½æœ‰SOH,EOTâ€”&gt;è§£å†³æ–¹å¼ï¼Œè½¬ä¹‰å­—ç¬¦ï¼‰ é›¶æ¯”ç‰¹å¡«å……æ³•ï¼šæ¯”å¦‚é¦–éƒ¨01111110ï¼Œåˆ™æ•°æ®éƒ¨åˆ†é‡åˆ°äº”ä¸ª1å¡«å……ä¸€ä¸ª0ï¼Œæ¥é¿å…å‡SOH è¿è§„ç¼–ç æ³•ï¼šå¦‚æ›¼å½»æ–¯ç‰¹ä¼šæœ‰ï¼Œé«˜-ä½â€“&gt;1ï¼Œä½-é«˜â€“&gt;0,ç„¶åç”¨ä½ä½å’Œé«˜é«˜æ¥åšSOH,EOT æœ€å¤§ä¼ è¾“å•å…ƒMTUwhyå› ä¸ºä¸€ä¸ªå¸§ä¸­IPæ•°æ®åŒ…çš„å†…å®¹ä¸å¯èƒ½æ— é™å¤§ whatMTUæœ€å¤§ä¼ é€å•å…ƒ å·®é”™æ§åˆ¶å·®é”™åˆ†ä¸ºä¸¤ç§ï¼š ä½é”™ï¼šæ¯”ç‰¹ä½æ•°å­—å‡ºé”™ ä¿®æ­£ä½é”™ï¼š æ£€é”™ç¼–ç ï¼šå¥‡å¶æ ¡éªŒï¼ŒCRCå¾ªç¯å†—ä½™ç ï¼ˆåªçŸ¥é“é”™äº†ï¼‰ çº é”™ç¼–ç ï¼šæµ·æ˜ç ï¼ˆçŸ¥é“é”™äº†ï¼Œè¿˜çŸ¥é“é”™å“ªå„¿äº†ï¼‰ å¸§é”™ï¼šä¸¢å¤±ï¼Œé‡å¤ï¼Œå¤±åº ä¿®å¤å¸§é”™ï¼š é‡ä¼  å†—ä½™ç¼–ç ï¼šæ•°æ®æ”¾æ¾ä¹‹å‰ï¼Œé™„åŠ å†—ä½™ä½ï¼Œä½¿ä¹‹ç¬¦åˆæŸç§è§„åˆ™ï¼Œæ¥æ”¶ç«¯æ£€æŸ¥ä¸ç¬¦åˆè§„åˆ™å°±åˆ¤æ–­ä¸ºå‡ºé”™ï¼ˆå³ï¼Œå¥‡å¶æ ¡éªŒï¼ŒCRCï¼Œæµ·æ˜ç ï¼‰ å¥‡å¶æ ¡éªŒç ï¼ˆn-1ä½ä¿¡æ¯å…ƒï¼Œ1ä½æ ¡éªŒå…ƒï¼‰ å¥‡æ ¡éªŒç ï¼š1çš„ä¸ªæ•°ä¸ºå¥‡æ•° å¶æ ¡éªŒç ï¼š1çš„ä¸ªæ•°ä¸ºå¶æ•° ä¾‹ï¼š1100101å¥‡æ ¡éªŒâ€“&gt;11100101 â€œ1â€å¯ä»¥å¡«åˆ°ä»»æ„ä½ç½®ï¼Œåªè¦æœ‰å¥‡æ•°ä¸ªâ€œ1â€ï¼Œæ¥æ”¶æ–¹å°±è®¤ä¸ºè¿™ä¸€æ®µæ²¡æœ‰å‡ºé”™ï¼Œä½†å¦‚æœä¸¢äº†ä¸¤ä¸ªâ€œ1â€å°±æ£€æŸ¥ä¸é”™æ¥äº†ï¼Œæ‰€ä»¥å‡ºç°äº†CRC CRCå¾ªç¯å†—ä½™è¦ä¼ çš„æ•°æ®/å¤šé¡¹å¼=å•†â€¦â€¦ä½™æ•° å‘é€çš„æ•°æ®=è¦ä¼ çš„æ•°æ®+ä½™æ•°ï¼ˆFCSå¸§æ£€éªŒåºåˆ—ï¼Œåˆç§°å†—ä½™ç ï¼‰ ä¾‹é¢˜ï¼š1101011011 ç”Ÿæˆå¤šé¡¹å¼10011 è¦ä¼ çš„æ•°æ®æœ«å°¾åŠ ä¸Š4ä¸ª0ï¼Œé™¤ä»¥10011ä½™æ•°1110ï¼Œåˆ™å‘é€çš„æ•°æ®ä¸ºï¼š1101011011 1110 æ£€æŸ¥ï¼š11010110111110%10011==0åˆ™å¸§æ²¡æœ‰å‡ºé”™ï¼Œå¦åˆ™ä¸¢å¼ƒ FCSçš„ç”ŸæˆåŠæ ¡éªŒæ˜¯ç¡¬ä»¶å®ç°ï¼Œå¤„ç†è¿…é€Ÿï¼Œä¸ä¼šå»¶è¿Ÿ æµ·æ˜ç 1.å‘ç°åŒæ¯”ç‰¹é”™ï¼Œçº æ­£ä½†æ¯”ç‰¹é”™ 2.å·¥ä½œåŸç†ï¼šç‰µä¸€å‘è€ŒåŠ¨å…¨èº« 3.ç¡®å®šæ ¡éªŒç ä½æ•°râ€“&gt;ç¡®å®šæ ¡éªŒç å’Œæ•°æ®çš„ä½ç½®â€“&gt;æ±‚å‡ºæ ¡éªŒç çš„å€¼â€“&gt;æ£€é”™å¹¶çº é”™ 1.å»é¡¶æ ¡éªŒç ä½æ•°ræµ·æ˜ä¸ç­‰å¼ï¼š2^râ‰¥k+r+1(rä¸ºå†—ä½™ä¿¡æ¯ä½ï¼Œkä¸ºä¿¡æ¯ä½) ä¾‹å¦‚ï¼šè¦å‘é€çš„æ•°æ®D=101101 æ•°æ®ä½æ•°k=6,æ»¡è¶³ä¸ç­‰å¼çš„æœ€å°rä¸º4ï¼Œä¹Ÿå°±æ˜¯æµ·æ˜ç æœ‰6+4=10ä½ï¼Œå³æ•°æ®ä½6ä½ï¼Œæ ¡éªŒ4ä½ 2.ç¡®å®šæ ¡éªŒç å’Œæ•°æ®çš„ä½ç½®æ ¡éªŒç æ”¾åœ¨2çš„å‡ æ¬¡æ–¹çš„ä½ç½®ï¼Œå‰©ä¸‹å¡«æ•°æ®ä½å°±å¯ä»¥äº† 3.æ±‚æ ¡éªŒç çš„å€¼ç¬¬ä¸€ä½æ ¡éªŒç æ ¡éªŒäºŒè¿›åˆ¶æœ€åä¸€ä½ä¸º1çš„æ•° ç¬¬äºŒä½æ ¡éªŒç æ ¡éªŒäºŒè¿›åˆ¶å€’æ•°ç¬¬äºŒä½ä¸º1çš„æ•°å­— ä»¥æ­¤ç±»æ¨ ä»¤æ ¡éªŒä½ä¸é€‰ä¸­çš„æ•°å¼‚æˆ–ä¸º0ï¼Œå°±å¯ä»¥å¾—åˆ°æ ¡éªŒä½çš„å€¼ å¾—åˆ°101101çš„æµ·æ˜ç æ˜¯ï¼š0010011101ï¼ˆç¬¬1,2,4,8ä¸ºä¸ºæ ¡éªŒä½ï¼‰ 4.æ£€é”™å¹¶çº æ­£å–æ ¡éªŒä½åšå¼‚æˆ–è¿ç®—ï¼Œå¾—åˆ°çš„å€¼å°±æ˜¯å‡ºé”™çš„ä½ç½®ï¼ˆä¸Šè¿°ä¾‹å­ä¸­å‡è®¾ç¬¬äº”ä½å‡ºé”™ï¼Œåˆ™å››ä¸ªæ ¡éªŒç çš„å€¼ï¼Œæ‹¼èµ·æ¥çš„å’Œå°±æ˜¯5 æµé‡æ§åˆ¶å’Œå¯é ä¼ è¾“æœºåˆ¶whatè§£å†³å‘é€å’Œæ¥å—èƒ½åŠ›ä¸åŒ¹é…çš„é—®é¢˜ difference æ•°æ®é“¾è·¯å±‚ ä¼ è¾“å±‚ æµé‡æ§åˆ¶ ç‚¹åˆ°ç‚¹ï¼ˆç›¸é‚»èŠ‚ç‚¹ï¼‰ ç«¯åˆ°ç«¯ æ‰‹æ®µ æ”¶ä¸ä¸‹ï¼Œä¸è¿”å›ç¡®è®¤å¸§ æ¥æ”¶ç«¯å‘é€çª—å£å…¬å‘Š æµé‡æ§åˆ¶æ–¹æ³• åœæ­¢-ç­‰å¾…åè®® æ»‘åŠ¨çª—å£åè®®ï¼š å›é€€Nå¸§åè®®ï¼ˆGBNï¼šgo back Nï¼‰ é€‰æ‹©é‡ä¼ åè®®SR åœæ­¢-ç­‰å¾…åè®®ï¼ˆç­‰ç¡®è®¤å¸§å†å‘é€ï¼‰æ²¡å‘é€å®Œä¸€ä¸ªå¸§å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹çš„ç¡®è®¤ï¼Œåœ¨æ”¶åˆ°ç¡®è®¤ååœ¨å‘é€ä¸‹ä¸€ä¸ªå¸§ ä¸¢å¸§é‡ä¼ æ—¶é—´(æ•°æ®ä¸¢ä¹‹æˆ–è€…ackä¸¢å¤±)ï¼š&gt;RTT æ•°æ®ä¸¢å¤±é‡ä¼  ackä¸¢å¤±ï¼Œæ•°æ®é‡ä¼ ï¼Œæ¥æ”¶æ–¹ä¸¢å¼ƒï¼Œé‡ä¼ ACK ackè¿Ÿåˆ°ï¼Œæ•°æ®é‡ä¼ ï¼Œæ¥æ”¶æ–¹ä¸¢å¼ƒï¼Œé‡ä¼ ACKï¼Œæ”¶åˆ°ç¬¬äºŒæ¬¡å‘çš„ç¡®è®¤å¸§ï¼Œåç»­æ”¶åˆ°è¿Ÿåˆ°çš„ackä¸¢æ‰ æµæ°´çº¿æŠ€æœ¯ï¼šä¸€æ¬¡å‘é€å¤šå¸§ï¼ˆæ»‘åŠ¨çª—å£çš„èµ·æºï¼‰ æ»‘åŠ¨çª—å£åè®®ï¼ˆçª—å£å¤šå¸§å‘é€ï¼‰é‡‡ç”¨ç´¯ç§¯ç¡®è®¤ åœæ­¢ç­‰å¾… GBN SR å‘é€çª—å£ 1 &gt;1 &gt;1 æ¥å—çª—å£ 1 1 &gt;1 GBNç‰¹ç‚¹ ä¸Šå±‚è°ƒç”¨ï¼ˆå‘é€æˆ–ç¼“å­˜ç½‘ç»œå±‚æ•°æ®ï¼‰ ç´¯è®¡ç¡®è®¤ï¼ˆackä¸ºæœ€åæ”¶åˆ°çš„å¸§çš„ç¼–å·ï¼‰ è¶…æ—¶é‡ä¼  ï¼ˆç¼ºç‚¹ï¼Œé€‰æ‹©é‡ä¼ ä¿®æ­£è¿™ä¸ªé—®é¢˜ï¼‰æ¥æ”¶æ–¹æ— ç¼“å­˜ï¼Œå»¶è¿Ÿæˆ–è€…å‡ºé”™å…¨éƒ¨ä¸¢å¼ƒï¼ˆå¦‚æœ1å·æ”¶åˆ°2å·ä¸¢å¤±ï¼Œ3,4å·é™†ç»­åˆ°äº†éƒ½ä¸¢å¼ƒï¼Œç­‰å¾…å‘é€å‘è¶…æ—¶é‡ä¼ 2å·å¸§ï¼‰ GBNæ»‘åŠ¨çª—å£çš„é•¿åº¦ï¼š$$1â‰¤Wâ‰¤2^n-1$$å› ä¸ºå‘é€çª—å£è¿‡å¤§ï¼Œä¼šä½¿å¾—å¯¹æ–¹åŒºåˆ«æ–°å¸§å’Œæ—§å¸§ï¼Œå³ç¼–å·çš„æ•°ç›®å¯èƒ½æ˜¯å›ºå®šçš„ï¼Œä»–æ˜¯å¾ªç¯åˆ©ç”¨çš„ï¼Œå¯èƒ½ä¼šé‡å¤ é€‰æ‹©é‡ä¼ åè®®ï¼ˆSR=GBK+æ¥æ”¶æ–¹æœ‰çª—å£ï¼‰ï¼šç¼“å­˜æ”¶åˆ°çš„å¸§ï¼Œè¿”å›ç¡®è®¤æ”¶åˆ°å¸§çš„ç¼–å·ï¼ˆä¸ä»£è¡¨ç¼–å·å‰çš„å¸§éƒ½æ”¶åˆ°ï¼‰ï¼Œçª—å£é•¿åº¦ï¼š$$1â‰¤Wâ‰¤2^n-1$$å‘é€æ–¹çª—å£=æ¥æ”¶æ–¹çª—å£ï¼ˆå¤§äº†æº¢å‡ºï¼Œå°äº†æ²¡æ„ä¹‰ï¼‰ ä¿¡é“åˆ©ç”¨ç‡å‘é€å‘¨æœŸå†…ï¼Œæœ‰æ•ˆå‘é€æ•°æ®æ‰€å æ®çš„æ¯”ä¾‹ï¼Œä¹Ÿå°±æ˜¯ï¼ˆå‘é€æ•°æ®å¸§æ—¶é—´ï¼‰é™¤ä»¥ï¼ˆå‘é€æ•°æ®å¸§å¼€å§‹åˆ°æ¥æ”¶åˆ°ackçš„æ€»æ—¶é—´ï¼‰$$ä¿¡é“åˆ©ç”¨ç‡=ï¼ˆL/Cï¼‰/T$$L:Tå†…å‘é€Læ¯”ç‰¹æ•°æ® Cï¼šå‘é€æ–¹æ•°æ®ä¼ è¾“ç‡ T:å‘é€å‘¨æœŸï¼Œå‘é€åˆ°æ”¶åˆ°ack ä¿¡é“ååç‡ä¿¡é“åˆ©ç”¨ç‡* å‘é€æ–¹çš„å‘é€é€Ÿç‡ æ•°æ®ä¼ è¾“é€Ÿç‡4kb/sï¼Œå•å‘ä¼ æ’­æ—¶å»¶30msï¼Œå¦‚æœåœæ­¢ç­‰å¾…åè®®çš„ä¿¡é“æœ€å¤§åˆ©ç”¨ç‡è¾¾åˆ°80%ï¼Œæ•°æ®å¸§é•¿åº¦ä¸ºï¼Ÿ $$0.8=\\frac{L/4}{L/4+2*30}$$ ä¿¡é“åˆ’åˆ†ä»‹è´¨è®¿é—®(é«˜æ•ˆç‡åˆ©ç”¨ä¼ è¾“ä»‹è´¨)åˆ†ä¸¤ç§ ç‚¹å¯¹ç‚¹é“¾è·¯ï¼šä¸“æœ‰çº¿è·¯ï¼Œå¦‚pppåè®® å¹¿æ’­å¼é“¾è·¯ï¼šå…±äº«é€šä¿¡ä»‹è´¨ï¼Œå¦‚å¯¹è®²æœº ä»‹è´¨è®¿é—®æ§åˆ¶ é™æ€åˆ†é…ï¼ˆä¸å†²çªï¼‰ é¢‘åˆ†å¤ç”¨FDM(Frequency Division Multiplexing) æ—¶åˆ†å¤ç”¨TDM(time) æ³¢åˆ†å¤ç”¨WDMï¼ˆwaveï¼‰ ç åˆ†å¤ç”¨CDMï¼ˆcodeï¼‰ åŠ¨æ€åˆ†é… è½®è®­è®¿é—®ï¼š ä»¤ç‰Œï¼ˆä¸å†²çªï¼‰ éšæœºè®¿é—®ï¼šï¼ˆå†²çªï¼‰ aloha CSMA CSMA/CD CSMA/CA 1.ç»Ÿè®¡æ—¶åˆ†å¤ç”¨STDM æå‡ºåŸå› ï¼šæœ‰çš„ä¸»æœºåœ¨è¿™ä¸ªæ—¶é—´ç‰‡ä¸ä¼šå‘é€ä¿¡æ¯ï¼Œä¿¡é“é€ æˆæµªè´¹ é€šè¿‡é›†ä¸­å™¨ï¼ŒABCDå››ä¸ªäººï¼Œé›†ä¸­å™¨å¤§å°è®¾å®šä¸º3ï¼Œæ¯æ¥3ä¸ªäººï¼Œå°±å‘é€èµ°ä¸€æ³¢æ•°æ® è§£å†³TDMå¹³åˆ†å¸¦å®½çš„é—®é¢˜ï¼Œé›†ä¸­å™¨çš„TDMå¸§å¯ä»¥å‘é€çš„æ•°æ®éƒ½æ˜¯ä¸€ä¸ªäººçš„æ•°æ®ï¼Œä»è€Œä¸å½±å“å¸¦å®½ 2.CDMAç åˆ†å¤šå€ï¼Œæ˜¯CDMçš„ä¸€ç§æ–¹å¼ CDMï¼ˆåç»­è¡¥å……ï¼Œæ²¡å¬æ‡‚ï¼‰1ä¸ªæ¯”ç‰¹åˆ†ä¸ºå¤šä¸ªchipï¼ˆèŠ¯ç‰‡/ç ç‰‡ï¼‰ï¼Œæ¯ä¸ªç«™ç‚¹è¢«æŒ‡å®šä¸€ä¸ªå”¯ä¸€çš„mä½çš„chipåºåˆ— å¦‚ä½•åˆ’åˆ†ä¿¡é“ï¼Ÿ å¤šä¸ªç«™ç‚¹åŒæ—¶å‘é€æ•°æ®æ—¶å€™ï¼Œè¦æ±‚å„ä¸ªç«™ç‚¹èŠ¯ç‰‡åºåˆ—ç›¸äº’æ­£äº¤ å¤šä¸ªç«™ç‚¹æ¥æ”¶æ•°æ®çš„æ—¶å€™ï¼Œæ•°æ®åœ¨ä¿¡é“ä¸­è¢«çº¿æ€§ç›¸åŠ  ALOHAåè®®ï¼ˆæƒ³å‘å°±å‘ï¼‰ç‰¹ç‚¹ï¼šä¸ç›‘å¬ä¿¡é“ï¼Œä¸æŒ‰æ—¶é—´ç‰‡å‘é€ï¼Œéšæœºé‡å‘ï¼ˆå‘çš„æ—¶å€™å½¼æ­¤ä¸çŸ¥é“å†²çªï¼Œæ‰€ä»¥å¯èƒ½ä¸¤ä¸ªäººéƒ½å‘é€å¤±è´¥ï¼‰ ALOHAæ”¹è¿›ï¼šæ—¶éš™ALOHAåè®®ï¼Œå°†æ—¶é—´åˆ†ç‰‡ï¼Œç”¨æˆ·åœ¨æ—¶é—´ç‰‡å¼€å§‹æ—¶åˆ»åŒæ­¥æ¥å…¥ç½‘ç»œä¿¡é“ï¼Œå¦‚æœå†²çªï¼Œåˆ™ä¸‹ä¸ªæ—¶é—´ç‰‡å¼€å§‹æ—¶åˆ»å†å‘é€ CSMAåè®®å®¶æ—ï¼ˆå…ˆå¬å†å‘ï¼‰ CSMA:carrier sense multiple access CS:è½½æ³¢ä¾¦å¬ï¼šå‘é€å‰æ£€æµ‹ MAï¼šå¤šç‚¹æ¥å…¥ ä¿¡é“å¿™ 1-åšæŒCSMAï¼šä¸€ç›´ç›‘å¬åˆ°ä¿¡é“é—²ï¼Œå†²çªåˆ™ç­‰å¾…éšæœºæ—¶é—´å†æ¥ä¸€ç›´ç›‘å¬ ä¿¡é“åˆ©ç”¨ç‡é«˜ ä¸¤ä¸ªç«™ç‚¹éƒ½åšæŒï¼Œæ­»é” éåšæŒCSMAï¼šç­‰å¾…éšæœºæ—¶é—´åå†ç›‘å¬ å‡å°‘å†²çªå¯èƒ½æ€§ ä¿¡é“åˆ©ç”¨ç‡ä½ p-åšæŒCSMAï¼šç©ºé—²ä»¥pæ¦‚ç‡ä¼ è¾“ï¼Œå¿™åˆ™ä»¥æ¦‚ç‡1-pç­‰å¾…ä¸‹ä¸ªæ—¶é—´ç‰‡ï¼ˆä¸å¿…æ·±ç©¶ï¼‰ï¼Œå¿™åˆ™ç­‰å¾…éšæœºæ—¶é—´å†ç›‘å¬ å‡å°‘å†²çª ä¿¡é“åˆ©ç”¨ç‡è¾ƒé«˜ å‘ç”Ÿå†²çªåå¯èƒ½ä¼šåšæŒæŠŠæ•°æ®å¸§å‘å®Œï¼ˆæå‡ºCDåè®®ï¼‰ CDMA/CDï¼ˆå…ˆå¬å†è¯´ï¼šè¾¹å¬è¾¹è¯´ï¼‰ cd:collision detectionç¢°æ’æ£€æµ‹ åœ¨CSMAåŸºç¡€ä¸Šï¼Œå‘é€æ•°æ®æ—¶ä¹Ÿç›‘å¬ä¿¡é“ï¼Œå¿™åˆ™åœæ­¢å‘é€â€“åŠåŒå·¥ç½‘ç»œ äº‰ç”¨æœŸ/å†²çªçª—å£/ç¢°æ’çª—å£ï¼š2Tï¼Œå¦‚æœæ²¡æœ‰ç¢°æ’åˆ™è¿™æ¬¡å‘é€ä¸ä¼šæœ‰å†²çª å¦‚ä½•ç¡®å®šé‡ä¼ ï¼Ÿæˆªæ–­äºŒè¿›åˆ¶æŒ‡æ•°è§„é¿ç®—æ³•ï¼ˆå¾…å®Œå–„ï¼‰ æœ€å°å¸§é•¿ï¼ˆé¿å…è¿˜æ²¡ç¢°æ’æ£€æµ‹å®Œï¼Œæ•°æ®å·²ç»å‘é€ç»“æŸäº†ï¼‰ï¼šå¸§é•¿&gt;=2T*æ•°æ®å‘é€é€Ÿç‡ ä»¥å¤ªç½‘è§„å®šæœ€çŸ­å¸§é•¿64Bï¼Œå‡¡æ˜¯å°çš„éƒ½æ˜¯æ— æ•ˆå¸§ï¼Œä¸¢å¼ƒ CDMA/CAï¼ˆå…ˆå¬å†è¯´ï¼Œç¤¼è®©è¯´ï¼‰ CAï¼šcollision acoidanceé¿å…ç¢°æ’ åº”ç”¨äºæ— çº¿å±€åŸŸç½‘çš„å†²çª å…ˆæ£€æµ‹ä¿¡é“æ˜¯å¦ç©ºé—²â€“&gt; ç©ºé—²æ—¶å‘é€RTSï¼ˆrequest to sendï¼šå‘é€ç«¯åœ°å€ï¼Œæ¥æ”¶ç«¯åœ°å€ï¼Œå‘é€æŒç»­æ—¶é—´ï¼‰ï¼Œå¿™åˆ™ç­‰å¾…â€“&gt; æ¥æ”¶ç«¯æ”¶åˆ°RTSï¼Œå“åº”CTSï¼ˆclear to sendï¼‰ï¼Œå†æ¬¡æœŸé—´ä¸ä¼šå†å“åº”åˆ«äººçš„RTSâ€“&gt; å‘é€æ–¹æ”¶åˆ°CTSåï¼Œå¼€å§‹å‘é€æ•°æ®å¸§ï¼ˆåŒæ—¶é¢„çº¦ä¿¡é“ï¼šå‘é€æ–¹å‘ŠçŸ¥é¢„è®¡ä¼ è¾“æ—¶é—´,ä»è€Œå‘ŠçŸ¥åˆ«çš„ç«™ç‚¹å¤šä¹…åé‡å‘ï¼‰â€“&gt; æ¥æ”¶ç«¯æ”¶åˆ°æ•°æ®å¸§ï¼Œé‡‡ç”¨CRCæ¥æ£€éªŒæ•°æ®ï¼Œæ­£ç¡®åˆ™å“åº”ACKï¼Œå¦‚æœä¸¢å¤±éµå¾ªä¸Šé¢çš„è§„é¿ç®—æ³•æ¥ç¡®å®šæ¨è¿Ÿé‡å‘æ—¶é—´ CSMA/CD CSMA/CA ä¼ è¾“ä»‹è´¨ æœ‰çº¿ æ— çº¿ è½½æ³¢æ£€æµ‹æ–¹å¼ ç”µå‹ èƒ½é‡æ£€æµ‹ï¼Œè½½æ³¢æ£€æµ‹ï¼Œèƒ½é‡æ³¢æ··åˆæ£€æµ‹ å†²çªç±»å‹ æ£€æµ‹å†²çª é¿å…å†²çª ç›¸åŒç‚¹ï¼šå…ˆå¬å†è¯´ï¼Œç›‘å¬ï¼Œå†²çªåï¼Œæœ‰é™æ¬¡é‡ä¼ æœºåˆ¶ è½®è¯¢è®¿é—®ä»‹è´¨è®¿é—®æ§åˆ¶è½®è¯¢åè®®ï¼šä¸»èŠ‚ç‚¹è½®æµå’Œä»å±èŠ‚ç‚¹å‘é€æ•°æ® è½®è¯¢å¼€é”€å¤§ ç­‰å¾…å»¶è¿Ÿ ä¸»èŠ‚ç‚¹æ•…éšœ ä»¤ç‰Œä¼ é€’åè®®ï¼š ä»¤ç‰Œï¼šä¸€ä¸ªç‰¹æ®Šæ ¼å¼çš„MACæ§åˆ¶å¸§ï¼Œä¸å«ä»»ä½•ä¿¡æ¯ æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æ‹¿åˆ°ä»¤ç‰Œä¸€æ®µæ—¶é—´ï¼Œå‘é€æ•°æ® ä»¤ç‰Œå¼€é”€å¤§ ç­‰å¾…å»¶è¿Ÿ å•ç‚¹æ•…éšœ åº”ç”¨äºç¯ç½‘ é€‚ç”¨äºè´Ÿè½½é‡ï¼Œé€šä¿¡é‡å¤§çš„ç½‘ç»œä¸­ å±€åŸŸç½‘ï¼ˆLocal Area Networkï¼‰ èŒƒå›´å° é€Ÿåº¦è¾ƒå¿« å»¶è¿ŸçŸ­ï¼Œè¯¯ç ç‡ä½ï¼Œå¯é æ€§é«˜ å…±äº« åˆ†å¸ƒå¼æ§åˆ¶ï¼Œå¹¿æ’­å¼é€šä¿¡ï¼Œèƒ½å¹¿æ’­å’Œç»„æ’­ æ˜Ÿå‹æ‹“æ‰‘ï¼Œæ€»çº¿å‹æ‹“æ‰‘ï¼ˆCSMA/CDï¼Œä»¤ç‰Œæ€»çº¿äº§ç”Ÿé€»è¾‘ç¯ï¼‰ï¼Œç¯å½¢æ‹“æ‰‘ï¼ˆä»¤ç‰Œç¯ï¼‰ï¼Œå±æ€§æ‹“æ‰‘ å±€åŸŸç½‘åˆ†ç±»ï¼šä»¥å¤ªç½‘ï¼Œä»¤ç‰Œç¯ç½‘ï¼ŒFDDIç½‘,ATMç½‘ï¼Œæ— çº¿å±€åŸŸç½‘ æ•°æ®é“¾è·¯å±‚=é€»è¾‘é“¾è·¯å±‚LLC+æˆªæ­¢è®¿é—®æ§åˆ¶MACå±‚ LLCè¯†åˆ«ç½‘ç»œå±‚åè®®å¹¶å°è£…ï¼ŒçŸ¥é“å¦‚ä½•å¤„ç†ACKï¼Œä¸ºç½‘ç»œå±‚æä¾›ï¼šæ— ç¡®è®¤æ— è¿æ¥ï¼Œé¢å‘è¿æ¥ï¼Œå¸¦ç¡®è®¤è¿æ¥ï¼Œé«˜é€Ÿä¼ é€ MACï¼Œå¸§çš„å°è£…ï¼Œæ‹†å°ï¼Œå¸§çš„å¯»å€è¯†åˆ«ï¼Œå‘é€æ¥æ”¶ï¼Œé“¾è·¯ç®¡ç†ï¼Œå¸§å·®é”™æ§åˆ¶ï¼Œå±è”½ç‰©ç†é“¾è·¯ç§ç±»çš„å·®å¼‚æ€§ ä»¥å¤ªç½‘ï¼ˆEthernetï¼‰ ä¾¿å®œ ä½¿ç”¨å¹¿æ³› ç›¸å¯¹ç®€å• é€Ÿç‡è¾ƒé«˜ æä¾›æ— è¿æ¥ï¼Œä¸å¯é çš„æœåŠ¡ï¼š æ— è¿æ¥ï¼šæ— éœ€æ¡æ‰‹ ä¸å¯é ï¼Œæ²¡æœ‰ç¼–å·ï¼Œä¸ç¡®è®¤ï¼Œå·®é”™ä¸¢å¼ƒï¼ˆä¼ è¾“å±‚è´Ÿè´£ï¼‰ é€šè¿‡é€šä¿¡é€‚é…å™¨é€šä¿¡ï¼šMACåœ°å€ï¼Œå‰24ä½ä»£è¡¨å‚å®¶ï¼Œå24ä½è‡ªå·±è§„å®šï¼Œå¸¸ç”¨6ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤º æ— çº¿å±€åŸŸç½‘å¹¿åŸŸç½‘PPPåè®®ï¼šç‚¹å¯¹ç‚¹åè®®ï¼Œåªæ”¯æŒå…¨åŒå·¥ ç®€å•ï¼šæ— éœ€çº é”™ï¼Œæ— éœ€ç¼–å·ï¼Œæ— éœ€æµé‡æ§åˆ¶ å°è£…æˆå¸§ï¼šå¸§å®šç•Œç¬¦ é€æ˜ä¼ è¾“ï¼šå¼‚æ­¥çº¿è·¯å­—èŠ‚å¡«å……ï¼ŒåŒæ­¥çº¿è·¯æ¯”ç‰¹å¡«å…… å¤šç§ç½‘ç»œå±‚åè®®ï¼šå°è£…IPæ•°æ®åŒ…é‡‡ç”¨å¤šç§åè®® å¤šç§ç±»å‹é“¾è·¯ï¼šä¸²å¹¶è¡Œï¼ŒåŒå¼‚æ­¥ï¼Œå…‰ç”µâ€¦â€¦ å·®é”™æ£€æµ‹ï¼šé”™ä¸¢å¼ƒ æ£€æµ‹è¿æ¥çŠ¶æ€ æœ€å¤§ä¼ é€å•å…ƒï¼šæ•°æ®éƒ¨åˆ†æœ€å¤§MTU ç½‘ç»œå±‚åœ°å€åå•† æ•°æ®å‹ç¼©åå•† PPPç»„æˆçš„ä¸‰ä¸ªéƒ¨åˆ†ï¼š ä¸€ä¸ªå°†IPæ•°æ®åŒ…å°è£…åˆ°ä¸²è¡Œé“¾è·¯ï¼ˆåŒå¼‚æ­¥ä¸²è¡Œï¼‰çš„æ–¹æ³• é“¾è·¯æ§åˆ¶åè®®LCPï¼šå»ºç«‹å’Œç»´æŠ¤æ•°æ®é“¾è·¯è¿æ¥ ç½‘ç»œæ§åˆ¶åè®®NCPï¼šPPPæ”¯æŒå¤šç§ç½‘ç»œå±‚åè®®ï¼Œå¯¹åº”NCPæ¥é…ç½®ï¼Œä¸ºç½‘ç»œå±‚å»ºç«‹å’Œé…ç½®é€»è¾‘è¿æ¥ PPPå¸§æ ¼å¼ HDLCåè®® é«˜çº§æ•°æ®é“¾è·¯æ§åˆ¶ï¼šHigh-level data link controlï¼Œæ˜¯ä¸€ä¸ªåŒæ­¥ç½‘ä¸Šä¼ è¾“æ•°æ®ï¼Œé¢å‘æ¯”ç‰¹çš„æ•°æ®é“¾è·¯å±‚åè®® ä¸‰ç§ç«™ï¼š ä¸»ç«™ ä»ç«™ å¤åˆç«™ PPP&amp;HDLCå…±åŒç‚¹ å…¨åŒå·¥ é€æ˜ä¼ è¾“ æŸ¥é”™ä½†ä¸çº é”™ ä¸åŒç‚¹ï¼š ä¸åŒç‚¹ PPP HDLC é¢å‘ å­—èŠ‚ æ¯”ç‰¹ åè®®å­—æ®µ æœ‰ æ²¡æœ‰ åºå·å’ŒACK æ—  æœ‰â†“ å¯é æ€§ ä¸å¯é  å¯é  é“¾è·¯å±‚è®¾å¤‡ ç½‘æ¡¥ï¼šæ ¹æ®MACçš„ç›®çš„åœ°å€è¿›è¡Œå¸§çš„è½¬å‘å’Œè¿‡æ»¤ï¼ˆéš”ç¦»å†²çªåŸŸï¼‰ è¿‡æ»¤é€šä¿¡é‡ï¼Œå¢å¤§ååé‡ æ‰©å¤§ç‰©ç†èŒƒå›´ æé«˜å¯é æ€§ äº’è”ä¸åŒç‰©ç†å±‚ äº¤æ¢æœº ç½‘æ¡¥ é€æ˜ç½‘æ¡¥ï¼šä»¥å¤ªç½‘ä¸Šçš„ç«™ç‚¹ä¸çŸ¥é“æ‰€å‘é€çš„å¸§ç»è¿‡äº†å“ªå‡ ä¸ªç½‘æ¡¥ï¼Œæ˜¯ä¸€ç§çƒ­æ’æ‹”è®¾å¤‡â€“è‡ªå­¦ä¹ ï¼ˆé€šè¿‡å¹¿æ’­æ¥å­¦ä¹ è½¬å‘è¡¨ï¼‰ æºè·¯ç”±ç½‘æ¡¥ï¼šæŠŠè¯¦ç»†çš„æœ€ä½³è·¯ç”±ä¿¡æ¯ï¼ˆè·¯ç”±æœ€å°‘\\æ—¶é—´æœ€çŸ­ï¼‰æ”¾åœ¨å¸§çš„é¦–éƒ¨â€”â€”é€šè¿‡å¹¿æ’­æ–¹å¼å‘ç›®çš„ç«™å‘é€ä¸€ä¸ªå‘é€å¸§ ä»¥å¤ªç½‘äº¤æ¢æœºï¼ˆå¤šæ¥å£ç½‘æ¡¥ï¼‰ ç›´é€šå¼ï¼šæ£€æŸ¥åœ°å€ç›´æ¥è½¬å‘ï¼ˆå»¶è¿Ÿå°ï¼Œå¯é æ€§ä½ï¼Œæ— æ³•æ”¯æŒä¸åŒé€Ÿç‡çš„ç«¯å£äº¤æ¢ï¼‰ å­˜å‚¨è½¬å‘å¼ï¼šå°†å¸§æ”¾å…¥é«˜é€Ÿç¼“å­˜ï¼Œæ£€æŸ¥æ­£ç¡®æ€§ï¼Œæ­£ç¡®åˆ™è½¬å‘ï¼Œé”™è¯¯ä¸¢å¼ƒï¼ˆå»¶è¿Ÿå¤§ï¼Œå¯é æ€§é«˜ï¼Œæ”¯æŒä¸åŒé€Ÿç‡ç«¯å£ï¼‰ éš”ç¦»å†²çªåŸŸ éš”ç¦»å¹¿æ’­åŸŸ ç‰©ç†å±‚ï¼ˆä¸­ç»§å™¨ï¼Œé›†çº¿å™¨ï¼‰ Ã— Ã— é“¾è·¯å±‚ï¼ˆç½‘æ¡¥ï¼Œäº¤æ¢æœºï¼‰ âˆš Ã— ç½‘ç»œå±‚ï¼ˆè·¯ç”±ï¼‰ âˆš âˆš è¯€çª å¹¿æ’­åŸŸï¼Œ0ä¸ªè·¯ç”±1ä¸ªå¹¿æ’­åŸŸï¼Œ1ä¸ªè·¯ç”±2ä¸¤ä¸ªå¹¿æ’­åŸŸ å†²çªåŸŸï¼šé“¾è·¯å±‚è®¾å¤‡ï¼ˆäº¤æ¢æœºï¼‰æœ‰å‡ æ ¹çº¿å°±æ˜¯å‡ ä¸ªå†²çªåŸŸ ç½‘ç»œå±‚åŠŸèƒ½æŠŠåˆ†ç»„ä»æºç«¯ä¼ åˆ°ç›®çš„ç«¯ï¼Œä¸ºåˆ†ç»„äº¤æ¢ç½‘ä¸Šçš„ä¸åŒä¸»æœºæä¾›é€šä¿¡æœåŠ¡ è·¯ç”±é€‰æ‹©å’Œåˆ†ç»„è½¬å‘ï¼ˆæœ€ä½³è·¯å¾„OSPFï¼‰ å¼‚æ„ç½‘äº’è” æ§åˆ¶æ‹¥å¡ å¼€ç¯æ§åˆ¶ï¼ˆé™ï¼‰ é—­ç¯æ§åˆ¶ï¼ˆåŠ¨æ€æ§åˆ¶ï¼‰ æ•°æ®äº¤æ¢æ–¹å¼ ç”µè·¯äº¤æ¢ï¼ˆä¸¤ç«¯ä¸€æ ¹çº¿ç›´è¿ï¼‰ æŠ¥æ–‡äº¤æ¢ åˆ†ç»„äº¤æ¢ æœ‰ä¸¤ç§è¿æ¥æ–¹å¼ æ•°æ®æŠ¥æ–¹å¼ï¼šæ— è¿æ¥æœåŠ¡ï¼ˆæ— éœ€å»ºç«‹è¿æ¥ï¼Œæ¯ä¸ªåˆ†ç»„éƒ½æœ‰åœ°å€ï¼‰ è™šç”µè·¯æ–¹å¼ï¼šè¿æ¥æœåŠ¡ï¼ˆå»ºç«‹è¿æ¥ï¼‰ æ•°æ®æŠ¥æœåŠ¡ è™šç”µè·¯ å»ºç«‹è¿æ¥ Ã— âˆš ç›®çš„åœ°å€ æ¯ä¸ªåˆ†ç»„éƒ½æœ‰ å»ºç«‹æœ‰ï¼Œåˆ†ç»„åªæœ‰è™šç”µè·¯å· è·¯ç”±é€‰æ‹© æ¯ä¸ªåˆ†ç»„ç‹¬ç«‹è¿›è¡Œè·¯ç”±é€‰æ‹©è½¬å‘ åŒä¸€è·¯å¾„ åˆ†ç»„é¡ºåº ä¸ä¿è¯æœ‰åº æœ‰åº å¯é æ€§ ä¸å¯é é€šä¿¡ï¼Œå¯é æ€§ç”±ä¸»æœºä¿è¯ å¯é æ€§ç”±ç½‘ç»œä¿è¯ ç½‘ç»œæ•…éšœé€‚åº”æ€§ é‡æ•…éšœä¸¢å¤±ï¼Œå…¶ä»–åˆ†ç»„è·¯å¾„å‘ç”Ÿå˜åŒ– æ‰€æœ‰ç»è¿‡æ­¤èŠ‚ç‚¹éƒ½ä¸¢åŒ… å·®é”™å¤„ç†å’Œæµé‡æ§åˆ¶ä¸»æœº æ§åˆ¶ï¼Œæœ¬èº«ä¸ä¿è¯ åˆ†ç»„äº¤æ¢ç½‘è´Ÿè´£æˆ–è€…ä¸»æœºè´Ÿè´£ æŠ¥æ–‡çš„åˆ†è£…åº”ç”¨å±‚ï¼šæŠ¥æ–‡ ä¼ è¾“å±‚ï¼šæŠ¥æ–‡æ®µ ç½‘ç»œå±‚ï¼šIPæ•°æ®åŒ…ï¼Œåˆ†ç»„ æ•°æ®é“¾è·¯å±‚ï¼šå¸§ ç‰©ç†å±‚ï¼šæ¯”ç‰¹æµ IP ipæ•°æ®æŠ¥æ ¼å¼ipæ•°æ®æŠ¥=é¦–éƒ¨+æ•°æ®éƒ¨åˆ† ip æ•°æ®æŠ¥åˆ†ç‰‡MTUä»¥å¤ªç½‘æœ€å¤§MTUæ˜¯1500å­—èŠ‚ IPæ•°æ®æŠ¥ç¬¬32-63ä½ï¼Œæ ‡è¯†ï¼ˆ16ï¼‰+æ ‡å¿—ï¼ˆ3ï¼‰+ç‰‡åç§»ï¼ˆ13ï¼‰ æ ‡è¯†ï¼ˆ16ï¼‰ï¼šç»Ÿä¸€æ•°æ®æŠ¥çš„åˆ†ç‰‡ä½¿ç”¨åŒä¸€æ ‡è¯† æ ‡å¿—ï¼ˆ4ï¼‰ï¼šä¸­é—´ä½DFï¼ŒDF=1ç¦æ­¢åˆ†ç‰‡ï¼ŒDF=0å…è®¸åˆ†ç‰‡ï¼Œæœ€ä½ä½MF,MF=1åé¢è¿˜æœ‰åˆ†ç‰‡ï¼ŒMF=0,åé¢æ²¡æœ‰åˆ†ç‰‡äº† ç‰‡åç§»ï¼šåˆ†ç‰‡åç›¸å¯¹ä½ç½®ï¼Œé™¤äº†æœ€åä¸€ä¸ªåˆ†ç‰‡ï¼Œå…¶ä»–éƒ½æ˜¯8Bçš„æ•´å€æ•° æ€»é•¿åº¦ï¼šå•ä½1B ç‰‡åç§»ï¼šå•ä½æ˜¯8B é¦–éƒ¨é•¿åº¦ï¼šå•ä½æ˜¯4B NATipåœ°å€è½¬åŒ–è¡¨ï¼Œé€šè¿‡ç«¯å£æ¥å®ç°åœ°å€æ˜ å°„ IPåˆ†ç±»å­ç½‘æ©ç æ— åˆ†ç±»ç¼–å€CIDR ARPï¼ˆIP-MACï¼‰å¹¿æ’­ARPè¯·æ±‚åˆ†ç»„ æºip+ç›®çš„ip+æºMAC+ç›®çš„MAC(å…¨1) å•æ’­ARPå“åº”åˆ†ç»„ ip+mac å¦‚æœAâ€“&gt;Bç»å†5ä¸ªè·¯ç”±ï¼Œä¸€å…±è¦ä½¿ç”¨6æ¬¡ARPåè®® DHCPï¼ˆåº”ç”¨å±‚åè®®ï¼Œå¹¿æ’­ï¼ŒåŸºäºUDPï¼ŒCSæ¶æ„ï¼‰é™æ€é…ç½®ip åŠ¨æ€é…ç½®ipâ€“&gt;DHCPåè®® ä¸»æœºå¹¿æ’­DHCPå‘ç° DHCPæœåŠ¡å™¨å¹¿æ’­DHCPæä¾› ä¸»æœºå¹¿æ’­DHCPè¯·æ±‚ DHCPæœåŠ¡å™¨å¹¿æ’­DHCPç¡®è®¤ ICMPICMPæ”¯æŒä¸»æœºæˆ–è€…è·¯ç”±å™¨ å·®é”™æŠ¥å‘Š ç½‘ç»œæ¢å¯» ICMPæŠ¥é”™ å«ä¹‰ ç»ˆç‚¹ä¸å¯è¾¾ æ— æ³•äº¤ä»˜ æºç‚¹æŠ‘åˆ¶ï¼ˆå·²å–æ¶ˆï¼‰ ç›®æ ‡å‘æºä¸»æœºå‘é€ï¼Œå‘æ…¢ç‚¹ æ—¶é—´è¶…è¿‡ TTL=0æ—¶ï¼Œå‘é€è¶…æ—¶æŠ¥æ–‡ å‚æ•°é”™è¯¯ é¦–éƒ¨å­—æ®µæœ‰é—®é¢˜ é‡å®šå‘ è®©ä¸»æœºé‡æ–°é€‰æ‹©è·¯ç”± ICMPå·®é”™æŠ¥å‘ŠæŠ¥æ–‡æ•°æ®å­—æ®µ ä¸å‘é€ICMPå·®é”™æŠ¥æ–‡çš„æƒ…å†µ å¯¹æœ¬èº«çš„æŠ¥é”™å‡ºé”™ä¸å†æŠ¥é”™ ç¬¬ä¸€åˆ†ç‰‡æŠ¥é”™ï¼Œåå»åˆ†ç‰‡ä¸æŠ¥é”™ ç»„æ’­ä¸æŠ¥é”™ ç‰¹æ®Šåœ°å€ä¸æŠ¥é”™ï¼ˆ0.0.0.0/127.0.0.1ï¼‰ ICMPè¯¢é—®æŠ¥æ–‡ï¼š å›é€è¯·æ±‚å’Œå›ç­”æŠ¥æ–‡ï¼ˆpingï¼‰ æ—¶é—´æˆ³è¯·æ±‚å’Œå›ç­”æŠ¥æ–‡ï¼ˆæ—¶é—´åŒæ­¥å’Œæµ‹é‡æ—¶é—´ï¼‰ ICMPåº”ç”¨ PING Tracerouteï¼šè·Ÿè¸ªåˆ†ç»„å‘é€çš„è·¯å¾„ï¼Œä½¿ç”¨ICMPæ—¶é—´è¶…è¿‡å·®é”™æŠ¥æ–‡ IPv4(32bit) ä¸èƒ½ä½¿ç”¨çš„ipåœ°å€ ç½‘ç»œå· ä¸»æœºå· ä½œipæºåœ°å€ ä½œIPç›®çš„åœ°å€ ç”¨é€” å…¨0 å…¨0 âˆš Ã— é»˜è®¤è·¯ç”± å…¨0 ç‰¹å®šå€¼ Ã— âˆš è¡¨ç¤ºæœ¬ç½‘å†…æŸä¸ªç‰¹å®šçš„ä¸»æœº å…¨1 å…¨1 x âˆš å¹¿æ’­åœ°å€ ç‰¹å®šå€¼ å…¨0 x x ç½‘ç»œåœ°å€ï¼Œè¡¨ç¤ºä¸€ä¸ªç½‘ç»œ ç‰¹å®šå€¼ å…¨1 x âˆš ç›´æ¥å¹¿æ’­åœ°å€ï¼Œå¯¹ç‰¹å®šç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœºå¹¿æ’­ 127 é™¤å…¨0,1 âˆš âˆš ç”¨äºæœ¬åœ°è½¯ä»¶æ¢å›æµ‹è¯• å¦ä¸€ç§ åœ°å€èŒƒå›´ ç½‘æ®µæ•° Aç±» 10.0.0.0~10.255.255.255 1 B 172.16.0.0~172.31.255.255 16 C 192.168.0.0~192.168.255.255 256 ABCä¸ºä¸“å±å†…éƒ¨ç½‘ç»œåœ°å€ IPv6ï¼ˆ128bitï¼‰é¦–éƒ¨40bit+æœ‰æ•ˆè´Ÿè·ï¼ˆâ‰¥64kï¼‰ ç½‘ç»œå±‚è®¾å¤‡è·¯ç”± é™æ€è·¯ç”±ç®—æ³• åŠ¨æ€è·¯ç”±ç®—æ³• å…¨å±€æ€§ï¼šé“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•OSPFï¼ˆè§„æ¨¡å¤§ï¼‰ åˆ†æ•£æ€§ï¼šè·ç¦»å‘é‡è·¯ç”±ç®—æ³•RIPï¼ˆè§„æ¨¡å°ï¼‰ è‡ªåˆ¶ç³»ç»ŸASï¼šåœ¨å•ä¸€æŠ€æœ¯ç®¡ç†ä¸‹çš„ä¸€ç»„è·¯ç”±å™¨ï¼ˆä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œè‡ªå·±ç®¡ç†è‡ªå·±çš„ï¼Œè¦ä¸ç„¶è·¯ç”±ç®—æ³•æ— æ³•å®Œæˆï¼‰ è·¯ç”±é€‰æ‹©åè®® å†…éƒ¨ç½‘å…³åè®®IGPï¼ˆASå†…ï¼‰RIP,OSPF å¤–éƒ¨ç½‘å…³åè®®EGPï¼ˆASé—´ï¼‰BGP RIPå®šä¹‰ï¼šä¸€ç§åˆ†å¸ƒå¼åŸºäºè·ç¦»å‘é‡çš„è·¯ç”±é€‰æ‹©åè®®ï¼Œç®€å•ï¼Œç»´æŠ¤è‡ªå·±åˆ°ç›®çš„ç½‘ç»œå”¯ä¸€æœ€ä½³è·ç¦»ï¼ˆè·³æ•°ï¼‰è®°å½• featureï¼š ä»…ç›¸é‚»äº¤æ¢ä¿¡æ¯ æ¯30sæ›´æ–°è·¯ç”±è¡¨ï¼Œ180sæ— æ¶ˆæ¯åˆ™åˆ¤æ–­é‚»å±…æ²¡äº† æ•…éšœå‘ç°æ…¢ï¼ˆä½ å‘ç°æ—è¾¹æ•…éšœäº†ï¼Œä½†é‚»å±…ä»¥ä¸ºç»è¿‡ä½ å°±å¯ä»¥åˆ°è¾¾ï¼Œç„¶åä½ ä»¥ä¸ºç»è¿‡é‚»å±…ï¼Œå†ç»è¿‡ä½ å°±å¯ä»¥åˆ°è¾¾ï¼Œå¾ªç¯åˆ°ï¼ŒåŒæ–¹éƒ½å˜æˆ16è·³ï¼Œæ‰å‘ç°ç½‘ç»œæ•…éšœï¼‰ OSPFï¼ˆç±»ä¼¼Dijkstraï¼‰åˆ†å¸ƒå¼é“¾è·¯çŠ¶æ€featureï¼š è‡ªæ²»ç³»ç»Ÿå†…å¹¿æ’­ï¼ˆéRIPçš„ç›¸é‚»ï¼‰ äº¤æ¢é“¾è·¯çŠ¶æ€ï¼ˆè´¹ç”¨ï¼Œè·ç¦»ï¼Œæ—¶å»¶ï¼Œå¸¦å®½ç­‰ï¼‰ é“¾è·¯çŠ¶æ€å˜åŒ–æ‰æ›´æ–° æ¯éš”30åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡æ•°æ®åº“ä¸­çš„é“¾è·¯çŠ¶æ€ æ•…éšœå‘ç°æ¯”è¾ƒå¿« OSPFåˆ†åŒºï¼š BGPASé—´é€šä¿¡ï¼Œäº¤æ¢ç½‘ç»œå¯è¾¾æ€§ä¿¡æ¯ï¼Œå‘ç”Ÿå˜åŒ–æ—¶æ›´æ–° OPENâ€“&gt;UPDATEâ€“&gt;KEEPALIVEâ€“&gt;NOTIFICATION åè®® RIP OSPF BGP ç±»å‹ å†…éƒ¨ å†…éƒ¨ å¤–éƒ¨ è·¯ç”±ç®—æ³• è·ç¦»-å‘é‡ é“¾è·¯çŠ¶æ€ è·¯å¾„-å‘é‡ ä¼ é€’åè®® udp ip TCP è·¯å¾„é€‰æ‹© è·³æ•°æœ€å°‘ ä»£ä»·æœ€ä½ è¾ƒå¥½ï¼Œéæœ€ä½³ äº¤æ¢èŠ‚ç‚¹ ç›¸é‚» æ‰€æœ‰ ç›¸é‚» äº¤æ¢å†…å®¹ è‡ªèº«è·¯ç”±è¡¨ æ‰€æœ‰ é¦–æ¬¡æ•´ä¸ªè·¯ç”±è¡¨ï¼Œéé¦–æ¬¡ï¼Œå˜åŒ–å†…å®¹ IPç»„æ’­ï¼ˆDç±»åœ°å€ï¼‰ å•æ’­ å¹¿æ’­ ç»„æ’­ï¼ˆå¤šæ’­ï¼‰åŸºäºUDP IGMPåè®®+ç»„æ’­è·¯ç”±é€‰æ‹©åè®® ä¼ è¾“å±‚ è¿›ç¨‹é—´é€»è¾‘é€šä¿¡ å¤ç”¨å’Œåˆ†ç”¨ å·®é”™æ£€æµ‹ TCP UDP ç«¯å£å·ï¼ˆ16bitï¼‰ æœåŠ¡ç«¯0-1023 æœåŠ¡ç«¯1024-49151 å®¢æˆ·ç«¯49152-65535 service port FTP 21 TELNET 23 SMTP 25 DNS 53 TFTP 69 HTTP 80 SNMP 161 Socket=ip+port UDPFEATURE: æ— è¿æ¥ ä¸ä¿è¯å¯é äº¤ä»˜ é¢å‘æŠ¥æ–‡ æ— æ‹¥å¡æ§åˆ¶ é¦–éƒ¨å¼€é”€å°8Bï¼Œå°äº20Bï¼ˆTCPï¼‰ UDPæ£€éªŒ TCPFEATURE é¢å‘è¿æ¥ ç‚¹å¯¹ç‚¹ å¯é æœ‰åº å…¨åŒå·¥ é¢å‘å­—èŠ‚æµ åºå· ç¡®è®¤å·ï¼šæœŸæœ›æ”¶åˆ°çš„åºå· æ•°æ®åç§» URGï¼šç´§æ€¥ä½ï¼Œå€¼ä¸º1æ—¶é«˜ä¼˜å…ˆçº§å‘é€ ACKï¼šç¡®è®¤ä½ï¼Œè¿æ¥å»ºç«‹åç­‰äº1 PSH:æ¨é€ä½ï¼Œå€¼ä¸º1æ—¶ï¼Œæ¥æ”¶æ–¹å°½å¿«äº¤ä»˜ç»™åº”ç”¨è¿›ç¨‹ RSTï¼šå¤ä½ï¼Œå¿…é¡»é‡Šæ”¾è¿æ¥ SYNï¼šåŒæ­¥ä½ï¼Œ1ï¼Œæ ‡æ˜æ˜¯ä¸€ä¸ªè¿æ¥è¯·æ±‚/è¿æ¥æ¥å—æŠ¥æ–‡ FINï¼šé‡Šæ”¾è¿æ¥ çª—å£ï¼šæ¥å—çª—å£ï¼Œå³å…è®¸å‘é€æ–¹çš„æ•°æ®é‡ æ ¡éªŒå’Œ ç´§æ€¥æŒ‡é’ˆï¼šæŒ‡å‡ºURG=1æ—¶ï¼Œç´§æ€¥æ•°æ®çš„å­—èŠ‚æ•° ä¸‰æ¬¡æ¡æ‰‹ å››æ¬¡æŒ¥æ‰‹ æµé‡æ§åˆ¶çª—å£æ§åˆ¶å¾…è¡¥å……","raw":null,"content":null}],"posts":[{"title":"prototype","slug":"2021-03-07-prototype","date":"2021-03-07T06:55:02.000Z","updated":"2021-05-28T06:48:48.169Z","comments":true,"path":"2021/03/07/2021-03-07-prototype/","link":"","permalink":"http://zehai.info/2021/03/07/2021-03-07-prototype/","excerpt":"","text":"Prototypeå«ä¹‰ï¼šprotoï¼ˆ/ËˆproÊŠtÉ™/ï¼‰åŸå§‹, åŸå‹, åŸå§‹çš„ ç›®çš„ï¼šè¡¥å……JavaScriptå¯¹äºå¯¹è±¡çš„æ”¯æŒï¼Œé€šè¿‡protypeæ¥å®ç°classä¸­çš„method è¿‡ç¨‹ï¼šç†Ÿæ‚‰å®ä¾‹å¯¹è±¡æ„é€ å‡½æ•°åŸå‹ ä¸‰è€…ä¹‹é—´çš„å…³ç³» 1234567//æ„é€ å‡½æ•° åˆ›å»ºå¯¹è±¡function Dog() &#123;&#125;var dog = new Dog();//Person ä¸ºæ„é€ å‡½æ•°,personä¸ºå®ä¾‹å¯¹è±¡dog.name = &#x27;æŸ¯åŸº&#x27;;console.log(dog.name) // æŸ¯åŸº æ„é€ å‡½æ•°é€šè¿‡prototypeè®¿é—®åŸå‹ï¼ˆä¸€ä¸ªç±»çš„å±æ€§ï¼Œå¯¹è±¡éƒ½å¯ä»¥è®¿é—®ï¼‰ å®ä¾‹å¯¹è±¡é€šè¿‡ _proto_ è®¿é—®åŸå‹ === æ„é€ å‡½æ•°é€šè¿‡prototypeè®¿é—®åŸå‹ï¼ˆåŸå‹ä¹Ÿæœ‰_proto_ï¼‰ å®ä¾‹åŸå‹é€šè¿‡constructorè®¿é—®æ„é€ å‡½æ•°(Dog=== Dog.prototype.constructor) åŸå‹éµå¾ªå‘ä¸ŠåŸåˆ™ï¼Œå³æ‰¾ä¸åˆ°å°±ä¸æ–­å‘ä¸Šï¼ˆprototypeï¼‰æŸ¥è¯¢ åŸå‹å› ä¸ºä¸åœå»¶é•¿å½¢æˆé“¾ï¼Œç§°ä½œåŸå‹é“¾ï¼Œä½†æ˜¯ Object.prototype.__proto__ çš„å€¼ä¸º null è·Ÿ Object.prototype æ²¡æœ‰åŸå‹ åŸå‹é“¾å¤§æ¦‚å®ç°äº†ç±»ï¼ˆClassï¼‰ä»¥åŠç»§æ‰¿ï¼ˆExtendï¼‰çš„é—®é¢˜ï¼Œä½†å®ƒå¹¶ä¸æ˜¯å¤åˆ¶ï¼Œæ˜¯å»ºç«‹ä¸€ç§å…³è”ï¼Œé€šè¿‡prototype/_proto_ æ¥è®¿é—®å…¶ä»–å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œå±äºå§”æ‰˜/å€Ÿç”¨ Extendä¸€å…±åˆ†ä¸º6ç§ åŸå‹é“¾ç»§æ‰¿ å€Ÿç”¨æ„é€ å‡½æ•°ï¼ˆç»å…¸ç»§æ‰¿ï¼‰ ç»„åˆç»§æ‰¿ åŸå‹å¼ç»§æ‰¿ å¯„ç”Ÿå¼ç»§æ‰¿ å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ åŸå‹é“¾ç»§æ‰¿123456789101112131415function Parent () &#123; this.names = [&#x27;kevin&#x27;, &#x27;daisy&#x27;];&#125;function Child () &#123;&#125;Child.prototype = new Parent();var child1 = new Child();child1.names.push(&#x27;yayu&#x27;);console.log(child1.names); // [&quot;kevin&quot;, &quot;daisy&quot;, &quot;yayu&quot;]var child2 = new Child();console.log(child2.names); // [&quot;kevin&quot;, &quot;daisy&quot;, &quot;yayu&quot;] é—®é¢˜ï¼š å±æ€§è¢«æ‰€æœ‰childå…±äº« åˆ›å»ºchildå®ä¾‹æ—¶ï¼Œä¸èƒ½å‘parentä¼ å‚ å€Ÿç”¨æ„é€ å‡½æ•°123456789101112131415function Parent (name) &#123; this.name = name;&#125;function Child (name) &#123; Parent.call(this, name);&#125;var child1 = new Child(&#x27;kevin&#x27;);console.log(child1.name); // kevinvar child2 = new Child(&#x27;daisy&#x27;);console.log(child2.name); // daisy æœ‰ç‚¹ï¼š é¿å…å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº« å¯ä»¥åœ¨Childä¸­é—´parentä¼ å‚ ç¼ºç‚¹ï¼š æ–¹æ³•åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºåŠ¿åŠ›éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³• ç»„åˆç»§æ‰¿ä»¥ä¸Šä¸¤ç§æ–¹æ³•çš„ç»„åˆ,ä¸ºæœ€å¸¸ç”¨çš„ç»§æ‰¿æ–¹å¼ 1234567891011121314151617181920212223242526272829function Parent (name) &#123; this.name = name; this.colors = [&#x27;red&#x27;, &#x27;blue&#x27;, &#x27;green&#x27;];&#125;Parent.prototype.getName = function () &#123; console.log(this.name)&#125;function Child (name, age) &#123; Parent.call(this, name); this.age = age;&#125;Child.prototype = new Parent();Child.prototype.constructor = Child;var child1 = new Child(&#x27;kevin&#x27;, &#x27;18&#x27;);child1.colors.push(&#x27;black&#x27;);console.log(child1.name); // kevinconsole.log(child1.age); // 18console.log(child1.colors); // [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;black&quot;]var child2 = new Child(&#x27;daisy&#x27;, &#x27;20&#x27;);console.log(child2.name); // daisyconsole.log(child2.age); // 20console.log(child2.colors); // [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;]","raw":null,"content":null,"categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://zehai.info/categories/JavaScript/"}],"tags":[{"name":"prototype","slug":"prototype","permalink":"http://zehai.info/tags/prototype/"}]},{"title":"dockerMysql","slug":"2021-02-10-dockerMysql","date":"2021-02-10T06:54:33.000Z","updated":"2021-05-28T06:48:48.168Z","comments":true,"path":"2021/02/10/2021-02-10-dockerMysql/","link":"","permalink":"http://zehai.info/2021/02/10/2021-02-10-dockerMysql/","excerpt":"","text":"link:mysql-docker æ”¯æŒæ ‡ç­¾ 8.0.23, 8.0, 8, latest 5.7.33, 5.7, 5 5.6.51, 5.6 å¿«é€Ÿæ‰‹å†Œ issues: https://github.com/docker-library/mysql/issues æ”¯æŒå¹³å°: (more info) amd64 å‘å¸ƒimage è¯¦æƒ…: repo-info repoâ€™s repos/mysql/ directory (history) (image metadata, transfer size, etc) Image æ›´æ–°: official-images repoâ€™s library/mysql labelofficial-images repoâ€™s library/mysql file (history) æè¿°æ¥æº: docs repoâ€™s mysql/ directory (history) ä»€ä¹ˆæ˜¯ MySQL?MySQL æ˜¯æœ€å—æ¬¢è¿çš„ï¼Œå¼€æºçš„æ•°æ®åº“. å‡­å€Ÿè¢«éªŒè¯è¿‡çš„æ€§èƒ½è¡¨ç°ï¼Œå¯é æ€§ï¼Œæ˜“ç”¨æ€§, MySQLå·²ç»æˆä¸ºåŸºäºwebçš„åº”ç”¨ç¨‹åºçš„ ä¸»è¦é€‰æ‹©,åŒ…æ‹¬å®Œæ•´å¾—ä¸ªäººé¡¹ç›®å’Œç½‘ç«™é¡¹ç›®ï¼ˆç”µå­ä¸Šåˆï¼Œä¿¡æ¯æœåŠ¡ï¼‰,ä¹ŸåŒ…æ‹¬ä¼˜ç§€çš„Facebook Facebook, Twitter, YouTube, Yahoo! å¦‚ä½•ä½¿ç”¨mysql imageåˆ›å»º mysql æœåŠ¡å®ä¾‹å¯åŠ¨ MySQL æ¯”è¾ƒç®€å•: 1$ docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag some-mysql å®¹å™¨åç§° my-secret-pw æ˜¯rootè´¦æˆ·çš„å¯†ç  tag æ˜¯mysqlçš„ç‰ˆæœ¬ é€šè¿‡mysqlå‘½ä»¤è¡Œè¿æ¥mysqlä»¥ä¸‹å‘½ä»¤å¯ä»¥å¯åŠ¨mysqlå®¹å™¨å¹¶è¿è¡Œç»ˆç«¯ï¼Œæ‰§è¡ŒSQLè¯­å¥ 1$ docker run -it --network some-network --rm mysql mysql -hsome-mysql -uexample-user -p some-mysql å®¹å™¨åç§° some-network è¿æ¥ç½‘ç»œï¼ˆæ–¹ä¾¿å®¹å™¨é—´è®¿é—®ï¼‰ ä¹Ÿå¯ä»¥ç›´æ¥è¿è¡Œå®¢æˆ·ç«¯ï¼Œè®¿é—®è¿œç¨‹æ•°æ®åº“ 1$ docker run -it --rm mysql mysql -hsome.mysql.host -usome-mysql-user -p æ›´å¤šå‘½ä»¤è¯·è®¿é—® MySQL documentation ä½¿ç”¨docker stack æˆ–docker-composeéƒ¨ç½²ç¤ºä¾‹stack.yml 12345678910111213141516# Use root/example as user/password credentialsversion: &#x27;3.1&#x27;services: db: image: mysql command: --default-authentication-plugin=mysql_native_password restart: always environment: MYSQL_ROOT_PASSWORD: example adminer: image: adminer restart: always ports: - 8080:8080 docker stack deploy -c stack.yml mysql docker-compose -f stack.yml up å¯åŠ¨å, è®¿é—® http://swarm-ip:8080, http://localhost:8080, or http://host-ip:8080 shellè®¿é—®æŸ¥çœ‹ MySQL æ—¥å¿—ä½¿ç”¨ docker exec å¯ä»¥è®©ä½ åœ¨å®¹å™¨å†…æ‰§è¡Œå‘½ä»¤ï¼Œå‘½ä»¤å¦‚ä¸‹ 1$ docker exec -it some-mysql bash å®¹å™¨æ—¥å¿—: 1$ docker logs some-mysql è‡ªå®šä¹‰ MySQL é…ç½®æ–‡ä»¶mysqlé»˜è®¤é…ç½®æ–‡ä»¶åœ¨ /etc/mysql/my.cnf, ä¹Ÿå¯èƒ½æŒ‡å®šäº†é¢å¤–æ–‡ä»¶å¦‚ï¼š /etc/mysql/conf.d or /etc/mysql/mysql.conf.d. è¯·æ£€æŸ¥mysqlimageæœ¬èº«çš„ç›¸å…³æ–‡ä»¶å’Œç›®å½•ä»¥äº†è§£æ›´å¤šä¿¡æ¯ å¦‚æœ /my/custom/config-file.cnf æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ä»¶æœªçŸ¥å’Œåå­—, ä½ å¯ä»¥è¿™æ ·å¯åŠ¨ä½ çš„mysql å®¹å™¨ 1$ docker run --name some-mysql -v /my/custom:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag ä½ ä¼šå¯åŠ¨ä¸€ä¸ªç”¨ä½ è‡ªå®šä¹‰é…ç½® /etc/mysql/my.cnf and /etc/mysql/conf.d/config-file.cnf, çš„mysqlå®¹å™¨ ä¸ä½¿ç”¨cnf æ–‡ä»¶é…ç½®å¾ˆå¤šé…ç½®éƒ½å¯ä»¥ä¼ ç»™ mysqld. ä½¿ä½ è‡ªå®šä¹‰å®¹å™¨è€Œä¸éœ€è¦ cnf æ–‡ä»¶. å¦‚å½“ä½ æƒ³æ”¹å˜é»˜è®¤ç¼–ç å’Œæ’åºè§„åˆ™ï¼Œä½¿ç”¨ UTF-8 (utf8mb4) åªéœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤: 1$ docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci å¦‚æœä½ æƒ³çœ‹åˆ°æ‰€æœ‰çš„é…ç½®é¡¹ï¼Œåªéœ€è¦æ‰§è¡Œ: 1$ docker run -it --rm mysql:tag --verbose --help ç¯å¢ƒå˜é‡docker run æ—¶ï¼Œå¯ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°è¿›è¡Œé…ç½®. ä¸è¿‡éœ€è¦æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨å·²ç»åŒ…å«æ•°æ®åº“çš„æ•°æ®ç›®å½•å¯åŠ¨å®¹å™¨ï¼Œä»¥ä¸‹å˜é‡ä¸ä¼šäº§ç”Ÿå½±å“ï¼Œåœ¨å¯åŠ¨æ—¶ï¼Œä»»ä½•é¢„å…ˆå­˜åœ¨çš„æ•°æ®åº“éƒ½ä¿æŒä¸å˜ï¼Œä»»ä½•ä¹‹å‰å­˜åœ¨çš„æ•°æ®åº“åœ¨å®¹å™¨å¯åŠ¨æ—¶å°†ä¿æŒä¸å˜. MYSQL_ROOT_PASSWORDè¯¥å˜é‡æ˜¯å¿…é¡»çš„ï¼Œæ˜¯rootè´¦æˆ·çš„å¯†ç . MYSQL_DATABASEè¯¥å˜é‡å¯é€‰ï¼Œå…è®¸åœ¨å¯åŠ¨æ—¶ï¼ŒæŒ‡å®šæ•°æ®åº“çš„åç§°. å¦‚æœæä¾›äº†ç”¨æˆ·å/å¯†ç ï¼Œç”¨æˆ·ä¼šè¢«èµ‹äºˆè¶…çº§æƒé™. MYSQL_USER, MYSQL_PASSWORDå¯é€‰å˜é‡ï¼Œç”¨äºåˆ›å»ºæ–°ç”¨æˆ·å’Œå¯†ç ï¼Œç”¨æˆ·å°†è·å¾—è¶…çº§ç®¡ç†å‘˜æƒé™ï¼Œä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å¿…é¡»çš„. æ³¨æ„ï¼šä¸éœ€è¦ä½¿ç”¨è¯¥æœºåˆ¶æ¥åˆ›å»ºrootè¶…çº§ç”¨æˆ·ï¼Œé»˜è®¤ä½¿ç”¨ MYSQL_ROOT_PASSWORD æ¥åˆ›å»ºå¯†ç  MYSQL_ALLOW_EMPTY_PASSWORDå¯é€‰å˜é‡ï¼Œè®¾ç½®éç©ºå€¼ï¼ˆå¦‚yesï¼‰ï¼Œå…è®¸rootç”¨æˆ·æ— å¯†ç å¯åŠ¨å®¹å™¨. æ³¨æ„: é™¤éä½ çŸ¥é“ä½ åœ¨åšä»€ä¹ˆï¼Œå¦åˆ™ä¸å»ºè®®è®¾ç½®ä¸º yes ,å› ä¸ºè¿™å°†ä½¿mysqlå®ä¾‹å®Œå…¨ä¸å—ä¿æŠ¤,å…è®¸æ‰€æœ‰äººè·å¾—å®Œå…¨çš„è¶…çº§ç”¨æˆ·æƒé™. MYSQL_RANDOM_ROOT_PASSWORDå¯é€‰å˜é‡ï¼Œè®¾ç½®éç©ºå€¼ï¼ˆå¦‚yesï¼‰,ä½¿ç”¨pwgen , ä¸ºrootç”¨æˆ·éšæœºç”Ÿæˆå¯†ç  .å¯†ç å°†è¢«æ‰“å°. MYSQL_ONETIME_PASSWORDè®¾ç½®ç”¨æˆ· åˆå§‹åŒ–å®Œæˆåè¿‡æœŸï¼Œåœ¨é¦–æ¬¡ç™»å½•æ—¶å€™å¼ºåˆ¶ä¿®æ”¹å¯†ç . ä»»ä½•éç©ºå€¼å°†æ¿€æ´»è¿™ä¸ªé…ç½®ï¼Œæ³¨æ„ï¼šä»…æ”¯æŒ5.6+ç‰ˆæœ¬ï¼Œä»¥ä¸‹ç‰ˆæœ¬ä¼šæŠ¥é”™ MYSQL_INITDB_SKIP_TZINFOé»˜è®¤ï¼Œentrypointè„šæœ¬è‡ªåŠ¨åŠ è½½CONVERT_TZ()å‡½æ•°éœ€è¦çš„æ—¶åŒºæ•°æ®ï¼Œå¦‚æœä¸éœ€è¦ï¼Œä»»ä½•éç©ºå€¼éƒ½å°†ç¦ç”¨æ—¶åŒºåŠ è½½ Docker Secretsé€šè¿‡ç¯å¢ƒå˜é‡ä¼ é€’æ•æ„Ÿä¿¡æ¯ï¼Œè¿˜æœ‰å¦ä¸€ç§æ–¹æ³•, _FILE å¯ä»¥é™„åŠ åˆ°å‰é¢åˆ—çš„ç¯å¢ƒå˜é‡ï¼Œä½¿å¾—å¯ä»¥ä»æ–‡ä»¶ä¸­çš„å˜é‡åˆå§‹åŒ–è„šæœ¬ï¼Œç‰¹åˆ«æ˜¯ï¼Œè¿™å¯ä»¥ç”¨äºå­˜åœ¨/run/secrets/&lt;secret_name&gt;ä¸­çš„docker scretsä»åŠ è½½å¯†ç , å¦‚ ï¼š 1$ docker run --name some-mysql -e MYSQL_ROOT_PASSWORD_FILE=/run/secrets/mysql-root -d mysql:tag ç›®å‰ä»…æ”¯æŒï¼š MYSQL_ROOT_PASSWORD, MYSQL_ROOT_HOST, MYSQL_DATABASE, MYSQL_USER, å’ŒMYSQL_PASSWORD. åˆå§‹åŒ–æ–°å®ä¾‹åˆšå¯åŠ¨å®¹å™¨,æŒ‡å®šåå­—çš„æ–°æ•°æ®åº“ä¼šè¢«åˆ›å»ºï¼Œå¹¶ä¸”æ ¹æ®æä¾›çš„å˜é‡åˆå§‹åŒ–. æ­¤å¤–,å®ƒå°†æ‰§è¡Œæ‰©å±•åä¸º.sh, .sql å’Œ .sql.gz ï¼ˆ /docker-entrypoint-initdb.dæ–‡ä»¶å¤¹ä¸­ï¼‰.æ–‡ä»¶å°†æŒ‰ç…§å­—å¹•é¡ºåºæ‰§è¡Œ. ä½ å¯ä»¥è½»æ¾ä½¿ç”¨dumpå¤‡ä»½å¡«å……ï¼Œ. é»˜è®¤æƒ…å†µä¸‹ï¼Œsqlæ–‡ä»¶å°†è¢«ä¿å­˜åœ¨ MYSQL_DATABASE æŒ‡å®šçš„æ•°æ®åº“ä¸­. Caveats//å‘Šè¯«æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œé‡è¦å†…å®¹ï¼šæœ‰å‡ ç§æ–¹å¼åœ¨å®¹å™¨è¿è¡Œæ—¶å­˜å‚¨æ•°æ®. æˆ‘ä»¬æ¨è mysql ç”¨æˆ·ç†Ÿæ‚‰å¯ç”¨çš„é€‰é¡¹,åŒ…æ‹¬: è®©dockerä½¿ç”¨è‡ªå·±çš„å†…éƒ¨volume å°†æ•°æ®åº“æ–‡ä»¶å†™å…¥ä¸»æœºç³»ç»Ÿä¸Šçš„ç£ç›˜ï¼ˆè€Œä¸åœ¨å®¹å™¨å†…ï¼‰ä»è€Œç®¡ç†æ•°æ®åº“æ•°æ®çš„å­˜å‚¨ã€‚è¿™ä¹Ÿæ˜¯é»˜è®¤çš„é…ç½®ï¼Œä¹Ÿéå¸¸ç®€å•é€æ˜ã€‚ç¼ºç‚¹æ˜¯ç›¸æ¯”ç›´æ¥éƒ¨ç½²æ‰¾æ–‡ä»¶å›°éš¾. åœ¨ä¸»æœºä¸Šåˆ›å»ºä¸€ä¸ªæ•°æ®ç›®å½•ï¼Œå¹¶å°†å…¶è£…è½½åˆ°å®¹å™¨å†…éƒ¨çš„ä¸€ä¸ªç›®å½•ä¸­ï¼Œä½¿å¾—æ•°æ®åº“æ–‡ä»¶æ”¾ç½®åœ¨ä¸»æœºå·²çŸ¥çš„ä½ç½®ä¸Šï¼Œæ›´è½»æ¾è®¿é—®æ–‡ä»¶ï¼Œç¼ºç‚¹æ˜¯éœ€è¦ç¡®ä¿ç›®å½•å­˜åœ¨ï¼Œä¸”æœ‰æƒé™å’Œå®‰å…¨æœºåˆ¶ Docker æ–‡æ¡£æ˜¯ç†è§£ä¸åŒå­˜å‚¨é€‰é¡¹å’Œå˜é‡çš„æœ€å¥½èµ·æ­¥ï¼Œå¹¶ä¸”æœ‰å¾ˆå¤šåšå®¢è®ºå›è®¨è®ºå¹¶æä¾›å»ºè®®ï¼Œæˆ‘ä»¬å°†ç®€å•å±•ç¤ºåŸºæœ¬è¿‡ç¨‹: åˆ›å»ºæ–‡ä»¶å¤¹åœ¨ä¸»æœºå¦‚ /my/own/datadir. å¯åŠ¨ mysql å®¹å™¨ 1$ docker run --name some-mysql -v /my/own/datadir:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag -v /my/own/datadir:/var/lib/mysql å°† /my/own/datadir ç›®å½•ä»ä¸»æœºè£…å…¥å®¹å™¨ä¸­ä½œä¸º /var/lib/mysql é»˜è®¤ä¸ä¼ -væƒ…å†µä¸‹ï¼Œmysqlå°†å†™å…¥å…¶ä»–æ•°æ®æ–‡ä»¶. ç›´åˆ°åˆå§‹åŒ–å®Œæˆæ‰æœ‰è¿æ¥å¦‚æœå®¹å™¨å¯åŠ¨æ²¡æœ‰åˆå§‹åŒ–æ•°æ®åº“ï¼Œåˆ™åˆ›å»ºé»˜è®¤æ•°æ®åº“. åˆå§‹åŒ–å®Œæˆä¹‹å‰ä¸ä¼šæ¥å—ä¼ å…¥è¿æ¥. åœ¨ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·å¦‚ docker-composeåŒæ—¶å¯åŠ¨å¤šä¸ªå®¹å™¨æ—¶,è¿™å¯èƒ½ä¼šå¯¼è‡´é—®é¢˜. å¦‚æœåº”ç”¨å°è¯•è¿æ¥ä¸æä¾›æœåŠ¡çš„mysqlï¼Œéœ€è¦ç»§ç»­é‡è¯•ç­‰å¾…è¿æ¥æˆåŠŸ. å®˜æ–¹ç¤ºä¾‹, è¯¦è§ WordPress or Bonita. ç°ç”¨æ•°æ®åº“ä½¿ç”¨å¦‚æœåœ¨ä¸€ä¸ªæœ‰mysqlæ•°æ®ç›®å½•çš„volumeå¯åŠ¨mqsqlï¼Œåº”çœç•¥ $MYSQL_ROOT_PASSWORDå‘½ä»¤; åŠæ—¶å¡«å†™ä¹Ÿä¸ä¼šç”Ÿæ•ˆ, ä¸”ä¸ä¼šæ›´æ”¹é¢„å…ˆå­˜åœ¨çš„æ•°æ®åº“. ä»¥ä»»æ„ç”¨æˆ·èº«ä»½è¿è¡Œå¦‚æœä½ æ­£ç¡®è®¾ç½®äº†ç›®å½•æƒé™ï¼Œæˆ–è€…ä½ éœ€è¦ä½¿ç”¨ç‰¹å®šçš„uid/gidè¿è¡Œmysqldï¼Œåˆ™å¯ä»¥é€šè¿‡ --user è®¾ä¸ºä»»æ„å€¼ï¼ˆroot/0å¤–ï¼‰æ¥å®ç°æ‰€éœ€çš„æƒé™/é…ç½®: 1234$ mkdir data$ ls -lnd datadrwxr-xr-x 2 1000 1000 4096 Aug 27 15:54 data$ docker run -v &quot;$PWD/data&quot;:/var/lib/mysql --user 1000:1000 --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag åˆ›å»ºå¤‡ä»½å¤§å¤šæ•°å·¥å…·éƒ½ä¼šæ­£å¸¸å·¥ä½œ,å°½ç®¡ä»–ä»¬çš„ä½¿ç”¨åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½æœ‰ç‚¹å¤æ‚ï¼Œ ä»¥ç¡®ä¿å¯ä»¥è®¿é—®mysqldæœåŠ¡å™¨ï¼Œç¡®ä¿è¿™ä¸€ç‚¹çš„ä¸€ä¸ªç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ docker exec å¹¶ä»åŒä¸€å®¹å™¨è¿è¡Œå·¥å…·ï¼Œå¦‚: 1$ docker exec some-mysql sh -c &#x27;exec mysqldump --all-databases -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#x27; &gt; /some/path/on/your/host/all-databases.sql ä»å¤‡ä»½è¿˜åŸæ•°æ®1$ docker exec -i some-mysql sh -c &#x27;exec mysql -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#x27; &lt; /some/path/on/your/host/all-databases.sqlwith any relevant licenses for all software contained within.1","raw":null,"content":null,"categories":[{"name":"docker","slug":"docker","permalink":"http://zehai.info/categories/docker/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://zehai.info/tags/mysql/"}]},{"title":"currying","slug":"2021-01-15-currying","date":"2021-01-15T06:54:00.000Z","updated":"2021-05-28T06:48:48.168Z","comments":true,"path":"2021/01/15/2021-01-15-currying/","link":"","permalink":"http://zehai.info/2021/01/15/2021-01-15-currying/","excerpt":"","text":"æŸ¯é‡ŒåŒ–æ˜¯ä¸€ç§å°†ä½¿ç”¨å¤šä¸ªå‚æ•°çš„ä¸€ä¸ªå‡½æ•°è½¬æ¢æˆä¸€ç³»åˆ—ä½¿ç”¨ä¸€ä¸ªå‚æ•°çš„å‡½æ•°çš„æŠ€æœ¯ 12345678910function add(a, b) &#123; return a + b;&#125;// æ‰§è¡Œ add å‡½æ•°ï¼Œä¸€æ¬¡ä¼ å…¥ä¸¤ä¸ªå‚æ•°å³å¯add(1, 2) // 3// å‡è®¾æœ‰ä¸€ä¸ª curry å‡½æ•°å¯ä»¥åšåˆ°æŸ¯é‡ŒåŒ–var addCurry = curry(add);addCurry(1)(2) // 3","raw":null,"content":null,"categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://zehai.info/categories/JavaScript/"}],"tags":[{"name":"currying","slug":"currying","permalink":"http://zehai.info/tags/currying/"}]},{"title":"closure","slug":"2021-01-08-closure","date":"2021-01-08T06:53:22.000Z","updated":"2021-05-28T06:48:48.168Z","comments":true,"path":"2021/01/08/2021-01-08-closure/","link":"","permalink":"http://zehai.info/2021/01/08/2021-01-08-closure/","excerpt":"","text":"å‰ç½®çŸ¥è¯†ï¼šJavaScriptæ˜¯é™æ€ä½œç”¨åŸŸ é—­åŒ…ï¼šè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•° 1234567var a = 1;//æ—¢ä¸æ˜¯fooçš„å±€éƒ¨å˜é‡ï¼Œä¹Ÿä¸æ˜¯fooå‡½æ•°çš„å‚æ•°ï¼Œaä¸ºè‡ªç”±å˜é‡function foo() &#123; console.log(a);&#125;foo();//1 å³ä½¿ä¸Šä¸‹æ–‡è¢«é”€æ¯ï¼Œå®ƒä»ç„¶å­˜åœ¨ï¼Œå› ä¸ºåœ¨ä½œç”¨åŸŸé“¾ä¸Šè¢«å¼•ç”¨äº†ï¼Œæ˜¯jsçš„ä¸€ä¸ªç‰¹æ€§ï¼Œç›®å‰å¦‚PHPï¼ŒJavaä¸ä¼šåŸç”Ÿæ”¯æŒ é¢è¯•é¢˜ å¸¸è§çš„æ–°æ‰‹é¢è¯•é¢˜ï¼Œæˆ‘é‡åˆ°è¿‡å¥½å‡ æ¬¡ï¼ˆä½œç”¨åŸŸ+é—­åŒ…è€ƒç‚¹ï¼‰ 123456789101112131415161718192021222324252627var data = [];for (var i = 0; i &lt; 3; i++) &#123; data[i] = function () &#123; console.log(i); &#125;;&#125;data[0]();data[1]();data[2]();//closure var data = [];for (var i = 0; i &lt; 3; i++) &#123; data[i] = (function (i) &#123; return function()&#123; console.log(i); &#125; &#125;)(i);&#125;data[0]();//ä¸ç”¨æ‰¾globalçš„idata[1]();data[2]();","raw":null,"content":null,"categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://zehai.info/categories/JavaScript/"}],"tags":[{"name":"closure","slug":"closure","permalink":"http://zehai.info/tags/closure/"}]},{"title":"vscodeè®¿é—®æœåŠ¡å™¨æ–‡ä»¶","slug":"2021-01-05-vscoderemote","date":"2021-01-05T06:49:27.000Z","updated":"2021-05-28T06:48:48.167Z","comments":true,"path":"2021/01/05/2021-01-05-vscoderemote/","link":"","permalink":"http://zehai.info/2021/01/05/2021-01-05-vscoderemote/","excerpt":"","text":"1.install remote ssh in vscode 2.click remote explorer and select ssh targets 3.click remote ssh configure or press F1 and input remote-ssh:Open configuration file 4.selete path ~/.ssh/config,and modify config file if you dont have rsa ,please generate keys before 123456//optionalssh-keygen# passphrase can be empty and then generate keys in `~/.ssh`# put *.pub (public key) to your server (~/.ssh/) and excute `cat id_rsa.pub &gt;&gt; authorized_keys` to merge Previous file# now rsa keys are ready 1234567Host alias HostName 8.888.88.8 User root IdentityFile ~&#x2F;.ssh&#x2F;id_rsa RSAAuthentication yes PubkeyAuthentication yes PasswordAuthentication no Host aliasâ€“&gt;your remote server name hostNameâ€“&gt;server ip Userâ€“&gt;login username IdentityFileâ€“&gt;private key path RSAAuthenticationâ€“&gt;optional PubkeyAuthenticationâ€“&gt;optional PasswordAuthenticationâ€“&gt;no password login 5.login without password ready","raw":null,"content":null,"categories":[{"name":"skills","slug":"skills","permalink":"http://zehai.info/categories/skills/"}],"tags":[{"name":"vscode","slug":"vscode","permalink":"http://zehai.info/tags/vscode/"}]},{"title":"2020-10-16-promiseç”¨æ³•","slug":"2020-10-16-promiseç”¨æ³•","date":"2020-10-16T10:42:09.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/10/16/2020-10-16-promiseç”¨æ³•/","link":"","permalink":"http://zehai.info/2020/10/16/2020-10-16-promise%E7%94%A8%E6%B3%95/","excerpt":"","text":"WhatECMAscript 6 åŸç”Ÿæä¾›äº† Promise å¯¹è±¡ã€‚ Promise å¯¹è±¡ä»£è¡¨äº†æœªæ¥å°†è¦å‘ç”Ÿçš„äº‹ä»¶ï¼Œç”¨æ¥ä¼ é€’å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚ Promise å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹:1ã€å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚Promise å¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼š pending: åˆå§‹çŠ¶æ€ï¼Œä¸æ˜¯æˆåŠŸæˆ–å¤±è´¥çŠ¶æ€ã€‚ fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚ rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚ åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯ Promise è¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯ã€Œæ‰¿è¯ºã€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ã€‚ 2ã€ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚Promise å¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä» Pending å˜ä¸º Resolved å’Œä» Pending å˜ä¸º Rejectedã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœã€‚å°±ç®—æ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹ Promise å¯¹è±¡æ·»åŠ å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æœã€‚è¿™ä¸äº‹ä»¶ï¼ˆEventï¼‰å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå¦‚æœä½ é”™è¿‡äº†å®ƒï¼Œå†å»ç›‘å¬ï¼Œæ˜¯å¾—ä¸åˆ°ç»“æœçš„ã€‚ 1234var promise &#x3D; new Promise(function(resolve, reject) &#123; &#x2F;&#x2F; å¼‚æ­¥å¤„ç† &#x2F;&#x2F; å¤„ç†ç»“æŸåã€è°ƒç”¨resolve æˆ– reject&#125;); ä»¥ä¸Šæ¥è‡ª:èœé¸Ÿhttps://www.runoob.com/w3cnote/javascript-promise-object.html Whyå› ä¸ºåœ¨2020å¹´01æœˆ07æ—¥æœ‰ä¸€ç¯‡æ–‡ç« è®²äº†ä½¿ç”¨promiseå®ç°å»¶æ—¶é˜Ÿåˆ—çš„ä¸€é“é¢è¯•é¢˜ï¼Œå› ä¸ºä¹‹å‰å†™ä¸šåŠ¡æ²¡æœ‰ç”¨åˆ°è¿‡æ‰€ä»¥ä¸€ç›´ä»¥ä¸ºç”¨å¤„ä¸å¤§ï¼Œä½†ä»Šå¤©å¯¹æ¥é˜¿é‡Œçš„å½•éŸ³æ–‡ä»¶è¯†åˆ«è½¬æ–‡å­—çš„æ¥å£ä¸­ï¼Œç¤ºä¾‹ä»£ç æ˜¯ä¸€ä¸ªsetIntervalè½®è¯¢å¾—åˆ°ç»“æœçš„ä¸€ç§æ–¹å¼ï¼Œä½†æ˜¯ä»–å¸¦æ¥äº†ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ ï¼ï¼æ²¡æœ‰åŠæ³•è¿”å›å‰ç«¯è½¬æ–‡å­—çš„ç»“æœï¼ï¼ å¤§æ¦‚ä»£ç å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051//url:https://help.aliyun.com/document_detail/94242.html?spm=a2c4g.11174283.6.601.15eb7275a8rq00// è¿™æ®µä»£ç ä¼šå¼‚æ­¥æ‰§è¡Œï¼Œå¯ä»¥å¾—åˆ°ç»“æœï¼Œä½†æ˜¯ç›´æ¥ç”¨è¿™ä¸ªä»£ç è¿”å›ç»™å‰ç«¯client.submitTask(taskParams, options).then((response) =&gt; &#123; console.log(response); // æœåŠ¡ç«¯å“åº”ä¿¡æ¯çš„çŠ¶æ€æè¿°StatusTextã€‚ var statusText = response.StatusText; if (statusText != &#x27;SUCCESS&#x27;) &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚å“åº”å¤±è´¥!&#x27;) return; &#125; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚å“åº”æˆåŠŸ!&#x27;); // è·å–å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚ä»»åŠ¡çš„TaskIdï¼Œä»¥ä¾›è¯†åˆ«ç»“æœæŸ¥è¯¢ä½¿ç”¨ã€‚ var taskId = response.TaskId; /** * ä»¥TaskIdä¸ºæŸ¥è¯¢å‚æ•°ï¼Œæäº¤è¯†åˆ«ç»“æœæŸ¥è¯¢è¯·æ±‚ã€‚ * ä»¥è½®è¯¢çš„æ–¹å¼è¿›è¡Œè¯†åˆ«ç»“æœçš„æŸ¥è¯¢ï¼Œç›´åˆ°æœåŠ¡ç«¯è¿”å›çš„çŠ¶æ€æè¿°ä¸º&quot;SUCCESS&quot;ã€SUCCESS_WITH_NO_VALID_FRAGMENTï¼Œ * æˆ–è€…ä¸ºé”™è¯¯æè¿°ï¼Œåˆ™ç»“æŸè½®è¯¢ã€‚ */ var taskIdParams = &#123; TaskId : taskId &#125;; var timer = setInterval(() =&gt; &#123; client.getTaskResult(taskIdParams).then((response) =&gt; &#123; console.log(&#x27;è¯†åˆ«ç»“æœæŸ¥è¯¢å“åº”ï¼š&#x27;); console.log(response); var statusText = response.StatusText; if (statusText == &#x27;RUNNING&#x27; || statusText == &#x27;QUEUEING&#x27;) &#123; // ç»§ç»­è½®è¯¢ï¼Œæ³¨æ„é—´éš”å‘¨æœŸã€‚ &#125; else &#123; if (statusText == &#x27;SUCCESS&#x27; || statusText == &#x27;SUCCESS_WITH_NO_VALID_FRAGMENT&#x27;) &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«æˆåŠŸï¼š&#x27;); var sentences = response.Result; console.log(sentences); &#125; else &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«å¤±è´¥!&#x27;); &#125; // é€€å‡ºè½®è¯¢ clearInterval(timer); &#125; &#125;).catch((error) =&gt; &#123; console.error(error); // å¼‚å¸¸æƒ…å†µï¼Œé€€å‡ºè½®è¯¢ã€‚ clearInterval(timer); &#125;); &#125;, 10000); &#125;).catch((error) =&gt; &#123; console.error(error); &#125;);&#125; Howä½¿ç”¨promiseè¿›è¡ŒåŒ…è£¹ï¼Œç­‰åˆ°promiseå†…éƒ¨çš„å‡½æ•°å–åˆ°äº†ç»“æœåœ¨è¿”å› 12345678if (statusText == &#x27;SUCCESS&#x27; || statusText == &#x27;SUCCESS_WITH_NO_VALID_FRAGMENT&#x27;) &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«æˆåŠŸï¼š&#x27;); var sentences = response.Result; console.log(sentences); //è¿™é‡Œæ–°å¢resolve&#125; else &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«å¤±è´¥!&#x27;);&#125; å¤–å±‚é€šè¿‡å¦‚ä¸‹ä»£ç å®ç° 1234var promise &#x3D; new Promise(function(resolve, reject) &#123; &#x2F;&#x2F; å¼‚æ­¥å¤„ç† &#x2F;&#x2F; å¤„ç†ç»“æŸåã€è°ƒç”¨resolve æˆ– reject&#125;); 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465async function getWords() &#123; return new Promise((resolve, reject) =&gt; &#123; client .submitTask(taskParams, options) .then(response =&gt; &#123; console.log(response); // æœåŠ¡ç«¯å“åº”ä¿¡æ¯çš„çŠ¶æ€æè¿°StatusTextã€‚ const statusText = response.StatusText; if (statusText != &#x27;SUCCESS&#x27;) &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚å“åº”å¤±è´¥!&#x27;); &#125; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚å“åº”æˆåŠŸ!&#x27;); // è·å–å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚ä»»åŠ¡çš„TaskIdï¼Œä»¥ä¾›è¯†åˆ«ç»“æœæŸ¥è¯¢ä½¿ç”¨ã€‚ const taskId = response.TaskId; /** * ä»¥TaskIdä¸ºæŸ¥è¯¢å‚æ•°ï¼Œæäº¤è¯†åˆ«ç»“æœæŸ¥è¯¢è¯·æ±‚ã€‚ * ä»¥è½®è¯¢çš„æ–¹å¼è¿›è¡Œè¯†åˆ«ç»“æœçš„æŸ¥è¯¢ï¼Œç›´åˆ°æœåŠ¡ç«¯è¿”å›çš„çŠ¶æ€æè¿°ä¸º&quot;SUCCESS&quot;ã€SUCCESS_WITH_NO_VALID_FRAGMENTï¼Œ * æˆ–è€…ä¸ºé”™è¯¯æè¿°ï¼Œåˆ™ç»“æŸè½®è¯¢ã€‚ */ const taskIdParams = &#123; TaskId: taskId, &#125;; const timer = setInterval(() =&gt; &#123; client .getTaskResult(taskIdParams) .then(response =&gt; &#123; console.log(&#x27;è¯†åˆ«ç»“æœæŸ¥è¯¢å“åº”ï¼š&#x27;); console.log(response); const statusText = response.StatusText; if (statusText == &#x27;RUNNING&#x27; || statusText == &#x27;QUEUEING&#x27;) &#123; // ç»§ç»­è½®è¯¢ï¼Œæ³¨æ„é—´éš”å‘¨æœŸã€‚ &#125; else &#123; if ( statusText == &#x27;SUCCESS&#x27; || statusText == &#x27;SUCCESS_WITH_NO_VALID_FRAGMENT&#x27; ) &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«æˆåŠŸï¼š&#x27;); let sentences = &#x27;&#x27;; for (const s of response.Result.Sentences) &#123; sentences += s.Text; &#125; console.log(response.Result); resolve(sentences);//**é‡ç‚¹**// // return sentences; &#125; else &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«å¤±è´¥!&#x27;); &#125; // é€€å‡ºè½®è¯¢ clearInterval(timer); &#125; &#125;) .catch(error =&gt; &#123; console.error(error); // å¼‚å¸¸æƒ…å†µï¼Œé€€å‡ºè½®è¯¢ã€‚ clearInterval(timer); &#125;); &#125;, 10000); &#125;) .catch(error =&gt; &#123; console.error(error); &#125;); &#125;); &#125; return await getWords();//è¿”å›å‰ç«¯ï¼Œç¿»è¯‘ç»“æœ å¦å¤–è®°å½•ä¸€ä»¶äº‹æƒ…ï¼Œå·¦ä¾§å•å…ƒå›¾æ ‡åœ°å€ï¼šhttps://fontawesome.com/v4.7.0/icons/","raw":null,"content":null,"categories":[],"tags":[]},{"title":"NodeJS","slug":"2020-09-27-NodeJS","date":"2020-09-27T10:42:36.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/09/27/2020-09-27-NodeJS/","link":"","permalink":"http://zehai.info/2020/09/27/2020-09-27-NodeJS/","excerpt":"","text":"https://github.com/theanarkh/understand-nodejs æ–‡æ¡£è¿˜æ˜¯ä¸é”™çš„","raw":null,"content":null,"categories":[],"tags":[]},{"title":"Jupyter","slug":"2020-09-25-Jupyter","date":"2020-09-25T07:48:37.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/09/25/2020-09-25-Jupyter/","link":"","permalink":"http://zehai.info/2020/09/25/2020-09-25-Jupyter/","excerpt":"","text":"whatJupiter = Julia + Python + R Jupyter notebookï¼ˆhttp://jupyter.org/ï¼‰ æ˜¯ä¸€ç§ Web åº”ç”¨ï¼Œèƒ½è®©ç”¨æˆ·å°†è¯´æ˜æ–‡æœ¬ã€æ•°å­¦æ–¹ç¨‹ã€ä»£ç å’Œå¯è§†åŒ–å†…å®¹å…¨éƒ¨ç»„åˆåˆ°ä¸€ä¸ªæ˜“äºå…±äº«çš„æ–‡æ¡£ä¸­ã€‚ why å°†ä»£ç å’Œæ–‡æ¡£ç»“åˆåœ¨ä¸€èµ·ï¼Œæ›´ç›´è§‚çš„ç¼–å†™äººå·¥æ™ºèƒ½ï¼Œå¤§æ•°æ®çš„ä»£ç  åˆ†å—è¿è¡Œ ç›´æ¥è¿è¡Œshellä¸éœ€è¦åˆ‡æ¢ç¯å¢ƒ so on how Download images 12$docker pull jupyter jupyter&#x2F;scipy-notebook:latest$docker run -itd --rm -p 1000:8888 -e JUPYTER_ENABLE_LAB&#x3D;yes -v &#x2F;home&#x2F;zehai&#x2F;jupyter:&#x2F;home&#x2F;jovyan&#x2F;work --name jupyter jupyter&#x2F;scipy-notebook:latest docker logs -f containerâ€™s ID and find token 12345To access the notebook, open this file in a browser: file:&#x2F;&#x2F;&#x2F;home&#x2F;jovyan&#x2F;.local&#x2F;share&#x2F;jupyter&#x2F;runtime&#x2F;nbserver-6-open.htmlOr copy and paste one of these URLs: http:&#x2F;&#x2F;896bb1e66101:8888&#x2F;?token&#x3D;fda8565a9b5cd5b8c621b45322ee72f716fd7ddea089fb51 or http:&#x2F;&#x2F;127.0.0.1:8888&#x2F;?token&#x3D;fda8565a9b5cd5b8c621b45322ee72f716fd7ddea089fb51 more info visit official docs enjoy (pics powered by cherevero)","raw":null,"content":null,"categories":[],"tags":[]},{"title":"chevereto","slug":"2020-09-15-Chevereto","date":"2020-09-15T02:16:33.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/09/15/2020-09-15-Chevereto/","link":"","permalink":"http://zehai.info/2020/09/15/2020-09-15-Chevereto/","excerpt":"","text":"whatTo solve some problems some web only use markdown and canâ€™t upload pictures,such as v2ex.com some pics you donâ€™t want to give it to others for long time,such as your interesting story give your blogâ€™s can speed when download bigger pics and so on Picture Bed can offer you a excellent platform to share your pictures and protect them, however it has a problem that you need a server to run the service,even though you can use ä¸ƒç‰›äº‘,alioss,weibo for free. whyChevereto is aim what I find dockerhub has chevereto images Combined with ShareX (only for windowsğŸ˜¢),chevereto can write markdown essay easily it has api ,you can make it stronger Chevereto Free v1.2.2 now Something others you can discover by yourself howChevereto is a php project , I use docker to run it 12345678910docker pull nmtan/chevereto:latest//use docker-compose.yml(next block)// or docker run docker run -it --name chevereto -d -p 8000:80 -v &quot;/home/xxx/images&quot;:/var/www/html/images -e &quot;CHEVERETO_DB_HOST=127.0.0.1&quot; -e &quot;CHEVERETO_DB_USERNAME=root&quot; -e &quot;CHEVERETO_DB_PASSWORD=rootpass&quot; -e &quot;CHEVERETO_DB_NAME=chevereto&quot; -e &quot;CHEVERETO_DB_PREFIX=chv_&quot; nmtan/chevereto//-v save photos in server instead of container//-e mysql:5.7.31 host,username,password,db_name(db must exist first)//open chrome and input 127.0.0.1:8000 12345678910111213141516171819202122232425262728293031323334353637383940414243&#x2F;&#x2F;this is docker-compose.ymlversion: &#39;3&#39;services: db: image: mariadb volumes: - .&#x2F;database:&#x2F;var&#x2F;lib&#x2F;mysql:rw restart: always networks: - private environment: MYSQL_ROOT_PASSWORD: xxxxx MYSQL_DATABASE: xxxxx MYSQL_USER: xxxxx MYSQL_PASSWORD: xxxxx chevereto: depends_on: - db image: nmtan&#x2F;chevereto restart: always networks: - private environment: CHEVERETO_DB_HOST: db CHEVERETO_DB_USERNAME: xxxxxx CHEVERETO_DB_PASSWORD: xxxxx CHEVERETO_DB_NAME: xxxxx CHEVERETO_DB_PREFIX: chv_ volumes: - .&#x2F;images:&#x2F;var&#x2F;www&#x2F;html&#x2F;images:rw - .&#x2F;php.ini:&#x2F;usr&#x2F;local&#x2F;etc&#x2F;php&#x2F;php.ini:ro ports: - 8080:80networks: private:&#x2F;&#x2F; start commandnohup docker-compose up &amp;&gt; run.log &amp;disown You maybe run into a stone wall when you first visit 127.0.0.1:8000 Before you can use docker exec -it chevereto bash into container /var/www/html no permission write phots to /home/xxx/images,you can use chmod -R 777 /home/xxx/images no permission update chevereto from 1.1.4 to1.2.2 ,no update possible: /app/install/update/temp/ path,that is no temp folder in /app/install/update/ under version 1.2.0,you can mkdir temp and then chmod -R 777 ./temp and then refresh the webpage ,the prics bed will update successfully So , you can use ip address to visit your chevereto . However , we usually use domain name such as example.com to visit web, a https isn ecessary as well 1.Use aliyun to apply a free ssl license for a domain name such as pics.example.com 2.Download pem and keys to your server and put it in nginx conf folder 3.Use the conf as follows 12345678910111213141516171819202122232425262728293031323334server &#123; listen 80; server_name pics.example.com; return 301 https:&#x2F;&#x2F;pics.example.com$request_uri; &#125; server &#123; listen 443 ssl; server_name pics.example.com; gzip on; ssl_certificate cert&#x2F;xxxxxx9_pics.example.com.pem; # pem&#39;s filename ssl_certificate_key cert&#x2F;xxxxxx9_pics.example.com.key;# key&#39;s filename location &#x2F; &#123; proxy_redirect off; proxy_pass http:&#x2F;&#x2F;dockername; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-Ssl on; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header X-Frame-Options SAMEORIGIN; client_max_body_size 100m; client_body_buffer_size 128k; proxy_buffer_size 4k; proxy_buffers 4 32k; proxy_busy_buffers_size 64k; proxy_temp_file_write_size 64k; &#125; &#125; And then you can visit https://pics.example.com Thatâ€˜s my story that building pics bed ,and hope to help you. 2020-09-28 append use picgoï¼Œupload pictures in typora to chevereto GitHub download picgo,mac use .dmp,and then install it open æ’ä»¶è®¾ç½®,search chevereto and install chevereto 1.0.0 Open å›¾åºŠè®¾ç½®&gt;Chevereto Uploader and put in params, Url is your upload service ip/domain Key is chevereto api in Dashboard&gt;Settings&gt;API&gt;API v1 key param is not in use now 12Url:https:&#x2F;&#x2F;example.com&#x2F;api&#x2F;1&#x2F;uploadKey:xxx Click ç¡®å®š and è®¾ä¸ºé»˜è®¤å›¾åº“ make sure server is on PicGoè®¾ç½®&gt;è®¾ç½®Server&gt;ç‚¹å‡»è®¾ç½®,if it is on ,noting should be done and then we modify config in typaro Open Typora and open â€˜preferences&gt;Images` Choose Upload images in when Insert and check apply above rules to local images and apply above rules to online images in option, and I suggest you check both of them to approve all pics managed by chevereto Choose PicGo.app in images Uploader and click Test Uploader to test your upload pictures automatically for more information ,youcan visit PicGo and PicGo-Core Upload your pictures in personal album instead of visitorsâ€™ albulm Chevereto API thanks Chevereto ShareX ioioxâ€™s blog dana5hawâ€™s blog","raw":null,"content":null,"categories":[{"name":"Chevereto","slug":"Chevereto","permalink":"http://zehai.info/categories/Chevereto/"}],"tags":[{"name":"pictureBed","slug":"pictureBed","permalink":"http://zehai.info/tags/pictureBed/"}]},{"title":"RabbitMQ","slug":"2020-09-14-RabbitMQ","date":"2020-09-14T04:13:40.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/09/14/2020-09-14-RabbitMQ/","link":"","permalink":"http://zehai.info/2020/09/14/2020-09-14-RabbitMQ/","excerpt":"","text":"whatMQ-message queue ä¸‰è¶³é¼ç«‹ rocketmqâ€‹â€‹ -Made by Java ååé‡é«˜ä¸€äº› é˜¿é‡Œä¸­é—´ä»¶ rabbitmq -Made by Erlang Kafka- ä»¥åæœ‰æ›´å¤šçš„äº†è§£å†è¡¥å……æ€§èƒ½/åŠŸèƒ½å·®è· whyåŠŸèƒ½ï¼šè§£è€¦(åŒæ–¹é€šè¿‡mqäº¤äº’)ã€å¼‚æ­¥ã€å‰Šå³° åº”ç”¨ï¼š é˜¿é‡ŒåŒ11 é—®é¢˜ï¼š å¤„ç†å¥½æ–°å¢çš„å¤æ‚æ€§ å¤„ç†å¥½ç³»ç»Ÿå¯ç”¨æ€§ howä¹‹æ‰€ä»¥é€‰æ‹©rabbitmqæ˜¯å› ä¸ºrocketmqçš„nameserveræ‰€éœ€è¦çš„å†…å­˜å¤ªå¤§äº†ï¼Œæ›´ä½•å†µbokerï¼Œå¯¹äº1C2Gçš„ä¹ä¸æœºå™¨æ¥è¯´æ ¹æœ¬è·‘ä¸èµ·æ¥ 1.docker runBecause of rocketmq need more than 123456789docker pull rabbitmq:managementdocker run -dit --name rabbitmq -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin -p 15672:15672 -p 5672:5672 rabbitmq:management--name containername-e RABBITMQ_DEFAULT_USER å‚æ•°ç”¨æˆ·åï¼Œå¯†ç åŒç†-p ç«¯å£æ˜ å°„ï¼Œä¸»æœºï¼šå®¹å™¨ï¼Œ15672-UIï¼Œ5672-servicerabbitmq:management image&#x27;s name 2.Usage1.open chrome and input â€˜localhost:15672â€™ or â€˜192.168.1.1:15672â€™ then you can touch rabbitmq UI Overviewâ€“the queued msg, msg rate in your server, some global counts, your nodes stats (if u use the above method,you only see one node in the screen ),you also can build a cluster with more nodes Connectionsâ€“ Channelsâ€“ Exchangesâ€“direct,fanout,headers,match,trace,topic Quesesâ€“ Adminâ€“users management with passport &amp;&amp; permission 2.use 5672 in your code 12345678amqp.connect(&#123; protocol: &#x27;amqp&#x27;, hostname: &#x27;example.com&#x27;,//localhost port: &#x27;5672&#x27;, username: &#x27;admin&#x27;, password: &#x27;xxx&#x27;, vhost: &#x27;/&#x27;,//important &#125;) more in official docsâ€“&gt; Iâ€™m doc or some blogsâ€“&gt;Iâ€™m blog or my GitHubâ€“&gt;click here","raw":null,"content":null,"categories":[{"name":"MQ","slug":"MQ","permalink":"http://zehai.info/categories/MQ/"}],"tags":[{"name":"basic","slug":"basic","permalink":"http://zehai.info/tags/basic/"}]},{"title":"EventLoop Source","slug":"2020-07-23-EventLoop2","date":"2020-07-24T03:49:24.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/07/24/2020-07-23-EventLoop2/","link":"","permalink":"http://zehai.info/2020/07/24/2020-07-23-EventLoop2/","excerpt":"","text":"eventLoopä¹‹å‰ä¹Ÿæœ‰è¿‡ç« èŠ‚nodeæ•´ç†Node.js æœ‰çœ‹åˆ°çŸ³å¢¨æŠ€æœ¯æ–‡æ¡£ cnodeæŠ€æœ¯æ–‡æ¡£ï¼Œä½œè€…ï¼šyouth7 è®°å½•ä»¥ä¸‹çŸ¥è¯†ç‚¹ï¼š nodejsçš„eventæ˜¯åŸºäºlibuvï¼Œæµè§ˆå™¨çš„event loopåˆ™åœ¨html5çš„è§„èŒƒä¸­æ˜ç¡®å®šä¹‰ï¼Œä¸¤ä¸ªäº‹ç‰©æœ‰æ˜æ˜¾çš„åŒºåˆ« process.nextTick()åœ¨6ä¸ªé˜¶æ®µç»“æŸçš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œ eventLoop timers æ‰§è¡ŒsetTimeout() å’Œ setInterval()ä¸­åˆ°æœŸçš„callback I/O callbacks ä¸Šä¸€è½®å¾ªç¯ä¸­æœ‰å°‘æ•°çš„I/Ocallbackä¼šè¢«å»¶è¿Ÿåˆ°è¿™ä¸€è½®çš„è¿™ä¸€é˜¶æ®µæ‰§è¡Œ idle, prepare ä»…å†…éƒ¨ä½¿ç”¨ poll æœ€ä¸ºé‡è¦çš„é˜¶æ®µï¼Œæ‰§è¡ŒI/O callbackï¼Œåœ¨é€‚å½“çš„æ¡ä»¶ä¸‹ä¼šé˜»å¡åœ¨è¿™ä¸ªé˜¶æ®µ check æ‰§è¡ŒsetImmediateçš„callback close callbacks æ‰§è¡Œcloseäº‹ä»¶çš„callbackï¼Œä¾‹å¦‚socket.on(&quot;close&quot;,func) 123456789101112131415161718 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€&gt;â”‚ timers â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ I/O callbacks â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ idle, prepare â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ incoming: â”‚â”‚ â”‚ poll â”‚&lt;â”€â”€â”€â”€â”€â”¤ connections, â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ data, etc. â”‚â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ check â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â””â”€â”€â”¤ close callbacks â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657# /deps/uv/src/unix/core.cint uv_run(uv_loop_t* loop, uv_run_mode mode) &#123; int timeout; int r; int ran_pending; r = uv__loop_alive(loop); // if(uv_has_active_hanles||uv_has_active_reqs || lop-&gt;closing_handles!=NULL)retrun true if (!r) uv__update_time(loop); while (r != 0 &amp;&amp; loop-&gt;stop_flag == 0) &#123; uv__update_time(loop); // main uv__run_timers(loop);//timer phase ran_pending = uv__run_pending(loop);//IO callback pharse uv__run_idle(loop);//idle phase uv__run_prepare(loop);// prepare phase // main end timeout = 0; if ((mode == UV_RUN_ONCE &amp;&amp; !ran_pending) || mode == UV_RUN_DEFAULT) timeout = uv_backend_timeout(loop); uv__io_poll(loop, timeout);//poll phase uv__run_check(loop);//check phase uv__run_closing_handles(loop);//closing pharse if (mode == UV_RUN_ONCE) &#123; /* UV_RUN_ONCE implies forward progress: at least one callback must have * been invoked when it returns. uv__io_poll() can return without doing * I/O (meaning: no callbacks) when its timeout expires - which means we * have pending timers that satisfy the forward progress constraint. * * UV_RUN_NOWAIT makes no guarantees about progress so it&#x27;s omitted from * the check. */ // UV_RUN_ONCE è‡³å°‘æœ‰ä¸€ä¸ªå›è°ƒæ‰§è¡Œ,ä¸ç„¶è¯¥å¾ªç¯å°±ç©ºè½¬äº†ï¼Œæ»¡è¶³å‰è¿›è¦æ±‚ // è¿™ä¹Ÿæ˜¯[æ–‡ç« ](https://zehai.info/2020/04/10/2020-04-10-eventloop/)ä¸­å†™åˆ°ï¼š // pollä¸ºç©ºï¼Œeventloopå°†æ£€æŸ¥timeræ˜¯å¦æœ‰å¿«åˆ°çš„ï¼Œå¦‚æœéœ€è¦æ‰§è¡Œï¼Œeventloopå°†è¦è¿›å…¥timersé˜¶æ®µæ¥é¡ºåºæ‰§è¡Œtimer callback uv__update_time(loop); uv__run_timers(loop); &#125; r = uv__loop_alive(loop); if (mode == UV_RUN_ONCE || mode == UV_RUN_NOWAIT) break; &#125; /* The if statement lets gcc compile it to a conditional store. Avoids * dirtying a cache line. */ if (loop-&gt;stop_flag != 0) loop-&gt;stop_flag = 0; return r;&#125; timers phaseæ‰§è¡ŒsetTimeout() å’Œ setInterval()ä¸­åˆ°æœŸçš„callback 123456789101112131415161718192021void uv__run_timers(uv_loop_t* loop) &#123; struct heap_node* heap_node; uv_timer_t* handle; for (;;) &#123; heap_node = heap_min(timer_heap(loop)); if (heap_node == NULL) break; // å–å‡ºå †ä¸­æœ€å¿«è¦è¢«æ‰§è¡Œçš„timer // #define container_of(ptr, type, member) // ((type *) ((char *) (ptr) - offsetof(type, member))) // æ²¡çœ‹æ‡‚ handleæ˜¯æ€ä¹ˆç”Ÿæˆçš„ handle = container_of(heap_node, uv_timer_t, heap_node); if (handle-&gt;timeout &gt; loop-&gt;time)//æ‰§è¡Œæ—¶é—´å¤§äºeventloopå¾ªç¯ä¸€æ¬¡æ—¶é—´ï¼Œé€€å‡ºphaseä¸‹æ¬¡å†è¯´ break; uv_timer_stop(handle);// remove handle uv_timer_again(handle);// å¤šæ¬¡é‡å¤çš„timerå†å¡è¿›å» handle-&gt;timer_cb(handle);// invoke callback &#125;&#125; I/O callbacksä¸Šä¸€è½®å¾ªç¯ä¸­æœ‰å°‘æ•°çš„I/Ocallbackä¼šè¢«å»¶è¿Ÿåˆ°è¿™ä¸€è½®çš„è¿™ä¸€é˜¶æ®µæ‰§è¡Œ 123456789101112131415161718192021//deps/uv/src/unix/core.cstatic int uv__run_pending(uv_loop_t* loop) &#123; QUEUE* q; QUEUE pq; uv__io_t* w; if (QUEUE_EMPTY(&amp;loop-&gt;pending_queue))//isEmpty return 0; QUEUE_MOVE(&amp;loop-&gt;pending_queue, &amp;pq);//move while (!QUEUE_EMPTY(&amp;pq)) &#123; q = QUEUE_HEAD(&amp;pq);//find QUEUE_REMOVE(q);//pop QUEUE_INIT(q); w = QUEUE_DATA(q, uv__io_t, pending_queue); w-&gt;cb(loop, w, POLLOUT);//unitl queue empty &#125; return 1;&#125; Idle and prepare phase/ loop / void uv__run_idle(uv_loop_t* loop); void uv__run_check(uv_loop_t* loop); void uv__run_prepare(uv_loop_t* loop); 12345678910111213void uv__run_##name(uv_loop_t* loop) &#123; uv_##name##_t* h; QUEUE queue; QUEUE* q; QUEUE_MOVE(&amp;loop-&gt;name##_handles, &amp;queue);//QUEUE_MOVE while (!QUEUE_EMPTY(&amp;queue)) &#123;//util empty q = QUEUE_HEAD(&amp;queue);//pop h = QUEUE_DATA(q, uv_##name##_t, queue);//element-&gt;handle QUEUE_REMOVE(q);//remove QUEUE_INSERT_TAIL(&amp;loop-&gt;name##_handles, q);//insert tail h-&gt;name##_cb(h);//callback &#125;&#125; !!!poll phase!!!æœ€ä¸ºé‡è¦çš„é˜¶æ®µï¼Œæ‰§è¡ŒI/O callbackï¼Œåœ¨é€‚å½“çš„æ¡ä»¶ä¸‹ä¼šé˜»å¡åœ¨è¿™ä¸ªé˜¶æ®µ å¯è§pollé˜¶æ®µçš„ä»»åŠ¡å°±æ˜¯é˜»å¡ç­‰å¾…ç›‘å¬çš„äº‹ä»¶æ¥ä¸´ï¼Œç„¶åæ‰§è¡Œå¯¹åº”çš„callbackï¼Œå…¶ä¸­é˜»å¡æ˜¯å¸¦æœ‰è¶…æ—¶æ—¶é—´çš„ï¼Œä»¥ä¸‹å‡ ç§æƒ…å†µéƒ½ä¼šä½¿å¾—è¶…æ—¶æ—¶é—´ä¸º0 uv_runå¤„äºUV_RUN_NOWAITæ¨¡å¼ä¸‹ uv_stop()è¢«è°ƒç”¨ æ²¡æœ‰æ´»è·ƒçš„handleså’Œrequest æœ‰æ´»è·ƒçš„idle handles æœ‰ç­‰å¾…å…³é—­çš„handles å¦‚æœä¸Šè¿°éƒ½ä¸ç¬¦åˆï¼Œåˆ™è¶…æ—¶æ—¶é—´ä¸ºè·ç¦»ç°åœ¨æœ€è¿‘çš„timerï¼›å¦‚æœæ²¡æœ‰timeråˆ™pollé˜¶æ®µä¼šä¸€ç›´é˜»å¡ä¸‹å» ä¸ªäººç†è§£nodejsçš„æœåŠ¡ï¼Œå¤§éƒ¨åˆ†æ—¶é—´ä¼šè¢«é˜»å¡åœ¨è¿™ä¸ªé˜¶æ®µï¼Œè€Œä¸å»æ‰§è¡Œclosing 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195// ä¸è¡Œäº†ï¼Œçœ‹ä¸æ‡‚äº†void uv__io_poll(uv_loop_t* loop, int timeout) &#123; struct pollfd events[1024]; struct pollfd pqry; struct pollfd* pe; struct poll_ctl pc; QUEUE* q; uv__io_t* w; uint64_t base; uint64_t diff; int have_signals; int nevents; int count; int nfds; int i; int rc; int add_failed; if (loop-&gt;nfds == 0) &#123; assert(QUEUE_EMPTY(&amp;loop-&gt;watcher_queue)); return; &#125; while (!QUEUE_EMPTY(&amp;loop-&gt;watcher_queue)) &#123;//until watcher queue empty q = QUEUE_HEAD(&amp;loop-&gt;watcher_queue); QUEUE_REMOVE(q); QUEUE_INIT(q); w = QUEUE_DATA(q, uv__io_t, watcher_queue); assert(w-&gt;pevents != 0); assert(w-&gt;fd &gt;= 0); assert(w-&gt;fd &lt; (int) loop-&gt;nwatchers); pc.events = w-&gt;pevents; pc.fd = w-&gt;fd; add_failed = 0; if (w-&gt;events == 0) &#123; pc.cmd = PS_ADD; if (pollset_ctl(loop-&gt;backend_fd, &amp;pc, 1)) &#123; if (errno != EINVAL) &#123; assert(0 &amp;&amp; &quot;Failed to add file descriptor (pc.fd) to pollset&quot;); abort(); &#125; /* Check if the fd is already in the pollset */ pqry.fd = pc.fd; rc = pollset_query(loop-&gt;backend_fd, &amp;pqry); switch (rc) &#123; case -1: assert(0 &amp;&amp; &quot;Failed to query pollset for file descriptor&quot;); abort(); case 0: assert(0 &amp;&amp; &quot;Pollset does not contain file descriptor&quot;); abort(); &#125; /* If we got here then the pollset already contained the file descriptor even though * we didn&#x27;t think it should. This probably shouldn&#x27;t happen, but we can continue. */ add_failed = 1; &#125; &#125; if (w-&gt;events != 0 || add_failed) &#123; /* Modify, potentially removing events -- need to delete then add. * Could maybe mod if we knew for sure no events are removed, but * content of w-&gt;events is handled above as not reliable (falls back) * so may require a pollset_query() which would have to be pretty cheap * compared to a PS_DELETE to be worth optimizing. Alternatively, could * lazily remove events, squelching them in the mean time. */ pc.cmd = PS_DELETE; if (pollset_ctl(loop-&gt;backend_fd, &amp;pc, 1)) &#123; assert(0 &amp;&amp; &quot;Failed to delete file descriptor (pc.fd) from pollset&quot;); abort(); &#125; pc.cmd = PS_ADD; if (pollset_ctl(loop-&gt;backend_fd, &amp;pc, 1)) &#123; assert(0 &amp;&amp; &quot;Failed to add file descriptor (pc.fd) to pollset&quot;); abort(); &#125; &#125; w-&gt;events = w-&gt;pevents; &#125; assert(timeout &gt;= -1); base = loop-&gt;time; count = 48; /* Benchmarks suggest this gives the best throughput. */ for (;;) &#123; nfds = pollset_poll(loop-&gt;backend_fd, events, ARRAY_SIZE(events), timeout); /* Update loop-&gt;time unconditionally. It&#x27;s tempting to skip the update when * timeout == 0 (i.e. non-blocking poll) but there is no guarantee that the * operating system didn&#x27;t reschedule our process while in the syscall. */ SAVE_ERRNO(uv__update_time(loop)); if (nfds == 0) &#123; assert(timeout != -1); return; &#125; if (nfds == -1) &#123; if (errno != EINTR) &#123; abort(); &#125; if (timeout == -1) continue; if (timeout == 0) return; /* Interrupted by a signal. Update timeout and poll again. */ goto update_timeout; &#125; have_signals = 0; nevents = 0; assert(loop-&gt;watchers != NULL); loop-&gt;watchers[loop-&gt;nwatchers] = (void*) events; loop-&gt;watchers[loop-&gt;nwatchers + 1] = (void*) (uintptr_t) nfds; for (i = 0; i &lt; nfds; i++) &#123; pe = events + i; pc.cmd = PS_DELETE; pc.fd = pe-&gt;fd; /* Skip invalidated events, see uv__platform_invalidate_fd */ if (pc.fd == -1) continue; assert(pc.fd &gt;= 0); assert((unsigned) pc.fd &lt; loop-&gt;nwatchers); w = loop-&gt;watchers[pc.fd]; if (w == NULL) &#123; /* File descriptor that we&#x27;ve stopped watching, disarm it. * * Ignore all errors because we may be racing with another thread * when the file descriptor is closed. */ pollset_ctl(loop-&gt;backend_fd, &amp;pc, 1); continue; &#125; /* Run signal watchers last. This also affects child process watchers * because those are implemented in terms of signal watchers. */ if (w == &amp;loop-&gt;signal_io_watcher) have_signals = 1; else w-&gt;cb(loop, w, pe-&gt;revents); nevents++; &#125; if (have_signals != 0) loop-&gt;signal_io_watcher.cb(loop, &amp;loop-&gt;signal_io_watcher, POLLIN); loop-&gt;watchers[loop-&gt;nwatchers] = NULL; loop-&gt;watchers[loop-&gt;nwatchers + 1] = NULL; if (have_signals != 0) return; /* Event loop should cycle now so don&#x27;t poll again. */ if (nevents != 0) &#123; if (nfds == ARRAY_SIZE(events) &amp;&amp; --count != 0) &#123; /* Poll for more events but don&#x27;t block this time. */ timeout = 0; continue; &#125; return; &#125; if (timeout == 0) return; if (timeout == -1) continue;update_timeout: assert(timeout &gt; 0); diff = loop-&gt;time - base; if (diff &gt;= (uint64_t) timeout) return; timeout -= diff; &#125;&#125; check phaseè§idle prepare closeå…³é—­handle 12345678910111213static void uv__run_closing_handles(uv_loop_t* loop) &#123; uv_handle_t* p; uv_handle_t* q; p = loop-&gt;closing_handles; loop-&gt;closing_handles = NULL; while (p) &#123; q = p-&gt;next_closing; uv__finish_close(p); p = q; &#125;&#125; where is process.nextTick12345678910111213141516171819202122232425262728293031323334353637383940//lib/internal/process/task_queues.js// `nextTick()` will not enqueue any callback when the process is about to// exit since the callback would not have a chance to be executed.// æ„æ€å°±æ˜¯nextTickåœ¨è¿›ç¨‹å¿«è¦ç»“æŸæ—¶ä¸ä¼šæ’é˜Ÿcallback,å› ä¸ºæ²¡æœ‰æœºä¼šæ‰§è¡Œ// ä½ ä»¬çœ‹å¼•ç”¨çš„æ–‡æ¡£å§ï¼Œæˆ‘çœ‹ä¸ä¸‹å»äº†ğŸ˜­// ä¸»è¦çš„æ€è·¯æ˜¯JSæ‰§è¡Œprocess.nexTick()ï¼Œç„¶åå°†callbackäº¤ç»™c++æ‰§è¡Œfunction nextTick(callback) &#123; if (typeof callback !== &#x27;function&#x27;) throw new ERR_INVALID_CALLBACK(callback); if (process._exiting) return; let args; switch (arguments.length) &#123; case 1: break; case 2: args = [arguments[1]]; break; case 3: args = [arguments[1], arguments[2]]; break; case 4: args = [arguments[1], arguments[2], arguments[3]]; break; default: args = new Array(arguments.length - 1); for (let i = 1; i &lt; arguments.length; i++) args[i - 1] = arguments[i]; &#125; if (queue.isEmpty()) setHasTickScheduled(true); const asyncId = newAsyncId(); const triggerAsyncId = getDefaultTriggerAsyncId(); const tickObject = &#123; [async_id_symbol]: asyncId, [trigger_async_id_symbol]: triggerAsyncId, callback, args &#125;; if (initHooksExist()) emitInit(asyncId, &#x27;TickObject&#x27;, triggerAsyncId, tickObject); queue.push(tickObject);//å°è£…callback push //è¿›å…¥c&#125; question1.setTimeout vs setImmediate phaseæ‰§è¡Œé¡ºåº expireè®¾ç½®0æ˜¯ä¸æ˜¯ç«‹åˆ»æ‰§è¡Œ 1234567setTimeout(() =&gt; &#123; console.log(&#x27;setTimeout&#x27;)&#125;, 0)setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate&#x27;)&#125;) setTimeout/setInterval çš„ç¬¬äºŒä¸ªå‚æ•°å–å€¼èŒƒå›´æ˜¯ï¼š[1, 2^31 - 1]ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªèŒƒå›´åˆ™ä¼šåˆå§‹åŒ–ä¸º 1ï¼Œå³ setTimeout(fn, 0) === setTimeout(fn, 1)ã€‚ setTimeout çš„å›è°ƒå‡½æ•°åœ¨ timer é˜¶æ®µæ‰§è¡Œï¼ŒsetImmediate çš„å›è°ƒå‡½æ•°åœ¨ check é˜¶æ®µæ‰§è¡Œï¼Œevent loop çš„å¼€å§‹ä¼šå…ˆæ£€æŸ¥ timer é˜¶æ®µï¼Œä½†æ˜¯åœ¨å¼€å§‹ä¹‹å‰åˆ° timer é˜¶æ®µä¼šæ¶ˆè€—ä¸€å®šæ—¶é—´ï¼Œæ‰€ä»¥å°±ä¼šå‡ºç°ä¸¤ç§æƒ…å†µï¼š timer å‰çš„å‡†å¤‡æ—¶é—´è¶…è¿‡ 1msï¼Œæ»¡è¶³ loop-&gt;time &gt;= 1ï¼Œåˆ™æ‰§è¡Œ timer é˜¶æ®µï¼ˆsetTimeoutï¼‰çš„å›è°ƒå‡½æ•° timer å‰çš„å‡†å¤‡æ—¶é—´å°äº 1msï¼Œåˆ™å…ˆæ‰§è¡Œ check é˜¶æ®µï¼ˆsetImmediateï¼‰çš„å›è°ƒå‡½æ•°ï¼Œä¸‹ä¸€æ¬¡ event loop æ‰§è¡Œ timer é˜¶æ®µï¼ˆsetTimeoutï¼‰çš„å›è°ƒå‡½æ•° åœ¨ä¸¾ä¾‹ï¼š 12345678910setTimeout(() =&gt; &#123; console.log(&#x27;setTimeout&#x27;)&#125;, 0)setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate&#x27;)&#125;)const start = Date.now()while (Date.now() - start &lt; 10);//å‡†å¤‡æ—¶é—´è¶…è¿‡1msï¼Œåˆ™ç›´æ¥æ‰§è¡Œtimer 2.setTimeout vs setImmediate 212345678910111213const fs = require(&#x27;fs&#x27;)fs.readFile(__filename, () =&gt; &#123; setTimeout(() =&gt; &#123; console.log(&#x27;setTimeout&#x27;) &#125;, 0) setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate&#x27;) &#125;)&#125;)//setImmediate//setTimeout åœ¨å¼•ç”¨ä¸€ä¸‹å®˜æ–¹å¯¹äºcheck phaseçš„ä»‹ç» This phase allows a person to execute callbacks immediately after the poll phase has completed. If the poll phase becomes idle and scripts have been queued with setImmediate(), the event loop may continue to the check phase rather than waiting. setImmediate() is actually a special timer that runs in a separate phase of the event loop. It uses a libuv API that schedules callbacks to execute after the poll phase has completed. Generally, as the code is executed, the event loop will eventually hit the poll phase where it will wait for an incoming connection, request, etc. However, if a callback has been scheduled with setImmediate() and the poll phase becomes idle, it will end and continue to the check phase rather than waiting for poll events. fs.readFile çš„å›è°ƒå‡½æ•°æ‰§è¡Œå®Œåï¼š æ³¨å†Œ setTimeout çš„å›è°ƒå‡½æ•°åˆ° timer é˜¶æ®µ æ³¨å†Œ setImmediate çš„å›è°ƒå‡½æ•°åˆ° check é˜¶æ®µ event loop ä» pool é˜¶æ®µå‡ºæ¥ç»§ç»­å¾€ä¸‹ä¸€ä¸ªé˜¶æ®µæ‰§è¡Œï¼Œæ°å¥½æ˜¯ check é˜¶æ®µï¼Œæ‰€ä»¥ setImmediate çš„å›è°ƒå‡½æ•°å…ˆæ‰§è¡Œ æœ¬æ¬¡ event loop ç»“æŸåï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡ event loopï¼Œæ‰§è¡Œ setTimeout çš„å›è°ƒå‡½æ•° æ‰€ä»¥ï¼Œåœ¨ I/O Callbacks ä¸­æ³¨å†Œçš„ setTimeout å’Œ setImmediateï¼Œæ°¸è¿œéƒ½æ˜¯ setImmediate å…ˆæ‰§è¡Œã€‚ 3.process.nextTick()123456789101112setInterval(() =&gt; &#123; console.log(&#x27;setInterval&#x27;)&#125;, 100)process.nextTick(function tick () &#123; process.nextTick(tick)&#125;)//notesetImmediate(function immediate () &#123; console.log(&#x27;111&#x27;);//ä¼šç›´æ¥æ‰“å°å‡ºå¾ˆå¤šæ¬¡111 setImmediate(immediate)&#125;) è¿è¡Œç»“æœï¼šsetInterval æ°¸è¿œä¸ä¼šæ‰“å°å‡ºæ¥ã€‚ //è¿™ä¸ªåœ¨nodeå®˜æ–¹æ–‡æ¡£ä¹Ÿæœ‰ç›¸å…³çš„æè¿° //æˆ‘åœ¨è¿™é‡Œä¹Ÿè¿›è¡Œäº†ç¬”è®°è®°å½• //å…è®¸ç”¨æˆ·å¤„ç†errorsï¼Œæ¸…ç†ä¸éœ€è¦çš„èµ„æºï¼Œäº‹ä»¶å¾ªç¯å‰ å°è¯•é‡æ–°è¿æ¥ //æœ‰æ—¶æœ‰å¿…è¦åœ¨eventloopç»§ç»­ä¹‹å‰ï¼Œåœ¨call stack unwoundä¹‹åï¼Œè®©callbackæ‰§è¡Œ è§£é‡Šï¼šprocess.nextTick ä¼šæ— é™å¾ªç¯ï¼Œå°† event loop é˜»å¡åœ¨ microtask é˜¶æ®µï¼Œå¯¼è‡´ event loop ä¸Šå…¶ä»– macrotask é˜¶æ®µçš„å›è°ƒå‡½æ•°æ²¡æœ‰æœºä¼šæ‰§è¡Œã€‚//è¿™æ®µè§£é‡Šæ˜¯å‰ç«¯çš„ï¼Œåç«¯æ˜¯æ²¡æœ‰microtaskçš„å®é™…é˜Ÿåˆ—çš„ è§£å†³æ–¹æ³•é€šå¸¸æ˜¯ç”¨ setImmediate æ›¿ä»£ process.nextTickï¼Œå¦‚ä¸‹ï¼š 1234567setInterval(() =&gt; &#123; console.log(&#x27;setInterval&#x27;)&#125;, 100)setImmediate(function immediate () &#123; setImmediate(immediate)&#125;) è¿è¡Œç»“æœï¼šæ¯ 100ms æ‰“å°ä¸€æ¬¡ setIntervalã€‚ è§£é‡Šï¼šprocess.nextTick å†…æ‰§è¡Œ process.nextTick ä»ç„¶å°† tick å‡½æ•°æ³¨å†Œåˆ°å½“å‰ microtask çš„å°¾éƒ¨ï¼Œæ‰€ä»¥å¯¼è‡´ microtask æ°¸è¿œæ‰§è¡Œä¸å®Œï¼› setImmediate å†…æ‰§è¡Œ setImmediate ä¼šå°† immediate å‡½æ•°æ³¨å†Œåˆ°ä¸‹ä¸€æ¬¡ event loop çš„ check é˜¶æ®µï¼Œè€Œä¸æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„ check é˜¶æ®µï¼Œæ‰€ä»¥ç»™äº† event loop ä¸Šå…¶ä»– macrotask æ‰§è¡Œçš„æœºä¼šã€‚ å†çœ‹ä¸ªä¾‹å­ï¼š 12345678910111213setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate1&#x27;) setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate2&#x27;) &#125;) process.nextTick(() =&gt; &#123; console.log(&#x27;nextTick&#x27;) &#125;)&#125;)setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate3&#x27;)&#125;) è¿è¡Œç»“æœï¼š 1234setImmediate1setImmediate3nextTicksetImmediate2 æ³¨æ„ï¼šå¹¶ä¸æ˜¯è¯´ setImmediate å¯ä»¥å®Œå…¨æ›¿ä»£ process.nextTickï¼Œprocess.nextTick åœ¨ç‰¹å®šåœºæ™¯ä¸‹è¿˜æ˜¯æ— æ³•è¢«æ›¿ä»£çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å°±æƒ³å°†ä¸€äº›æ“ä½œæ”¾åˆ°æœ€è¿‘çš„ microtask é‡Œæ‰§è¡Œã€‚ 4.promise12345const promise = Promise.resolve() .then(() =&gt; &#123; return promise &#125;)promise.catch(console.error) è¿è¡Œç»“æœï¼š 123456TypeError: Chaining cycle detected for promise #&lt;Promise&gt; at &lt;anonymous&gt; at process._tickCallback (internal/process/next_tick.js:188:7) at Function.Module.runMain (module.js:667:11) at startup (bootstrap_node.js:187:16) at bootstrap_node.js:607:3 è§£é‡Šï¼špromise.then ç±»ä¼¼äº process.nextTickï¼Œéƒ½ä¼šå°†å›è°ƒå‡½æ•°æ³¨å†Œåˆ° microtask é˜¶æ®µã€‚ä¸Šé¢ä»£ç ä¼šå¯¼è‡´æ­»å¾ªç¯ï¼Œç±»ä¼¼å‰é¢æåˆ°çš„ï¼š 123process.nextTick(function tick () &#123; process.nextTick(tick)&#125;) å†çœ‹ä¸ªä¾‹å­ï¼š 123456789const promise = Promise.resolve()promise.then(() =&gt; &#123; console.log(&#x27;promise&#x27;)&#125;)process.nextTick(() =&gt; &#123; console.log(&#x27;nextTick&#x27;)&#125;) è¿è¡Œç»“æœï¼š 12nextTickpromise è§£é‡Šï¼špromise.then è™½ç„¶å’Œ process.nextTick ä¸€æ ·ï¼Œéƒ½å°†å›è°ƒå‡½æ•°æ³¨å†Œåˆ° microtaskï¼Œä½†ä¼˜å…ˆçº§ä¸ä¸€æ ·ã€‚process.nextTick çš„ microtask queue æ€»æ˜¯ä¼˜å…ˆäº promise çš„ microtask queue æ‰§è¡Œã€‚ 5.promiseæ‰§è¡Œé¡ºåº1234567891011121314setTimeout(() =&gt; &#123; console.log(1)&#125;, 0)new Promise((resolve, reject) =&gt; &#123; console.log(2) for (let i = 0; i &lt; 10000; i++) &#123; i === 9999 &amp;&amp; resolve() &#125; console.log(3)&#125;).then(() =&gt; &#123; console.log(4)&#125;)console.log(5) è¿è¡Œç»“æœï¼š 1234523541 è§£é‡Šï¼šPromise æ„é€ å‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥å…ˆæ‰“å° 2ã€3ï¼Œç„¶åæ‰“å° 5ï¼Œæ¥ä¸‹æ¥ event loop è¿›å…¥æ‰§è¡Œ microtask é˜¶æ®µï¼Œæ‰§è¡Œ promise.then çš„å›è°ƒå‡½æ•°æ‰“å°å‡º 4ï¼Œç„¶åæ‰§è¡Œä¸‹ä¸€ä¸ª macrotaskï¼Œæ°å¥½æ˜¯ timer é˜¶æ®µçš„ setTimeout çš„å›è°ƒå‡½æ•°ï¼Œæ‰“å°å‡º 1ã€‚ 6.ç»¼åˆ12345678910111213141516171819202122232425setImmediate(() =&gt; &#123; console.log(1) setTimeout(() =&gt; &#123; console.log(2) &#125;, 100) setImmediate(() =&gt; &#123; console.log(3) &#125;) process.nextTick(() =&gt; &#123; console.log(4) &#125;)&#125;)process.nextTick(() =&gt; &#123; console.log(5) setTimeout(() =&gt; &#123; console.log(6) &#125;, 100) setImmediate(() =&gt; &#123; console.log(7) &#125;) process.nextTick(() =&gt; &#123; console.log(8) &#125;)&#125;)console.log(9) è¿è¡Œç»“æœï¼š 123456789958174362 process.nextTickã€setTimeout å’Œ setImmediate çš„ç»„åˆï¼Œè¯·è¯»è€…è‡ªå·±æ¨ç†å§ã€‚ other source codesetTimeout()12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849//lib/timers/promises.js//setTimeout(function()&#123;&#125;,expire)function setTimeout(after, value, options = &#123;&#125;) &#123; const args = value !== undefined ? [value] : value; if (options == null || typeof options !== &#x27;object&#x27;) &#123; return PromiseReject( new ERR_INVALID_ARG_TYPE( &#x27;options&#x27;, &#x27;Object&#x27;, options)); &#125; const &#123; signal, ref = true &#125; = options; if (signal !== undefined &amp;&amp; (signal === null || typeof signal !== &#x27;object&#x27; || !(&#x27;aborted&#x27; in signal))) &#123; return PromiseReject( new ERR_INVALID_ARG_TYPE( &#x27;options.signal&#x27;, &#x27;AbortSignal&#x27;, signal)); &#125; if (typeof ref !== &#x27;boolean&#x27;) &#123; return PromiseReject( new ERR_INVALID_ARG_TYPE( &#x27;options.ref&#x27;, &#x27;boolean&#x27;, ref)); &#125; // TODO(@jasnell): If a decision is made that this cannot be backported // to 12.x, then this can be converted to use optional chaining to // simplify the check. if (signal &amp;&amp; signal.aborted) return PromiseReject(lazyDOMException(&#x27;AbortError&#x27;)); return new Promise((resolve, reject) =&gt; &#123; const timeout = new Timeout(resolve, after, args, false, true); if (!ref) timeout.unref(); insert(timeout, timeout._idleTimeout); if (signal) &#123; signal.addEventListener(&#x27;abort&#x27;, () =&gt; &#123; if (!timeout._destroyed) &#123; // eslint-disable-next-line no-undef clearTimeout(timeout); reject(lazyDOMException(&#x27;AbortError&#x27;)); &#125; &#125;, &#123; once: true &#125;); &#125; &#125;);&#125;","raw":null,"content":null,"categories":[{"name":"Node","slug":"Node","permalink":"http://zehai.info/categories/Node/"}],"tags":[{"name":"source","slug":"source","permalink":"http://zehai.info/tags/source/"}]},{"title":"ç®—æ³•å›¾è§£","slug":"2020-06-08-ç®—æ³•å›¾è§£","date":"2020-06-08T03:34:04.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/06/08/2020-06-08-ç®—æ³•å›¾è§£/","link":"","permalink":"http://zehai.info/2020/06/08/2020-06-08-%E7%AE%97%E6%B3%95%E5%9B%BE%E8%A7%A3/","excerpt":"","text":"1. ç®—æ³•ç®€ä»‹1.1 äºŒåˆ†Why: å¤æ‚åº¦O(n)â€”&gt;O(logn) ä½¿ç”¨é™åˆ¶ï¼šæœ‰åºæ•°ç»„ 1.2 å¤§Oè¡¨ç¤ºæŒ‡å‡ºç®—æ³•è¿è¡Œæ—¶é—´çš„å¢é€Ÿï¼Œç®—æ³•éœ€è¦åšçš„å°±æ˜¯æŠŠO(n^2)ä¼˜åŒ–åˆ°O(n)ç­‰ 2. é€‰æ‹©æ’åº2.1 æ•°ç»„ é“¾è¡¨æ•°ç»„ï¼šè¿ç»­ç‰©ç†ç©ºé—´ï¼Œå¯éšæœºè®¿é—®ï¼Œå¢åˆ æ•°æ®å¤æ‚åº¦é«˜ é“¾è¡¨ï¼šåˆ†æ•£æ— åŠ›ç©ºé—´ï¼Œä¸å¯éšæœºè®¿é—®ï¼ˆåªèƒ½é¡ºåºï¼‰ï¼Œå¢åˆ æ•°æ®å¤æ‚åº¦ä½ æ•°ç»„ é“¾è¡¨ è¯»æ”¹ O(1) O(n) å¢åˆ  O(n) O(1) æ ¹æ®äº’ç›¸ç‰¹æ€§ï¼Œé€‰æ‹©åˆé€‚çš„æ–¹å¼ï¼Œå¦‚é¢‘ç¹å¢åˆ ç”¨é“¾è¡¨ï¼Œåä¹‹ç”¨æ•°ç»„ 2.2 é€‰æ‹©æ’åºå¤æ‚åº¦ï¼šO(n^2) éå†n ä¸ªå…ƒç´ é€‰æ‹© æœ€å°/å¤§çš„ï¼Œéå†n-1ä¸ªå…ƒç´ é€‰æ‹© æœ€å°/å¤§çš„ 3. é€’å½’ç±»æ¯”ï¼šå¥—å¨ƒ :call_me_hand: æ€§èƒ½å’Œæ˜“è¯»ä¸å¯å…¼å¾— é¿å…æ­»å¾ªç¯ï¼ å°¾é€’å½’å¯ä»¥è§£å†³éƒ¨åˆ†æ€§èƒ½é—®é¢˜ é€’å½’è°ƒç”¨æ ˆæ˜¯æ€§èƒ½é™ä½çš„åŸå› ï¼Œéµå¾ªFIFO 4. å¿«æ’æ ¸å¿ƒï¼šåˆ†è€Œæ²»ä¹‹divide and conquerï¼Œå¿«æ’åªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªåº”ç”¨ æ€æƒ³ï¼šé€’å½’çš„ä¸€ç§åº”ç”¨ å¿«æ’ï¼ˆé€’å½’ï¼‰æ˜¯ä¸€ç§å‡½æ•°å¼ç¼–ç¨‹ å¿«æ’é€šè¿‡åŸºå‡†å€¼ï¼ˆå¯ä»¥é€‰ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰è¿›è¡Œåˆ†è€Œæ²»ä¹‹ 5. æ•£åˆ—è¡¨å®ç°æ–¹å¼ï¼šæ•°ç»„ï¼Œéé“¾è¡¨ï¼Œæ£€ç´¢å€¼keyç±»ä¼¼æ•°ç»„çš„ä¸‹è¡¨ï¼Œå¯ç›´æ¥è®¿é—®value åº”ç”¨ï¼šDNSï¼Œé˜»æ­¢é‡å¤æ•°æ®(ç±»seté›†)ï¼Œä½œç¼“å­˜ï¼ˆæœåŠ¡å™¨ç«¯ï¼‰ å¤æ‚åº¦ æ•£åˆ—å¹³å‡ æ•£åˆ—æœ€ç³Ÿ æ•°ç»„ é“¾è¡¨ æŸ¥æ‰¾ 1 n 1 n æ’å…¥åˆ é™¤ 1 n n 1 è£…å¡«å› å­ï¼ˆ0.4ï¼‰=æ•£åˆ—å…ƒç´ ï¼ˆ4ï¼‰/ä½ç½®æ€»æ•°ï¼ˆ10ï¼‰ é¿å…å†²çªï¼š1.è‰¯å¥½çš„æ•£åˆ—å‡½æ•°ï¼ˆå‡åŒ€åˆ†å¸ƒï¼‰ 2.è¾ƒä½çš„è£…å¡«å› å­ï¼ˆ&lt;0.7ï¼‰ å°†æ»¡æ—¶å€™ï¼š1.ç”³è¯·ä¸¤å€äºåŸæ¥çš„ æ–°ç©ºé—´ 2.hashæ‰€æœ‰å…ƒç´ åˆ°æ–°ç©ºé—´ å†²çªè§£å†³ï¼š å¼€æ”¾åœ°å€ï¼ˆæœ€ç®€å•å°±æ˜¯å†²çªé¡ºå»¶ä¸‹ä¸€ä½ï¼Œç›´åˆ°ä¸ºç©ºï¼‰ æ‹‰é“¾å‘ï¼ˆæŒ‡åœ¨æŸä¸ªä½å­ä¸Šå†æ‹‰ä¸€æ¡é“¾è¡¨ï¼ŒéğŸ‘–æ‹‰é“¾ï¼‰ 6.BFSå¹¿åº¦ä¼˜å…ˆæœç´¢breadth first searchï¼Œè§£å†³æ— åŠ æƒæœ€çŸ­è·¯å¾„é—®é¢˜ä¹‹ä¸€ åº”ç”¨ï¼šå›½é™…è·³æ£‹ï¼Œæ‹¼å†™æ£€æŸ¥ï¼Œäººé™…å…³ç³»ç½‘ç»œ 7. Dijkstraæ­£åŠ æƒæœ‰å‘æ— ç¯å›¾çš„è§£å†³ç®—æ³• æœ€çŸ­æ—¶é—´å†…åˆ°è¾¾çš„èŠ‚ç‚¹ æ›´æ–°è¯¥èŠ‚ç‚¹ä¸´æ¥èŠ‚ç‚¹çš„å¼€é”€ é‡å¤ è®¡ç®—æœ€ç»ˆè·¯å¾„ è§£å†³ç¯ï¼š è´ŸåŠ æƒï¼šbellman ford algorithm 8. Greedyæ¯æ­¥æœ€ä¼˜â€“&gt;å…¨å±€æœ€ä¼˜ï¼Œå¾—åˆ°è¿‘ä¼¼æ­£ç¡®çš„ç»“æœ 9.DPåˆ—å‡ºæ‰€æœ‰å¯èƒ½ 10. Kæœ€é‚»è¿‘ç®—æ³•11.nextæ ‘è§£å†³äº†äºŒåˆ†æŸ¥æ‰¾ä¸­ï¼Œæ’å…¥åˆ é™¤O(n)é™ä½åˆ°O(log n)ï¼Œä½†æ˜¯é™ä½äº†éšæœºè®¿é—®èƒ½åŠ› æ ‘åŒ…æ‹¬ï¼šäºŒå‰æ ‘ï¼Œå¹³è¡¡äºŒå‰æ ‘ï¼ŒBæ ‘ B+æ ‘ï¼Œï¼Œçº¢é»‘æ ‘ åå‘ç´¢å¼•ï¼šæ•£åˆ—è¡¨ï¼Œç”¨äºåˆ›å»ºæœç´¢å¼•æ“â€”&gt;åº”ç”¨ï¼šå‚…é‡Œå¶å˜æ¢ å¹¶è¡Œç®—æ³•ï¼Œå•æœºå¹¶è¡Œoråˆ†å¸ƒå¼ï¼Œåº”ç”¨ï¼šmapreduceï¼Œmap-&gt;æ˜ å°„ ï¼Œreduce-&gt;å½’å¹¶ å¸ƒéš†è¿‡æ»¤å™¨ï¼šåºå¤§çš„æ•£åˆ—è¡¨ï¼ˆå¦‚è°·æ­Œçš„ä¸Šäº¿æ¡ï¼‰ï¼Œé€šå¸¸ä½¿ç”¨rediså®ç°ï¼Œæ˜¯ä¸€ç§æ¦‚ç‡å‹æ•°æ®ç»“æ„ï¼ˆå¶å°”å‡ºé”™ï¼‰ï¼Œä½¿ç”¨ç†ç”±ï¼Œå­˜å‚¨ç©ºé—´å°‘ hyperLogLogï¼šç±»ä¼¼å¸ƒéš†ï¼Œæ˜¯ä¸ªæ—¥å¿— SHAç®—æ³• æ•£åˆ—çš„ä¸€ç§åº”ç”¨ åˆ¤æ–­ä¸¤ä¸ªï¼ˆè¶…å¤§ï¼‰æ–‡ä»¶æ˜¯å¦ç›¸åŒï¼ˆæ•£åˆ—å€¼ç›¸åŒï¼‰ SHAï¼ˆç”¨æˆ·è¾“å…¥å¯†ç ï¼‰ï¼Ÿ== æ•°æ®åº“å­˜å‚¨çš„SHAå€¼ï¼Œä¸”æ‹–åº“åæ— æ³•è¿˜åŸå¯†ç  SHAæ˜¯ä¸€ç³»åˆ—ç®—æ³•çš„ç»Ÿç§°ï¼ŒåŒ…æ‹¬SHA-0 ,SHA-1 SHA-2 SHA-3 bcrypt etc SHAå…¨å±€æ•æ„Ÿï¼ˆæ”¹åŠ¨å±€éƒ¨ï¼Œæ•´ä½“å…¨å˜ï¼‰ï¼ŒSIMhashå±€éƒ¨æ•æ„Ÿï¼ˆå±€éƒ¨æ”¹å˜ï¼Œæ•£åˆ—å€¼å±€éƒ¨æ”¹å˜ï¼‰ï¼Œåè€…ç”¨äºåˆ¤æ–­ç½‘é¡µæ˜¯å¦å·²ç»æœé›†ï¼Œä½œä¸šæ˜¯å¦æŠ„è¢­ï¼Œç›¸ä¼¼åº¦æŸ¥è¯¢ diffie-hellmanå¯†é’¥äº¤æ¢ åŒæ–¹æ— éœ€çŸ¥é“åŠ å¯†ç®—æ³•ï¼Œç ´è§£éš¾åº¦å¤§ å…¬é’¥ä¸ç§é’¥ï¼Œclientè·å–å…¬é’¥åï¼Œ1.ä½¿ç”¨å…¬é’¥åŠ å¯† 2.æœåŠ¡å™¨ç«¯ä½¿ç”¨ç§é’¥è§£å¯† çº¿æ€§è§„åˆ’ï¼šsimplexç®—æ³•","raw":null,"content":null,"categories":[{"name":"Books","slug":"Books","permalink":"http://zehai.info/categories/Books/"}],"tags":[{"name":"ç®—æ³•å›¾è§£","slug":"ç®—æ³•å›¾è§£","permalink":"http://zehai.info/tags/%E7%AE%97%E6%B3%95%E5%9B%BE%E8%A7%A3/"}]},{"title":"2020-05-25-FirstUniqueCharacterInAString","slug":"2020-05-25-FirstUniqueCharacterInAString","date":"2020-05-30T13:15:37.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/05/30/2020-05-25-FirstUniqueCharacterInAString/","link":"","permalink":"http://zehai.info/2020/05/30/2020-05-25-FirstUniqueCharacterInAString/","excerpt":"","text":"Leetcode-6412345678910Given a string, find the first non-repeating character in it and return it&#39;s index. If it doesn&#39;t exist, return -1.Examples:s &#x3D; &quot;leetcode&quot;return 0.s &#x3D; &quot;loveleetcode&quot;,return 2.Note: You may assume the string contain only lowercase letters. solution12345678910111213141516&#x2F;** * @param &#123;string&#125; s * @return &#123;number&#125; *&#x2F;var firstUniqChar &#x3D; function(s) &#123; for(var i&#x3D;0;i&lt;s.length;i++)&#123; var flag &#x3D; false; for(var j&#x3D;0;j&lt;s.length;j++)&#123; if(i&#x3D;&#x3D;j)continue; if(s[i]&#x3D;&#x3D;s[j])flag&#x3D;true; &#125; if(!flag)return i; &#125; return -1;&#125;; 123456789101112131415161718class Solution &#123; public int firstUniqChar(String s) &#123; HashMap&lt;Character, Integer&gt; count &#x3D; new HashMap&lt;Character, Integer&gt;(); int n &#x3D; s.length(); &#x2F;&#x2F; build hash map : character and how often it appears for (int i &#x3D; 0; i &lt; n; i++) &#123; char c &#x3D; s.charAt(i); count.put(c, count.getOrDefault(c, 0) + 1); &#125; &#x2F;&#x2F; find the index for (int i &#x3D; 0; i &lt; n; i++) &#123; if (count.get(s.charAt(i)) &#x3D;&#x3D; 1) return i; &#125; return -1; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Easy","slug":"Easy","permalink":"http://zehai.info/tags/Easy/"}]},{"title":"monit","slug":"2020-05-13-ç›‘æ§è½¯ä»¶","date":"2020-05-13T08:18:55.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/05/13/2020-05-13-ç›‘æ§è½¯ä»¶/","link":"","permalink":"http://zehai.info/2020/05/13/2020-05-13-%E7%9B%91%E6%8E%A7%E8%BD%AF%E4%BB%B6/","excerpt":"","text":"ç›‘æ§ åç«¯prometheus vs zabbix å…ˆå¯¹ä¸¤è€…çš„å„è‡ªç‰¹ç‚¹è¿›è¡Œä¸€ä¸‹å¯¹æ¯”ï¼š Zabbix Prometheus åç«¯ç”¨ C å¼€å‘ï¼Œç•Œé¢ç”¨ PHP å¼€å‘ï¼Œå®šåˆ¶åŒ–éš¾åº¦å¾ˆé«˜ã€‚ åç«¯ç”¨ golang å¼€å‘ï¼Œå‰ç«¯æ˜¯ Grafanaï¼ŒJSON ç¼–è¾‘å³å¯è§£å†³ã€‚å®šåˆ¶åŒ–éš¾åº¦è¾ƒä½ã€‚ é›†ç¾¤è§„æ¨¡ä¸Šé™ä¸º 10000 ä¸ªèŠ‚ç‚¹ã€‚ æ”¯æŒæ›´å¤§çš„é›†ç¾¤è§„æ¨¡ï¼Œé€Ÿåº¦ä¹Ÿæ›´å¿«ã€‚ æ›´é€‚åˆç›‘æ§ç‰©ç†æœºç¯å¢ƒã€‚ æ›´é€‚åˆäº‘ç¯å¢ƒçš„ç›‘æ§ï¼Œå¯¹ OpenStackï¼ŒKubernetes æœ‰æ›´å¥½çš„é›†æˆã€‚ ç›‘æ§æ•°æ®å­˜å‚¨åœ¨å…³ç³»å‹æ•°æ®åº“å†…ï¼Œå¦‚ MySQLï¼Œå¾ˆéš¾ä»ç°æœ‰æ•°æ®ä¸­æ‰©å±•ç»´åº¦ã€‚ ç›‘æ§æ•°æ®å­˜å‚¨åœ¨åŸºäºæ—¶é—´åºåˆ—(TSDB)çš„æ•°æ®åº“å†…ï¼Œä¾¿äºå¯¹å·²æœ‰æ•°æ®è¿›è¡Œæ–°çš„èšåˆã€‚ å®‰è£…ç®€å•ï¼Œzabbix-server ä¸€ä¸ªè½¯ä»¶åŒ…ä¸­åŒ…æ‹¬äº†æ‰€æœ‰çš„æœåŠ¡ç«¯åŠŸèƒ½ã€‚ å®‰è£…ç›¸å¯¹å¤æ‚ï¼Œç›‘æ§ã€å‘Šè­¦å’Œç•Œé¢éƒ½åˆ†å±äºä¸åŒçš„ç»„ä»¶ã€‚ å›¾å½¢åŒ–ç•Œé¢æ¯”è¾ƒæˆç†Ÿï¼Œç•Œé¢ä¸ŠåŸºæœ¬ä¸Šèƒ½å®Œæˆå…¨éƒ¨çš„é…ç½®æ“ä½œã€‚ ç•Œé¢ç›¸å¯¹è¾ƒå¼±ï¼Œå¾ˆå¤šé…ç½®éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚ å‘å±•æ—¶é—´æ›´é•¿ï¼Œå¯¹äºå¾ˆå¤šç›‘æ§åœºæ™¯ï¼Œéƒ½æœ‰ç°æˆçš„è§£å†³æ–¹æ¡ˆã€‚ 2015 å¹´åå¼€å§‹å¿«é€Ÿå‘å±•ï¼Œä½†å‘å±•æ—¶é—´è¾ƒçŸ­ï¼Œæˆç†Ÿåº¦ä¸åŠ Zabbixã€‚ ç”±äºæœ€åæ•²å®šäº†Prometheusæ–¹æ¡ˆï¼Œå¯¹äºzabbixå°±äº‘è¯„æµ‹äº†ï¼Œæ¬¢è¿æŒ‡æ­£ è™½ç„¶å›¾å½¢åŒ–ç•Œé¢å¼±åŒ–ï¼Œå¾ˆå¤šé…ç½®èµ°ymlæ–‡ä»¶ï¼Œä½†å›¾å½¢åŒ–ç•Œé¢çœŸçš„æ²¡æœ‰å¿…è¦ æ—¶åºæ•°æ®åº“ï¼Œé«˜å¹¶å‘ä¸‹å¥½äºmysqlï¼ˆä¸ç„¶å¹²å˜›å¼€å‘tsdbåº”å¯¹ç›‘æ§åœºæ™¯ï¼‰ promæ”¯æŒpullå’Œpushæ¨¡å‹ï¼Œå¯ä»¥æ”¯æŒk8sï¼Œswarmç­‰æœåŠ¡å‘ç° å‰ç«¯Performanceï¼ŸwebVitalsï¼Ÿä»¥åç”¨åˆ°å†è¡¥å…… ä¸»è¦å…³æ³¨æ€§èƒ½ï¼Œpvï¼Œredirectï¼Œerrç­‰é—®é¢˜ é¡µé¢æ˜¯å¦å¯ç”¨é˜¿é‡Œäº‘-äº‘ç›‘æ§æ§åˆ¶å° å¯æä¾›ç½‘å€ç›‘æ§ï¼ŒåŒ…æ‹¬cookie, headers ç­‰è‡ªå®šä¹‰çš„ç®€å•é…ç½®ï¼Œè¿›è¡Œç”µè¯ï¼Œé‚®ä»¶ï¼ŒçŸ­ä¿¡ï¼Œæ—ºæ—ºç­‰æŠ¥è­¦","raw":null,"content":null,"categories":[{"name":"monit","slug":"monit","permalink":"http://zehai.info/categories/monit/"}],"tags":[{"name":"intro","slug":"intro","permalink":"http://zehai.info/tags/intro/"}]},{"title":"Node.JSv14","slug":"2020-04-22-Node14","date":"2020-04-22T02:37:29.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/04/22/2020-04-22-Node14/","link":"","permalink":"http://zehai.info/2020/04/22/2020-04-22-Node14/","excerpt":"","text":"newmodä»Šå¤©çœ‹åˆ°Node Currentæ›´æ–°äº†14çš„ç‰ˆæœ¬ï¼Œçœ‹çœ‹éƒ½æœ‰äº›ä»€ä¹ˆä¸œè¥¿ å‰ç½®äº†è§£äº†ä¸€ä¸‹docä¸­æåˆ°çš„semverï¼Œæ˜¯ä¸€ä¸ªè¯­ä¹‰åŒ–ç‰ˆæœ¬semantic versioningï¼Œå®ç°ç‰ˆæœ¬å’Œç‰ˆæœ¬è§„èŒƒçš„è§£æï¼Œè®¡ç®—ï¼Œæ¯”è¾ƒï¼Œç”¨ä»¥è§£å†³åœ¨å¤§å‹é¡¹ç›®ä¸­å¯¹ä¾èµ–çš„ç‰ˆæœ¬å¤±å»æ§åˆ¶çš„é—®é¢˜ï¼ŒNode.js çš„åŒ…ç®¡ç†å·¥å…· npm ä¹Ÿå®Œå…¨åŸºäº Semantic Versioning æ¥ç®¡ç†ä¾èµ–çš„ç‰ˆæœ¬ã€‚ å‚è€ƒèµ„æ–™ï¼šsemverï¼šè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒåœ¨ Node.js ä¸­çš„å®ç° deprecationssermverå¼ƒç”¨ä¸€éƒ¨åˆ†åŠŸèƒ½ (SEMVER-MAJOR) crypto: move pbkdf2 without digest to EOL (James M Snell) (SEMVER-MAJOR) fs: deprecate closing FileHandle on garbage collection (James M Snell) (SEMVER-MAJOR) http: move OutboundMessage.prototype.flush to EOL (James M Snell) (SEMVER-MAJOR) lib: move GLOBAL and root aliases to EOL (James M Snell) (SEMVER-MAJOR) os: move tmpDir() to EOL (James M Snell) (SEMVER-MAJOR) src: remove deprecated wasm type check (Clemens Backes) (SEMVER-MAJOR) stream: move _writableState.buffer to EOL (James M Snell) (SEMVER-MINOR) doc: deprecate process.mainModule (Antoine du HAMEL) (SEMVER-MINOR) doc: deprecate process.umask() with no arguments (Colin Ihrig) ECMAScript Modulesåœ¨ v13 ä¸­ï¼Œéœ€è¦è°ƒç”¨ --experimental-modules æ¥å¼€å¯ ESM module æ”¯æŒï¼Œ è€Œä¸”è¿˜ä¼šæœ‰è­¦å‘Šï¼Œä½†ç›®å‰å·²ç»ç§»é™¤è­¦å‘Šï¼ˆè¿˜æ˜¯éœ€è¦æ‰‹åŠ¨å¼€å¯ï¼‰ä»åœ¨å®éªŒä¸­ï¼Œä½†æ˜¯å…¶å·²ç»éå¸¸å®Œå–„ï¼Œç§»é™¤è­¦å‘Šè¿ˆå‘äº†stableçš„é‡è¦ä¸€æ­¥ New V8 ArrayBuffer APIv8ä¸å†æ”¯æŒå¤šä¸ªArrayBufferæŒ‡å‘ç›¸åŒçš„base address Toolchain and Compiler Upgrades//æ²¡çœ‹æ‡‚ (SEMVER-MAJOR) build: update macos deployment target to 10.13 for 14.x (AshCripps) #32454 (SEMVER-MAJOR) doc: update cross compiler machine for Linux armv7 (Richard Lau) #32812 (SEMVER-MAJOR) doc: update Centos/RHEL releases use devtoolset-8 (Richard Lau) #32812 (SEMVER-MAJOR) doc: remove SmartOS from official binaries (Richard Lau) #32812 (SEMVER-MAJOR) win: block running on EOL Windows versions (JoÃ£o Reis) #31954 It is expected that there will be an ABI mismatch on ARM between the Node.js binary and native addons. Native addons are only broken if they interact with std::shared_ptr. This is expected to be fixed in a later version of Node.js 14. Update to V8 8.1Others cli, report: move â€“report-on-fatalerror to stable (Colin Ihrig) deps: upgrade to libuv 1.37.0 (Colin Ihrig) fs: add fs/promises alias module","raw":null,"content":null,"categories":[{"name":"Node","slug":"Node","permalink":"http://zehai.info/categories/Node/"}],"tags":[{"name":"14","slug":"14","permalink":"http://zehai.info/tags/14/"}]},{"title":"LeetCodeWeek2","slug":"2020-04-19-LeetCodeWeek1","date":"2020-04-19T05:23:52.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/04/19/2020-04-19-LeetCodeWeek1/","link":"","permalink":"http://zehai.info/2020/04/19/2020-04-19-LeetCodeWeek1/","excerpt":"","text":"Problem Product of Array Except SelfGiven an array nums of n integers where n &gt; 1, return an array output such that output[i] is equal to the product of all the elements of nums except nums[i]. Example: 12Input: [1,2,3,4]Output: [24,12,8,6] Constraint: Itâ€™s guaranteed that the product of the elements of any prefix or suffix of the array (including the whole array) fits in a 32 bit integer. Note: Please solve it without division and in O(n). Follow up:Could you solve it with constant space complexity? (The output array does not count as extra space for the purpose of space complexity analysis.) keysolution1234567891011121314151617181920212223242526272829&#x2F;&#x2F;3msclass Solution &#123; public int[] productExceptSelf(int[] nums) &#123; int sum &#x3D;1; int hasZero &#x3D;0; for(int num :nums)&#123; if(num!&#x3D;0)&#123; sum*&#x3D;num; &#125;else&#123; hasZero++; &#125; &#125; for(int i&#x3D;0;i&lt;nums.length;i++)&#123; if(hasZero&gt;&#x3D;2)&#123; nums[i]&#x3D;0; &#125;else if(hasZero&#x3D;&#x3D;1)&#123; if(nums[i]&#x3D;&#x3D;0)&#123; nums[i]&#x3D;sum; &#125;else&#123; nums[i]&#x3D;0; &#125; &#125;else&#123; nums[i]&#x3D;sum&#x2F;nums[i]; &#125; &#125; return nums; &#125;&#125; 1234567891011121314151617&#x2F;&#x2F;1msclass Solution &#123; public int[] productExceptSelf(int[] nums) &#123; int n &#x3D; nums.length; int[] left &#x3D; new int[n]; left[0] &#x3D; 1; for (int i &#x3D; 1; i &lt; n; i++) &#123; left[i] &#x3D; left[i-1] * nums[i-1]; &#125; int product &#x3D; 1; for (int i &#x3D; n - 1; i &gt;&#x3D; 0; i--) &#123; left[i] *&#x3D; product; product *&#x3D; nums[i]; &#125; return left; &#125;&#125; Problem-678Valid Parenthesis StringMedium Given a string containing only three types of characters: â€˜(â€˜, â€˜)â€™ and â€˜*â€™, write a function to check whether this string is valid. We define the validity of a string by these rules: Any left parenthesis &#39;(&#39; must have a corresponding right parenthesis &#39;)&#39;. Any right parenthesis &#39;)&#39; must have a corresponding left parenthesis &#39;(&#39;. Left parenthesis &#39;(&#39; must go before the corresponding right parenthesis &#39;)&#39;. &#39;*&#39; could be treated as a single right parenthesis &#39;)&#39; or a single left parenthesis &#39;(&#39; or an empty string. An empty string is also valid. Example 1: 12Input: &quot;()&quot;Output: True Example 2: 12Input: &quot;(*)&quot;Output: True Example 3: 12Input: &quot;(*))&quot;Output: True Note: The string size will be in the range [1, 100]. keysolution123456789101112131415161718192021222324class Solution &#123; public boolean checkValidString(String s) &#123; if (s.length() == 0) return true; int left = 0;int star=0; char[] c = s.toCharArray(); for (char i : c) &#123; switch (i) &#123; case &#x27;(&#x27;: left++; break; case &#x27;)&#x27;: left--; break; case &#x27;*&#x27;: star++; break; default: break; &#125; &#125; if (left == 0 || left - star == 0 || left + star == 0) return true; return false; &#125;&#125; Brute Force12345678910111213141516171819202122232425262728293031323334 class Solution &#123; boolean ans = false; public boolean checkValidString(String s) &#123; solve(new StringBuilder(s), 0); return ans; &#125; public void solve(StringBuilder sb, int i) &#123; if (i == sb.length()) &#123; ans |= valid(sb); &#125; else if (sb.charAt(i) == &#x27;*&#x27;) &#123; for (char c: &quot;() &quot;.toCharArray()) &#123; sb.setCharAt(i, c); solve(sb, i+1); if (ans) return; &#125; sb.setCharAt(i, &#x27;*&#x27;); &#125; else solve(sb, i + 1); &#125; public boolean valid(StringBuilder sb) &#123; int bal = 0; for (int i = 0; i &lt; sb.length(); i++) &#123; char c = sb.charAt(i); if (c == &#x27;(&#x27;) bal++; if (c == &#x27;)&#x27;) bal--; if (bal &lt; 0) break; &#125; return bal == 0; &#125;&#125; Dynamic Programming123456789101112131415161718192021222324252627282930313233class Solution &#123; public boolean checkValidString(String s) &#123; int n = s.length(); if (n == 0) return true; boolean[][] dp = new boolean[n][n]; for (int i = 0; i &lt; n; i++) &#123; if (s.charAt(i) == &#x27;*&#x27;) dp[i][i] = true; if (i &lt; n-1 &amp;&amp; (s.charAt(i) == &#x27;(&#x27; || s.charAt(i) == &#x27;*&#x27;) &amp;&amp; (s.charAt(i+1) == &#x27;)&#x27; || s.charAt(i+1) == &#x27;*&#x27;)) &#123; dp[i][i+1] = true; &#125; &#125; for (int size = 2; size &lt; n; size++) &#123; for (int i = 0; i + size &lt; n; i++) &#123; if (s.charAt(i) == &#x27;*&#x27; &amp;&amp; dp[i+1][i+size] == true) &#123; dp[i][i+size] = true; &#125; else if (s.charAt(i) == &#x27;(&#x27; || s.charAt(i) == &#x27;*&#x27;) &#123; for (int k = i+1; k &lt;= i+size; k++) &#123; if ((s.charAt(k) == &#x27;)&#x27; || s.charAt(k) == &#x27;*&#x27;) &amp;&amp; (k == i+1 || dp[i+1][k-1]) &amp;&amp; (k == i+size || dp[k+1][i+size])) &#123; dp[i][i+size] = true; &#125; &#125; &#125; &#125; &#125; return dp[0][n-1]; &#125;&#125; Greedy123456789101112class Solution &#123; public boolean checkValidString(String s) &#123; int lo = 0, hi = 0; for (char c: s.toCharArray()) &#123; lo += c == &#x27;(&#x27; ? 1 : -1; hi += c != &#x27;)&#x27; ? 1 : -1; if (hi &lt; 0) break; lo = Math.max(lo, 0); &#125; return lo == 0; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Easy","slug":"Easy","permalink":"http://zehai.info/tags/Easy/"}]},{"title":"åŒä¸€å®¿ä¸»æœºä¸‹dockeräº’ç›¸è®¿é—®","slug":"2020-04-16-åŒä¸€å®¿ä¸»æœºä¸‹dockeräº’ç›¸è®¿é—®","date":"2020-04-16T10:06:19.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/04/16/2020-04-16-åŒä¸€å®¿ä¸»æœºä¸‹dockeräº’ç›¸è®¿é—®/","link":"","permalink":"http://zehai.info/2020/04/16/2020-04-16-%E5%90%8C%E4%B8%80%E5%AE%BF%E4%B8%BB%E6%9C%BA%E4%B8%8Bdocker%E4%BA%92%E7%9B%B8%E8%AE%BF%E9%97%AE/","excerpt":"","text":"whatè¯¥æ–‡æ¡£è§£å†³ï¼šdockerä¸‹ï¼Œaltermanageræ”¶ä¸åˆ°prometheusæ¶ˆæ¯ äº‹å› ï¼Œæˆ‘åœ¨ä¸€ä¸ªå®¿ä¸»æœºä¸‹å»ºç«‹äº†å¤šä¸ªdockerå®¹å™¨ node-exporter prometheus grafana alertmanager timonwong/prometheus-webhook-dingtalk è¿™äº›æœåŠ¡ä¹‹é—´ä¼šæœ‰ä¸€äº›äº’ç›¸è®¿é—®ï¼Œå¦‚prometheuså¯ä»¥å‘é€æ•°æ®ç»™alertmanageræ¥å‘é€æŠ¥è­¦ä¿¡æ¯ï¼Œalertmanageré€šè¿‡è§„åˆ™å¤„ç†å¯ä»¥å‘é€é‚®ä»¶ï¼Œå‘é€é’‰é’‰ç­‰æ–¹å¼å‘ŠçŸ¥ç”¨æˆ·ï¼Œé—®é¢˜å°±å‡ºåœ¨prometheusçš„ymlé…ç½®æ–‡æ¡£ä¸­ï¼š 1234567891011alerting: alertmanagers: - static_configs: - targets: [&#x27;localhost:9002&#x27;] ###############ä¿®æ”¹åï¼šalerting: alertmanagers: - static_configs: - targets: [&#x27;10.10.10.10:9002&#x27;] é—®é¢˜å‡ºåœ¨äº†prometheusçš„é…ç½®ä¸­è®¿é—®äº†localhostç«¯å£ï¼Œä½†è¿™ä¸ªå¹¶ä¸æ˜¯è®¿é—®å®¿ä¸»æœºçš„9002çš„ç«¯å£ï¼Œè€Œæ˜¯è®¿é—®çš„æ˜¯dockerå†…éƒ¨çš„9002ç«¯å£ æ‰¾åˆ°é—®é¢˜åï¼Œä½¿ç”¨äº†å®¿ä¸»æœºip+portçš„æ–¹å¼è¿›è¡Œè®¿é—® howæŸ¥è¯¢äº†èµ„æ–™åï¼Œå‘ç°è§£å†³è¯¥é—®é¢˜çš„æ–¹æ³•æœ‰ï¼š å®¿ä¸»ipï¼športè®¿é—® å®¹å™¨ipè®¿é—® linkå»ºç«‹é€šä¿¡ç½‘ç»œ(å•å‘ï¼Œä¸æ¨è)â€“link xxx user-defined networksï¼ˆdocker dns server/bridgeï¼‰ å‰ä¸¤ç§ä¸å¤ªæ¨èï¼Œå› ä¸ºå¦‚æœå®¹å™¨ipæ›´æ”¹æˆ–è€…å®¿ä¸»æœºipæ›´æ”¹å°±éœ€è¦æ›´æ–°é…ç½®æ–‡æ¡£ï¼Œç¬¬ä¸‰ç§æ–¹æ³•ä¸å¤ªæ¨èï¼Œrun æ—¶å€™linkåªæ˜¯å•å‘çš„å»ºç«‹è¿æ¥ï¼Œç¬¬å››ç§docker network createï¼š 1234&#x2F;&#x2F;åˆ›å»ºç½‘ç»œdocker network create -d bridge my-bridge-network&#x2F;&#x2F;runæ—¶å€™åŠ å…¥ç½‘ç»œdocker run -it --network test-network --network-alias mysql -e MYSQL_ROOT_PASSWORD&#x3D;123 mysql:5.7","raw":null,"content":null,"categories":[{"name":"Question","slug":"Question","permalink":"http://zehai.info/categories/Question/"}],"tags":[{"name":"æ•´ç†","slug":"æ•´ç†","permalink":"http://zehai.info/tags/%E6%95%B4%E7%90%86/"}]},{"title":"nodeæ•´ç†","slug":"2020-04-10-eventloop","date":"2020-04-10T08:44:26.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/04/10/2020-04-10-eventloop/","link":"","permalink":"http://zehai.info/2020/04/10/2020-04-10-eventloop/","excerpt":"","text":"Whateventloopä½¿å¾—å•çº¿ç¨‹æœºåˆ¶çš„nodeå®ç°éé˜»å¡I/Oçš„æœºåˆ¶ï¼Œå°†ä»»åŠ¡é€šè¿‡libuvåˆ†å‘ç»™çº¿ç¨‹æ± åï¼Œäº¤ç”±ç³»ç»Ÿå†…æ ¸å®Œæˆï¼ˆå¤šçº¿ç¨‹ï¼‰ï¼Œå®Œæˆåå†…æ ¸é€šçŸ¥nodejsï¼Œå°†å›è°ƒæ”¾å…¥pollé˜Ÿåˆ—æ‰§è¡Œ å¯åŠ¨nodejsæ—¶ï¼Œeventloopåˆå§‹åŒ–ï¼Œè¿›ç¨‹ä¼šè¾“å…¥å¾ˆå¤šscriptï¼ŒåŒ…æ‹¬ï¼š async API calls å®šæ—¶å™¨ process.nextTick() eventloopæœ‰å…­ä¸ªé˜Ÿåˆ— timers pending callbacks idle,prepare poll(connections,data,etc) check close callbacks è¿™äº›é˜Ÿåˆ—è¢«ç§°ä½œphase,æ¯ä¸ªphaseéƒ½æ˜¯ä¸€ä¸ªå¯ä»¥æ”¾callbackçš„FIFOé˜Ÿåˆ—ï¼Œå½“è¿›å…¥ä¸€ä¸ªphaseæ—¶ï¼Œé˜Ÿåˆ—å°†æ‰§è¡Œå®Œphaseä¸­çš„callbackæˆ–è€…æ‰§è¡Œæœ€å¤§æ•°ç›®çš„callbackåå°†è¿›å…¥å¦ä¸€ä¸ªphase timersï¼šæ‰§è¡Œå®šæ—¶å™¨ï¼ŒåŒ…æ‹¬setTimeoutï¼ŒsetInerval pending callbacks æ‰§è¡Œå»¶è¿Ÿåˆ°ä¸‹ä¸€ä¸ªå¾ªç¯çš„I/O callback idleï¼Œprepare å¤„ç†ç³»ç»Ÿå†…éƒ¨ pollï¼šæ£€æŸ¥æ–°çš„I/Oäº‹ä»¶ï¼Œæ‰§è¡ŒI/Oå›è°ƒ,nodeä¼šé€‚å½“çš„åœ¨æ­¤é˜»å¡ check:setImmediate() closeï¼šå…³é—­å›è°ƒå‡½æ•°ï¼Œå¦‚ï¼šsocket.on(â€˜closeâ€™,foo()) DetailTimersè®¾å®šå»¶è¿Ÿåï¼Œtimersä¼šåœ¨è§„å®šçš„æ—¶é—´æ‰§è¡Œï¼Œä½†å­˜åœ¨æƒ…å†µå»¶è¿Ÿï¼Œå¦‚poll phaseæ‰§è¡Œå›è°ƒï¼Œè¶…è¿‡äº†timerè®¾å®šçš„æ—¶é—´ã€‚å› ä¸ºpollå¿…é¡»å®Œæˆä¸€ä¸ªä»»åŠ¡åæ‰å¯ä»¥æ£€æŸ¥æœ€è¿‘çš„å®šæ—¶å™¨ï¼Œæ²¡åˆ°æ—¶é—´å°±æ‰§è¡Œä¸‹ä¸€ä¸ªcallbackï¼Œæ‰§è¡ŒcallbackæœŸé—´æ— æ³•ä¸­æ–­ å¯ä»¥å¾—å‡ºç»“è®ºï¼špollæ§åˆ¶ç€å®šæ—¶å™¨ä½•æ—¶æ‰§è¡Œ å¦å¤–ä¸ºäº†é˜²æ­¢poll phase å˜æˆæ¶æ±‰ï¼Œlibuv åˆ¶å®šäº†ä¸€ä¸ªä¾èµ–äºç³»ç»Ÿçš„ç¡¬æ€§æœ€å¤§å€¼ï¼Œæ¥åœæ­¢è½®è¯¢è·å–æ›´å¤šäº‹ä»¶ pending callbacksè¯¥é˜Ÿåˆ—åœ¨ç³»ç»Ÿé”™è¯¯æ—¶æ‰§è¡Œå›è°ƒï¼ˆå¦‚TCP errï¼‰ï¼Œå¦‚TCP socketå°è¯•é‡è¿æ”¶åˆ°äº†ECONNREFUSEDï¼Œç³»ç»Ÿéœ€è¦è¿™äº›é”™è¯¯æŠ¥å‘Šï¼Œé‚£è¿™ä¸ªé”™è¯¯æŠ¥å‘Šå›è°ƒå°±ä¼šæ”¾åœ¨pending callbacksä¸­ç­‰å¾…è¢«æ‰§è¡Œ pollæœ€é‡è¦çš„é˜¶æ®µï¼Œpollä¸»è¦åŒ…å«ä¸¤ä¸ªåŠŸèƒ½ï¼š è®¡ç®—é˜»å¡å’Œè½®è¯¢çš„IOæ—¶é—´ æ‰§è¡Œpoll é˜Ÿåˆ—é‡Œçš„events å½“eventloopè¿›å…¥pollé˜¶æ®µï¼Œå¹¶æ²¡æœ‰timersçš„æ—¶å€™ pollä¸ä¸ºç©ºï¼Œé¡ºåºåŒæ­¥æ‰§è¡Œä»»åŠ¡ï¼Œç›´åˆ°ä¸ºç©ºæˆ–è¾¾åˆ°å¤„ç†æ•°é‡ä¸Šé™ pollä¸ºç©ºï¼šå¦‚æœæœ‰setImmediate()ï¼Œåˆ™è¿›å…¥check phaseï¼Œåä¹‹å°±åœ¨pollç­‰å®¢äºº ä¸€ä½†pollä¸ºç©ºï¼Œeventloppå°†ä¼šæ£€æŸ¥è®¡æ—¶å™¨æ˜¯å¦æœ‰å¿«åˆ°çš„ï¼Œå¦‚æœæœ‰éœ€è¦æ‰§è¡Œçš„ï¼Œeventloopå°†è¦è¿›å…¥timersé˜¶æ®µæ¥é¡ºåºæ‰§è¡Œtimer callback checkè¿™ä¸ªphaseå¯ä»¥åœ¨pollæ‰§è¡Œå®Œæˆæ—¶å¼€å§‹æ‰§è¡ŒsetImmediate()å›è°ƒã€‚ä»–å…¶å®æ˜¯ç‰¹æ®Šçš„å®šæ—¶å™¨é˜Ÿåˆ—ï¼Œä½¿ç”¨libuv APIåœ¨pollå®Œæˆçš„é˜¶æ®µæ‰§è¡Œï¼ˆè¿™ä¹Ÿæ˜¯ä»–å­˜åœ¨çš„åŸå› ï¼‰ã€‚ close callbackssocket.desroy()ç­‰æ‰§è¡Œå…³é—­eventæ—¶å€™ä¼šè¿›å…¥è¯¥phaseï¼Œå¦åˆ™ä¼šè¢«process.nextTick()è§¦å‘ setImmedate() vs setTimeout()ç›¸ä¼¼å´åˆä¸åŒ setImmediate()æ˜¯pollæ‰§è¡Œå®Œæˆåæ‰§è¡Œçš„script setTimeout()æ˜¯å®šæ—¶æ‰§è¡Œçš„ æ‰§è¡Œå“ªä¸ªæ”¶åˆ°ä¸Šä¸‹æ–‡çš„çº¦æŸï¼Œå¦‚æœä¸¤ä¸ªéƒ½è¢«ä¸»æ¨¡å—è°ƒç”¨ï¼Œé‚£ä¹ˆè¿›ç¨‹æ€§èƒ½å°†ä¼šæ”¶åˆ°çº¦æŸï¼ˆå½±å“å…¶ä»–appè¿è¡Œï¼‰ 1234567891011121314151617181920212223242526272829303132without IOsetTimeout(() &#x3D;&gt; &#123; console.log(&#39;timeout&#39;);&#125;, 0);setImmediate(() &#x3D;&gt; &#123; console.log(&#39;immediate&#39;);&#125;);&#x2F;&#x2F;$ node timeout_vs_immediate.jstimeoutimmediate$ node timeout_vs_immediate.jsimmediatetimeoutwith IO&#x2F;&#x2F; timeout_vs_immediate.jsconst fs &#x3D; require(&#39;fs&#39;);fs.readFile(__filename, () &#x3D;&gt; &#123; setTimeout(() &#x3D;&gt; &#123; console.log(&#39;timeout&#39;); &#125;, 0); setImmediate(() &#x3D;&gt; &#123; console.log(&#39;immediate&#39;); &#125;);&#125;);&#x2F;&#x2F;immediatetimeout setImmediate()å¥½å¤„åœ¨äºï¼Œå¦‚æœæœ‰IOæ—¶ä¼šæ¯”setTimeoutå…ˆæ‰§è¡Œ process.nextTick()å®ƒæ˜¯ä¸ªå¼‚æ­¥APIï¼Œå¹¶æ²¡æœ‰å‡ºç°åœ¨å…­ä¸ªphaseä¸­ï¼Œä»–å¹¶ä¸å±äºeventloopçš„ä¸€éƒ¨åˆ†ï¼Œå½“æ“ä½œå®Œæˆåå¤„ç†nextTickQueueè€Œä¸ç®¡eventloopæ‰§è¡Œåˆ°å“ªä¸ªé˜¶æ®µï¼Œè¿™ä¸ªå¼‚æ­¥APIä¾èµ–äºC/C++å¤„ç† JavaScript ä»–çš„callbakcsä¼šç«‹å³æ‰§è¡Œï¼Œç›´åˆ°æ‰§è¡Œå®Œï¼Œeventloopæ‰ä¼šæ­£å¸¸å·¥ä½œï¼ˆå¦‚æœnextTické€’å½’è°ƒç”¨åˆ™ä¼šæ­»å¾ªç¯ï¼‰ ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§è®¾è®¡ï¼Ÿ å‡ºäºæ‰€æœ‰æ¥å£éƒ½åº”è¯¥å¼‚æ­¥çš„è®¾è®¡æ€è·¯ 12345function apiCall(arg, callback) &#123; if (typeof arg !&#x3D;&#x3D; &#39;string&#39;) return process.nextTick(callback, new TypeError(&#39;argument should be string&#39;));&#125; ä»£ç æ®µä¼šæ ¡éªŒå‚æ•°ï¼Œå¦‚æœä¸æ­£ç¡®ï¼Œå®ƒå°†ä¼šæŠŠé”™è¯¯ä¼ é€’ç»™å›è°ƒã€‚è¯¥APIæœ€è¿‘æ›´æ–°ï¼Œå…è®¸ä¼ ä»»ä½•å‚ç»™process.nextTick(),æ‰€ä»¥ä½ ä¸éœ€è¦åµŒå¥—ã€‚ä»…åœ¨å‰©ä½™ä»£ç æ‰§è¡Œä¹‹åæˆ‘ä»¬ä¼šæŠŠé”™è¯¯åé¦ˆç»™ç”¨æˆ·ï¼Œé€šè¿‡nextTickï¼Œæˆ‘ä»¬ä¿è¯apiCal()å§‹ç»ˆåœ¨ç”¨æˆ·èƒœäºä»£ç ä¹‹ååŠeventloopç»§ç»­ä¹‹å‰ï¼Œæ‰§è¡Œã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼ŒJSæ ˆå†…å­˜å…è®¸å±•å¼€å¹¶ä¸”ç«‹å³æ‰§è¡Œæä¾›çš„callbackï¼Œä¼¼çš„nextTické€’å½’ä¸ä¼šæœ‰æŠ¥é”™ã€‚ process.nextTick() vs setImmediate() process.nextTick()ç«‹åˆ»æ‰§è¡Œ setImmediate()ä¸‹æ¬¡tickæ‰§è¡Œ ä¸ºä»€ä¹ˆéœ€è¦process.nextTick() å…è®¸ç”¨æˆ·å¤„ç†errorsï¼Œæ¸…ç†ä¸éœ€è¦çš„èµ„æºï¼Œäº‹ä»¶å¾ªç¯å‰ å°è¯•é‡æ–°è¿æ¥ æœ‰æ—¶æœ‰å¿…è¦åœ¨eventloopç»§ç»­ä¹‹å‰ï¼Œåœ¨call stack unwoundä¹‹åï¼Œè®©callbackæ‰§è¡Œ 12345const server &#x3D; net.createServer();server.on(&#39;connection&#39;, (conn) &#x3D;&gt; &#123; &#125;);server.listen(8080);server.on(&#39;listening&#39;, () &#x3D;&gt; &#123; &#125;); listen()çš„callbackè°ƒç”¨çš„æ˜¯setImmiate()ï¼Œé™¤éä¼ é€’Hostnameï¼Œå¦åˆ™ç«‹å³ç»‘å®šç«¯å£ã€‚ä¸ºäº†ä¿è¯eventloopç»§ç»­ï¼Œä»–å¿…é¡»è¿›å…¥poll phaseï¼Œè¿™æ„å‘³ç€ï¼Œå­˜åœ¨å¯èƒ½å·²ç»æ”¶åˆ°äº†è¿æ¥ï¼Œä»è€Œå…è®¸åœ¨ä¾¦å¬äº‹ä»¶ä¹‹å‰è§¦å‘è¿æ¥äº‹ä»¶","raw":null,"content":null,"categories":[{"name":"Node","slug":"Node","permalink":"http://zehai.info/categories/Node/"}],"tags":[{"name":"æ•´ç†","slug":"æ•´ç†","permalink":"http://zehai.info/tags/%E6%95%B4%E7%90%86/"}]},{"title":"LeetCodeWeek2","slug":"2020-04-08-LeetCodeWeek2","date":"2020-04-08T08:44:26.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/04/08/2020-04-08-LeetCodeWeek2/","link":"","permalink":"http://zehai.info/2020/04/08/2020-04-08-LeetCodeWeek2/","excerpt":"","text":"Prolem876-Submission DetailGiven a non-empty, singly linked list with head node head, return a middle node of linked list. If there are two middle nodes, return the second middle node. Example 1: 12345Input: [1,2,3,4,5]Output: Node 3 from this list (Serialization: [3,4,5])The returned node has value 3. (The judge&#39;s serialization of this node is [3,4,5]).Note that we returned a ListNode object ans, such that:ans.val &#x3D; 3, ans.next.val &#x3D; 4, ans.next.next.val &#x3D; 5, and ans.next.next.next &#x3D; NULL. Example 2: 123Input: [1,2,3,4,5,6]Output: Node 4 from this list (Serialization: [4,5,6])Since the list has two middle nodes with values 3 and 4, we return the second one. Note: The number of nodes in the given list will be between 1 and 100. keyé¢˜ç›®è¾“å‡ºå•å‘é“¾è¡¨çš„ä¸­é—´å…ƒç´ ï¼Œæœ‰è¿™ä¹ˆå‡ ä¸ªæ€è·¯ O(N)â€“&gt;éå†æ”¾æ•°ç»„ï¼Œ1/2è¾“å‡ºreturn A[t / 2] O(N)â€“&gt;æ ¹æ®ä¸­é—´ç‰¹ç‚¹ï¼Œmidå‰è¿›ä¸€æ ¼ï¼Œendå‰è¿›ä¸¤æ ¼ Solutionç¬¬ä¸€æ¬¡æäº¤:0ms 12345678910111213141516171819202122class Solution &#123; public ListNode middleNode(ListNode head) &#123; ListNode mid = head; ListNode end = head; int i=0; while(end.next!=null)&#123; mid = head.next; ListNode tmp = mid; i++; int j=i; while(j&gt;0)&#123;//æå¤æ‚äº† if(tmp.next==null)return mid; end = tmp.next; tmp=tmp.next; j--; &#125; head=head.next; &#125; return mid; &#125;&#125; ç¬¬äºŒæ¬¡å‚è€ƒå…¶ä»–ä»£ç -æäº¤ï¼š 12345678910class Solution &#123; public ListNode middleNode(ListNode head) &#123; ListNode mid &#x3D; head, end &#x3D; head; while (mid !&#x3D; null &amp;&amp; end.next !&#x3D; null) &#123; mid &#x3D; mid.next; end &#x3D; end.next.next; &#125; return mid; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Easy","slug":"Easy","permalink":"http://zehai.info/tags/Easy/"}]},{"title":"LeetCodeWeek1","slug":"2020-04-05-LeetCodeWeek1","date":"2020-04-05T14:32:05.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/04/05/2020-04-05-LeetCodeWeek1/","link":"","permalink":"http://zehai.info/2020/04/05/2020-04-05-LeetCodeWeek1/","excerpt":"","text":"Problem Single Numberå¥½ä¹…æ²¡æœ‰åˆ·é¢˜äº†ï¼Œåˆšå¥½é‡åˆ°LeetCodeï¼Œ30å¤©è®¡åˆ’ï¼Œæ‰“ç®—å¼ºè¿«è‡ªå·±å®Œæˆ Given a non-empty array of integers, every element appears twice except for one. Find that single one. Note: Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory? Example 1: 12Input: [2,2,1]Output: 1 Example 2: 12Input: [4,1,2,1,2]Output: 4 Keyæ€è·¯ ç¬¬ä¸€ä¸ªæ€è·¯O(n^2)å»åšç±»ä¼¼äºå†’æ³¡éå†çš„åŠæ³• å€ŸåŠ©Array.sort()å¯ä»¥è¿…é€Ÿæ’åºï¼Œç„¶åO(n)çš„åŠæ³•éå†å¾—åˆ°ç»“æœ ï¼ˆä»¥ä¸Šæ˜¯è‡ªå·±çš„æ€è·¯ï¼Œä»¥ä¸‹ä¸ºLeetCodeä»£ç æ€è€ƒï¼‰ é€šè¿‡å¼‚æˆ–æ“ä½œè¿…é€Ÿæ¯”è¾ƒ é€šè¿‡ Arrays.stream(nums).reduce(0, (x, y) -&gt; x ^ y)æ¥æ›´å¿«è¿­ä»£æ¯ä¸ªå…ƒç´  Array.steam()ä»¥ä¸‹å‚è€ƒCSDN Stream ä¸æ˜¯é›†åˆå…ƒç´ ï¼Œå®ƒä¸æ˜¯æ•°æ®ç»“æ„å¹¶ä¸ä¿å­˜æ•°æ®ï¼Œå®ƒæ˜¯æœ‰å…³ç®—æ³•å’Œè®¡ç®—çš„ï¼Œå®ƒæ›´åƒä¸€ä¸ªé«˜çº§ç‰ˆæœ¬çš„ Iteratorã€‚åŸå§‹ç‰ˆæœ¬çš„ Iteratorï¼Œç”¨æˆ·åªèƒ½æ˜¾å¼åœ°ä¸€ä¸ªä¸€ä¸ªéå†å…ƒç´ å¹¶å¯¹å…¶æ‰§è¡ŒæŸäº›æ“ä½œï¼›é«˜çº§ç‰ˆæœ¬çš„ Streamï¼Œç”¨æˆ·åªè¦ç»™å‡ºéœ€è¦å¯¹å…¶åŒ…å«çš„å…ƒç´ æ‰§è¡Œä»€ä¹ˆæ“ä½œï¼Œæ¯”å¦‚ â€œè¿‡æ»¤æ‰é•¿åº¦å¤§äº 10 çš„å­—ç¬¦ä¸²â€ã€â€œè·å–æ¯ä¸ªå­—ç¬¦ä¸²çš„é¦–å­—æ¯â€ç­‰ï¼ŒStream ä¼šéšå¼åœ°åœ¨å†…éƒ¨è¿›è¡Œéå†ï¼Œåšå‡ºç›¸åº”çš„æ•°æ®è½¬æ¢ã€‚ Stream å°±å¦‚åŒä¸€ä¸ªè¿­ä»£å™¨ï¼ˆIteratorï¼‰ï¼Œå•å‘ï¼Œä¸å¯å¾€å¤ï¼Œæ•°æ®åªèƒ½éå†ä¸€æ¬¡ï¼Œéå†è¿‡ä¸€æ¬¡åå³ç”¨å°½äº†ï¼Œå°±å¥½æ¯”æµæ°´ä»é¢å‰æµè¿‡ï¼Œä¸€å»ä¸å¤è¿”ã€‚ è€Œå’Œè¿­ä»£å™¨åˆä¸åŒçš„æ˜¯ï¼ŒStream å¯ä»¥å¹¶è¡ŒåŒ–æ“ä½œï¼Œè¿­ä»£å™¨åªèƒ½å‘½ä»¤å¼åœ°ã€ä¸²è¡ŒåŒ–æ“ä½œã€‚é¡¾åæ€ä¹‰ï¼Œå½“ä½¿ç”¨ä¸²è¡Œæ–¹å¼å»éå†æ—¶ï¼Œæ¯ä¸ª item è¯»å®Œåå†è¯»ä¸‹ä¸€ä¸ª itemã€‚è€Œä½¿ç”¨å¹¶è¡Œå»éå†æ—¶ï¼Œæ•°æ®ä¼šè¢«åˆ†æˆå¤šä¸ªæ®µï¼Œå…¶ä¸­æ¯ä¸€ä¸ªéƒ½åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­å¤„ç†ï¼Œç„¶åå°†ç»“æœä¸€èµ·è¾“å‡ºã€‚Stream çš„å¹¶è¡Œæ“ä½œä¾èµ–äº Java7 ä¸­å¼•å…¥çš„ Fork/Join æ¡†æ¶ï¼ˆJSR166yï¼‰æ¥æ‹†åˆ†ä»»åŠ¡å’ŒåŠ é€Ÿå¤„ç†è¿‡ç¨‹ ç®€å•è¯´ï¼Œå¯¹ Stream çš„ä½¿ç”¨å°±æ˜¯å®ç°ä¸€ä¸ª filter-map-reduce è¿‡ç¨‹ï¼Œäº§ç”Ÿä¸€ä¸ªæœ€ç»ˆç»“æœï¼Œæˆ–è€…å¯¼è‡´ä¸€ä¸ªå‰¯ä½œç”¨ï¼ˆside effectï¼‰ã€‚ ï¼ˆä»¥ä¸‹ä¸ºä¸ªäººç†è§£ï¼‰ ç›¸å¯¹äºJavaä¸­çš„Streamæµï¼ŒJavaä¸­ä¹Ÿæœ‰ï¼Œæ¯”å¦‚Array.reduce(),Array.foreach()ç­‰ï¼Œé€šè¿‡å›è°ƒå‡½æ•°çš„æ–¹å¼è¿›è¡Œï¼Œ å¼‚æˆ–|=ï¼šä¸¤ä¸ªäºŒè¿›åˆ¶å¯¹åº”ä½éƒ½ä¸º0æ—¶ï¼Œç»“æœç­‰äº0ï¼Œå¦åˆ™ç»“æœç­‰äº1ï¼› &amp;=ï¼šä¸¤ä¸ªäºŒè¿›åˆ¶çš„å¯¹åº”ä½éƒ½ä¸º1æ—¶ï¼Œç»“æœä¸º1ï¼Œå¦åˆ™ç»“æœç­‰äº0ï¼› ^=ï¼šä¸¤ä¸ªäºŒè¿›åˆ¶çš„å¯¹åº”ä½ç›¸åŒï¼Œç»“æœä¸º0ï¼Œå¦åˆ™ç»“æœä¸º1ã€‚ å¯¹äºè¿™é“é¢˜æ¥è¯´ï¼Œ[2,2,1] ç¬¬é›¶æ¬¡éå†ï¼šinit res=0,é¢˜ç›®è¦æ±‚æ‰¾å‡ºå‡ºç°ä¸€æ¬¡çš„æ•°ï¼Œæ‰€ä»¥è¿™ä¸ªæ•°è‚¯å®šå­˜åœ¨ ç¬¬ä¸€æ¬¡éå†ï¼šres=2 ç¬¬äºŒæ¬¡éå†ï¼šres=0ï¼Œå› ä¸ºres^=2ï¼ˆå³res=res^2ï¼‰ ç¬¬ä¸‰æ¬¡éå†ï¼šres=1ç»“æŸéå† ç»¼ä¸Šï¼šå¸¸ç”¨^= ä»¥åŠ&gt;&gt;ä½è¿ç®—ç¬¦ï¼ŒCçº§åˆ«çš„æ€§èƒ½ Solution å¯¹äºå¼‚æˆ–æ–¹æ³•ï¼ˆ0msï¼‰ 12345678910class Solution &#123; public int singleNumber(int[] nums) &#123; int result = 0; for (int n : nums) &#123; result ^= n; &#125; return result; &#125;&#125; è‡ªå·±çš„æ–¹æ³•å°±ä¸è´´äº†ã€‚ã€‚==æ„Ÿè§‰å¥½è ¢==å†™äº†åŠå¤©ã€‚ Problem Move ZeroesGiven an array nums, write a function to move all 0â€˜s to the end of it while maintaining the relative order of the non-zero elements. Example: 12Input: [0,1,0,3,12]Output: [1,3,12,0,0] Note: You must do this in-place without making a copy of the array. Minimize the total number of operations. Solutionç¬¬ä¸€ç‰ˆï¼š 123456789101112class Solution &#123; public void moveZeroes(int[] nums) &#123; for(int i=0;i&lt;nums.length;i++)&#123; if(nums[i]==0)&#123; for(int j=i;j&lt;nums.length-1;j++)&#123; nums[j]=nums[j+1]; &#125; nums[nums.length-1]=0; &#125; &#125; &#125;&#125; åŸæœ¬æ ¹æ®é¢˜ç›®çš„æ„æ€ï¼Œæƒ³æ³•å°±æ˜¯æ‰¾åˆ°ä¸€ä¸ª0ï¼Œæ•´ä½“å¾€å‰ç§»åŠ¨ä¸€ä½ï¼Œä¸€æŠŠæ¢­ï¼Œä½†å†™å®Œå‘ç°ï¼Œæœ¬èº«æ²¡æœ‰å¿…è¦æ•´ä½“å‰ç§»ï¼Œå› ä¸ºæˆ‘çš„åˆ¤æ–­æ˜¯num[i]æ˜¯ä¸æ˜¯ä¸º0ï¼Œæ‰€ä»¥åªéœ€è¦å°†0çš„ä¸ªæ•°è®°å½•ä¸‹æ¥ï¼Œé0çš„å…ƒç´ å‰ç§»ï¼Œæœ€åè¡¥0å°±å¯ä»¥äº† ç¬¬äºŒç‰ˆ 1234567891011121314class Solution &#123; public void moveZeroes(int[] nums) &#123; if (nums &#x3D;&#x3D; null || nums.length &#x3D;&#x3D; 0) return; int insertPos &#x3D; 0; for (int num: nums) &#123; if (num !&#x3D; 0) nums[insertPos++] &#x3D; num; &#125; while (insertPos &lt; nums.length) &#123; nums[insertPos++] &#x3D; 0; &#125; &#125;&#125; Problem Best Time to Buy and Sell Stock IISay you have an array for which the ith element is the price of a given stock on day i. Design an algorithm to find the maximum profit. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times). Note: You may not engage in multiple transactions at the same time (i.e., you must sell the stock before you buy again). Example 1: Input: [7,1,5,3,6,4]Output: 7Explanation: Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4. Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3.Example 2: Input: [1,2,3,4,5]Output: 4Explanation: Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4. Note that you cannot buy on day 1, buy on day 2 and sell them later, as you are engaging multiple transactions at the same time. You must sell before buying again.Example 3: Input: [7,6,4,3,1]Output: 0Explanation: In this case, no transaction is done, i.e. max profit = 0. keyé¢˜ç›®è·å–æœ€å¤§åˆ©æ¶¦ï¼Œæœ¬ä»¥ä¸ºæ˜¯é€šè¿‡åŠ¨æ€è§„åˆ’DPæ¥åšï¼Œä½†æ˜¯ä»”ç»†ä¸€æƒ³ï¼Œå·®å€¼å°±èƒ½è§£å†³é—®é¢˜1234567891011class Solution &#123; public int maxProfit(int[] prices) &#123; int res &#x3D; 0; for (int i &#x3D; 0; i &lt; prices.length - 1; ++i) &#123; if (prices[i] &lt; prices[i + 1]) &#123; res +&#x3D; prices[i + 1] - prices[i]; &#125; &#125; return res; &#125;&#125; Problem happy NumberWrite an algorithm to determine if a number is â€œhappyâ€. A happy number is a number defined by the following process: Starting with any positive integer, replace the number by the sum of the squares of its digits, and repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1. Those numbers for which this process ends in 1 are happy numbers. Example: 1234567Input: 19Output: trueExplanation: 12 + 92 &#x3D; 8282 + 22 &#x3D; 6862 + 82 &#x3D; 10012 + 02 + 02 &#x3D; 1 Solutionç¬¬ä¸€ç‰ˆ 123456789101112131415161718class Solution &#123; public boolean isHappy(int n) &#123; int sum &#x3D;0; while (sum !&#x3D; 1) &#123; if(sum!&#x3D;0)&#123; n&#x3D;sum;sum&#x3D;0; &#125; while (n &gt; 0) &#123; int t &#x3D; n % 10; sum +&#x3D; t * t; n &#x2F;&#x3D; 10; &#125; if(sum&#x3D;&#x3D;0)return false; &#125; return true; &#125;&#125; å…¶å®å†™å®Œè¿™ä¸ªæ¡†æ¶æˆ‘å°±æƒ³èµ·æ¥äº†ï¼Œå¯èƒ½åœ¨è®¡ç®—ä¸Šå­˜åœ¨æ­»å¾ªç¯ï¼Œå°±æ¯”å¦‚ å¦‚æœè¿™æ ·çš„é¢˜ç›®å°±è¿›å…¥äº†æ­»å¾ªç¯ï¼Œæ‰€ä»¥å¹²è„†ç›´æ¥é€šè¿‡hashsetçš„æ–¹å¼è¿›è¡Œè¿‡æ»¤ æ·»åŠ äº† 12345if(set.contains(sum))&#123; return false;&#125;else&#123; set.add(sum);&#125; æ•´ä½“ä»£ç å¦‚ä¸‹ï¼š Runtime: 5 ms, faster than 9.41% of Java online submissions for Happy Number. 12345678910111213141516171819202122public boolean isHappy(int n) &#123; Set&lt;Integer&gt; set = new HashSet&lt;&gt;(); int sum =0; while (sum != 1) &#123; if(sum!=0)&#123; n=sum;sum=0; &#125; while (n &gt; 0) &#123; int t = n % 10; sum += t * t; n /= 10; &#125; if(sum==0)return false; if(set.contains(sum))&#123; return false; &#125;else&#123; set.add(sum); &#125; &#125; return true;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Easy","slug":"Easy","permalink":"http://zehai.info/tags/Easy/"}]},{"title":"UniqueBinarySearchTrees","slug":"2020-03-22-UniqueBinarySearchTrees","date":"2020-03-22T04:37:47.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/03/22/2020-03-22-UniqueBinarySearchTrees/","link":"","permalink":"http://zehai.info/2020/03/22/2020-03-22-UniqueBinarySearchTrees/","excerpt":"","text":"Problem 96Given n, how many structurally unique BSTâ€™s (binary search trees) that store values 1 â€¦ n? Example: 12345678910Input: 3Output: 5Explanation:Given n &#x3D; 3, there are a total of 5 unique BST&#39;s: 1 3 3 2 1 \\ &#x2F; &#x2F; &#x2F; \\ \\ 3 2 1 1 3 2 &#x2F; &#x2F; \\ \\ 2 1 2 3 Solutioné¢˜ç›®å…¶å®ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œç»™å‡º1~nï¼Œç»™å‡ºèƒ½å¤Ÿæˆçš„BSTçš„æ•°ç›®ï¼Œé¢˜ç›®ä¸€å¼€å§‹çš„æƒ³æ³•æ˜¯ç”¨1~nå»ç”ŸæˆBSTï¼Œçœ‹ä¸€ä¸‹æœ‰å¤šå°‘ç§æƒ…å†µï¼Œç„¶ååšäº†å¾ˆå¤šæ— ç”¨åŠŸ=.= è¶Šå†™è¶Šä¸å¯¹åŠ²åæ¥æŸ¥äº†ä¸€ä¸‹ï¼Œè¿™é“é¢˜æ˜¯æœ‰æ•°å­¦è§„å¾‹çš„ BSTæœ‰å‡ ä¸ªç‰¹ç‚¹ ä¸­åºéå†ä¾æ¬¡å¢ï¼ˆå¤§äºç­‰äºï¼‰ å·¦å³è‡ªè¿°ä¹Ÿæ˜¯BSTï¼ˆrecursionï¼‰ æ‰€ä»¥åœ¨iä½œä¸ºæ ¹èŠ‚ç‚¹æ—¶ï¼Œå·¦å­æ ‘i-1ä¸ªèŠ‚ç‚¹ï¼Œå³å­æ ‘n-iä¸ªèŠ‚ç‚¹ æ•°å­¦çš„æ€æƒ³åœ¨äºå”¯ä¸€äºŒå‰æ ‘çš„ä¸ªæ•°ä¸ºå·¦å­æ ‘ç»“ç‚¹çš„ä¸ªæ•°ä¹˜ä»¥å³å­æ ‘çš„ä¸ªæ•°ã€‚è€Œæ ¹èŠ‚ç‚¹å¯ä»¥ä»1åˆ°n ä¸­é€‰æ‹©ï¼Œæ‰€ä»¥æœ‰ for(int i=1;i&lt;=n;++i) sum+=numTrees(i-1)*numTrees(n-i); å†åŠ ä¸Šè¾¹é™…æ§åˆ¶n&lt;=1â€“&gt;sum=1 å°±æœ‰äº†è§£é¢˜çš„ä»£ç ï¼š 12345678910class Solution &#123; public int numTrees(int n) &#123; if(n&lt;=1) return 1; int sum=0; for(int i=1;i&lt;=n;++i) sum+=numTrees(i-1)*numTrees(n-i); return sum; &#125;&#125; Solution 95 Unique Binary Search Trees IIä¸‡å¹¸ï¼Œè‡ªå·±æŠ˜è…¾çš„ç”ŸæˆBSTçš„ä»£ç æ²¡ç™½å†™ Given an integer n, generate all structurally unique BSTâ€™s (binary search trees) that store values 1 â€¦ n. Example: 1234567891011121314151617Input: 3Output:[ [1,null,3,2], [3,2,null,1], [3,1,null,null,2], [2,1,3], [1,null,2,null,3]]Explanation:The above output corresponds to the 5 unique BST&#39;s shown below: 1 3 3 2 1 \\ &#x2F; &#x2F; &#x2F; \\ \\ 3 2 1 1 3 2 &#x2F; &#x2F; \\ \\ 2 1 2 3 çœ‹é¢˜ç›®æ˜¯å‰åºéå†,æˆ‘ä»¬ä»ä¸Šå‘ä¸‹æŸ¥æ‰¾ï¼Œå¤–é¢ä¸€å±‚å¤§å¾ªç¯éå†æ ¹èŠ‚ç‚¹ for(int i=start ;i&lt;=end;i++){} ç¡®å®šäº†ièŠ‚ç‚¹åå¯ä»¥é€šè¿‡é€’å½’å†™å‡ºæ ¹èŠ‚ç‚¹içš„æƒ…å†µä¸‹çš„å·¦å³å­æ ‘ List leftChild = recursion(start, i - 1); List rightChild = recursion(i + 1, end); ç„¶åéå†å·¦å³å­æ ‘çš„æ¯ä¸ªå…ƒç´ ï¼Œä¸¤å±‚forå¾ªç¯åµŒå¥— for(TreeNode left : leftChild) { for(TreeNode right : rightChild) { TreeNode root = new TreeNode(i); root.left = left; root.right = right; res.add(root); } } å¾—åˆ°æœ€åçš„resè¿›è¡Œè¿”å›ï¼Œä»¥åŠå¤„ç†ä¸€ä¸‹start&gt;endçš„è¾¹é™…æ¡ä»¶å°±å®Œæˆäº† 123456789101112131415161718192021222324252627282930313233343536/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public List&lt;TreeNode&gt; generateTrees(int n) &#123; if(n &lt; 1) return new ArrayList&lt;TreeNode&gt;(); return recursion(1, n); &#125; public List&lt;TreeNode&gt; recursion(int start,int end)&#123; List&lt;TreeNode&gt; res = new ArrayList(); if(start &gt; end) &#123; res.add(null); return res; &#125; for(int i = start;i&lt;=end;i++)&#123; List&lt;TreeNode&gt; leftChild = recursion(start, i - 1); List&lt;TreeNode&gt; rightChild = recursion(i + 1, end); for(TreeNode left : leftChild) &#123; for(TreeNode right : rightChild) &#123; TreeNode root = new TreeNode(i); root.left = left; root.right = right; res.add(root); &#125; &#125; &#125; return res; &#125;&#125; é—®é¢˜å½“æ—¶å¡åœ¨ List leftChild = recursion(start, i - 1);List rightChild = recursion(i + 1, end); å½“ç„¶é‡‡ç”¨recursionè™½ç„¶ç®€æ´æ˜“æ‡‚ï¼Œä½†ä¸¤æ¡é¢˜ç›®çš„å¤æ‚åº¦éƒ½ç›¸å¯¹è¾ƒé«˜ï¼Œæ˜¯é€’å½’çš„å‹æ ˆé€ æˆçš„ï¼Œå¾ˆå¤šå¯èƒ½ç›¸åŒç‚¹çš„åœ°æ–¹å¯èƒ½è®¡ç®—äº†ä¸¤éï¼Œå¯¼è‡´äº†ä¸¤é“é¢˜ç›®éƒ½æ˜¯æ‰“è´¥äº†5%çš„solutionï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡dp(æ¥è‡ªLeetCode)çš„æ–¹å¼æ¥è¿›è¡Œå®Œæˆ 12345678910111213141516171819202122232425262728293031323334class Solution &#123; public List&lt;TreeNode&gt; generateTrees(int n) &#123; if(n == 0) return new ArrayList&lt;&gt;(); List&lt;TreeNode&gt;[][] dp = new ArrayList[n][n]; return helper(1, n, dp); &#125; private List&lt;TreeNode&gt; helper(int start, int end, List&lt;TreeNode&gt;[][] dp)&#123; List&lt;TreeNode&gt; res = new ArrayList&lt;&gt;(); if(start &gt; end)&#123; res.add(null); return res; &#125; if(dp[start - 1][end - 1] != null &amp;&amp; !dp[start - 1][end - 1].isEmpty())&#123; return dp[start - 1][end - 1]; &#125; for (int i = start ; i &lt;= end ; i++) &#123; List&lt;TreeNode&gt; left = helper(start, i - 1, dp); List&lt;TreeNode&gt; right = helper(i + 1, end, dp); for(TreeNode a : left)&#123; for(TreeNode b : right)&#123; TreeNode node = new TreeNode(i); node.left = a; node.right = b; res.add(node); &#125; &#125; &#125; return dp[start - 1][end - 1] = res; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"QUIC","slug":"2020-03-16-QUIC","date":"2020-03-16T10:24:42.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/03/16/2020-03-16-QUIC/","link":"","permalink":"http://zehai.info/2020/03/16/2020-03-16-QUIC/","excerpt":"","text":"Whatå¿«é€ŸUDPç½‘ç»œè¿æ¥ï¼ˆQuick UDP Internet Connectionsï¼ŒQUICï¼‰ æ˜¯ä¸€ç§å®éªŒæ€§çš„ä¼ è¾“å±‚ç½‘ç»œä¼ è¾“åè®®ï¼Œç”±Googleå¼€å‘ï¼Œåœ¨2013å¹´å®ç°ã€‚QUICä½¿ç”¨UDPåè®®ï¼Œå®ƒåœ¨ä¸¤ä¸ªç«¯ç‚¹é—´åˆ›å»ºè¿çº¿ï¼Œä¸”æ”¯æŒå¤šè·¯å¤ç”¨è¿çº¿ã€‚åœ¨è®¾è®¡ä¹‹åˆï¼ŒQUICå¸Œæœ›èƒ½å¤Ÿæä¾›ç­‰åŒäºSSL/TLSå±‚çº§çš„ç½‘ç»œå®‰å…¨ä¿æŠ¤ï¼Œå‡å°‘æ•°æ®ä¼ è¾“åŠåˆ›å»ºè¿çº¿æ—¶çš„å»¶è¿Ÿæ—¶é—´ï¼ŒåŒå‘æ§åˆ¶å¸¦å®½ï¼Œä»¥é¿å…ç½‘ç»œæ‹¥å¡ã€‚Googleå¸Œæœ›ä½¿ç”¨è¿™ä¸ªåè®®æ¥å–ä»£TCPåè®®ï¼Œä½¿ç½‘é¡µä¼ è¾“é€Ÿåº¦åŠ å¿«ã€‚2018å¹´10æœˆï¼ŒIETFçš„HTTPåŠQUICå·¥ä½œå°ç»„æ­£å¼å°†åŸºäºQUICåè®®çš„HTTPï¼ˆHTTP over QUICï¼‰é‡å‘½åä¸ºHTTP/3ä»¥ä¸ºç¡®ç«‹ä¸‹ä¸€ä»£è§„èŒƒåšå‡†å¤‡ã€‚ Featurecompared with HTTP2+TCP+TLS æ— TCPæ¡æ‰‹åŠTLSæ¡æ‰‹â€“&gt;å¿« æ”¹è¿›çš„æ‹¥å¡æ§åˆ¶ é¿å…é˜Ÿå¤´é˜»å¡çš„å¤šè·¯å¤ç”¨ å‰å‘å†—ä½™çº é”™ Reason ä¸­é—´è®¾å¤‡åƒµåŒ–ï¼ˆé˜²ç«å¢™ï¼ŒNATç­‰ç¡¬ä»¶è®¾å¤‡å›ºè¯443ï¼Œ80ç«¯å£ï¼ŒNATæ“¦å†™åœ°å€ï¼ŒæŠ›å¼ƒä¸è®¤è¯†çš„é€‰é¡¹å­—æ®µç­‰æ—§è§„åˆ™ï¼‰ ä¾èµ–æ“ä½œç³»ç»Ÿå®ç°å¯¼è‡´çš„åè®®åƒµåŒ–ï¼ˆä¾èµ–åº•å±‚TCPå¾ˆéš¾å¿«è¿­ä»£ï¼‰ å»ºç«‹è¿æ¥çš„æ¡æ‰‹å»¶è¿Ÿå¤§ï¼ˆHTTPS/2 use TSL ä½¿å¾—TCPï¼ŒTLSæ¡æ‰‹æ—¶é—´è¾ƒé•¿ï¼‰ é˜Ÿå¤´é˜»å¡ï¼ˆåºå·é¡ºåºæ¥å—ï¼Œå‰é¢ä¸¢äº†åé¢æ¥å—ç›´æ¥ä¸¢å¼ƒï¼‰ WhyRTT0RTT (0æ¬¡Round-Trip Time,0æ¬¡å¾€è¿”)å»ºè¿å¯ä»¥è¯´æ˜¯ QUIC ç›¸æ¯” HTTP2 æœ€å¤§çš„æ€§èƒ½ä¼˜åŠ¿ã€‚é‚£ä»€ä¹ˆæ˜¯ 0RTT å»ºè¿å‘¢ï¼Ÿè¿™é‡Œé¢æœ‰ä¸¤å±‚å«ä¹‰ã€‚ ä¼ è¾“å±‚ 0RTT å°±èƒ½å»ºç«‹è¿æ¥ã€‚ åŠ å¯†å±‚ 0RTT å°±èƒ½å»ºç«‹åŠ å¯†è¿æ¥ã€‚ ä¸€ä¸ªå®Œæ•´çš„ TLS æ¡æ‰‹éœ€è¦ä¸¤æ¬¡ï¼š Client å‘é€ ClientHelloï¼›Server å›å¤ ServerHello Client å›å¤æœ€ç»ˆç¡®å®šçš„ Keyï¼ŒFinishedï¼›Server å›å¤ Finished æ¡æ‰‹å®Œæ¯•ï¼ŒClient å‘é€åŠ å¯†åçš„ HTTP è¯·æ±‚ï¼›Server å›å¤åŠ å¯†åçš„ HTTP å“åº” TLS Session Resumption Client å‘é€ ClientHelloï¼ˆåŒ…å« Session IDï¼‰ï¼›Server å›å¤ ServerHello å’Œ Finished æ¡æ‰‹å®Œæ¯•ï¼ŒClient å‘é€åŠ å¯†åçš„ HTTP è¯·æ±‚ï¼›Server å›å¤åŠ å¯†åçš„ HTTP å“åº” TLS 0RTT 0 RTT æ˜¯ TLSv1.3 çš„å¯é€‰åŠŸèƒ½ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç¬¬ä¸€æ¬¡å»ºç«‹ä¼šè¯æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ª PSKï¼ˆpre-shared keyï¼‰ã€‚æœåŠ¡å™¨ä¼šç”¨ ticket key å»åŠ å¯† PSKï¼Œä½œä¸º Session Ticket è¿”å›ã€‚ å®¢æˆ·ç«¯å†æ¬¡å’ŒæœåŠ¡å™¨å»ºç«‹ä¼šè¯æ—¶ï¼Œä¼šå…ˆç”¨ PSK å»åŠ å¯† HTTP è¯·æ±‚ï¼Œç„¶åæŠŠåŠ å¯†åçš„å†…å®¹å‘ç»™æœåŠ¡å™¨ã€‚æœåŠ¡å™¨è§£å¯† PSKï¼Œç„¶åå†ç”¨ PSK å»è§£å¯† HTTP è¯·æ±‚ï¼Œå¹¶åŠ å¯† HTTP å“åº”ã€‚ HTTPS æ¡æ‰‹å·²ç»è·Ÿ HTTP è¯·æ±‚åˆå¹¶åˆ°ä¸€èµ· â€‹ 1.Client å‘é€ ClientHelloï¼ˆåŒ…å« PSKï¼‰å’ŒåŠ å¯†åçš„ HTTP è¯·æ±‚ï¼›Server å›å¤ ServerHello å’Œ Finished å’ŒåŠ å¯†åçš„ HTTP å“åº”ã€‚ congestion controlTCPé‡‡ç”¨äº† æ…¢å¯åŠ¨ æ‹¥å¡é¿å… å¿«é‡ä¼  å¿«æ¢å¤ QUCIé»˜è®¤æ”¯æŒCubicï¼Œå¦å¤–æ”¯æŒCubicBytes,Reno,RenoBytes,BBR,PCC Pluggableå¯æ’æ‹”ï¼Œå³çµæ´»ç”Ÿæ•ˆä¸éœ€è¦é‡å¯æˆ–æ”¹å˜åº•å±‚ åº”ç”¨å±‚å®ç°ä¸åŒçš„æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œä¸éœ€è¦åº•å±‚æ”¯æŒ å•ä¸ªåº”ç”¨ç¨‹åºçš„ä¸åŒè¿æ¥æ”¯æŒä¸åŒçš„æ‹¥å¡æ§åˆ¶ï¼Œå¦‚BBRï¼ŒCubic åº”ç”¨ç¨‹åºæ— éœ€å˜åŠ¨ç›´æ¥å˜æ›´æ‹¥å¡æ§åˆ¶ï¼Œreloadç”Ÿæ•ˆ STGWåœ¨é…ç½®å±‚é¢è¿›è¡Œäº†ä¼˜åŒ–ï¼Œé’ˆå¯¹ä¸åŒä¸šåŠ¡ï¼Œä¸åŒç½‘ç»œèŠå£«ï¼Œä¸åŒRTTï¼Œä½¿ç”¨ä¸åŒæ‹¥å¡æ§åˆ¶ å•é€’å¢çš„Packet Numberä¸ºäº†ä¿éšœTCPçš„å¯é æ€§ï¼Œä½¿ç”¨Seqï¼ˆsequenceNumber åºå·ï¼‰å’Œackæ¥ç¡®è®¤,Nä¸¢å¤±ï¼Œé‡ä¼ Nï¼ˆé—®é¢˜ï¼šNå¦‚æœé‡ä¼ ä¸¤æ¬¡ï¼Œæ”¶åˆ°ä¸€ä¸ªACKï¼Œä¸çŸ¥é“æ˜¯å“ªä¸ªçš„ACKï¼‰ QUICä½¿ç”¨PacketNumberä»£æ›¿seqï¼Œå¹¶ä¸”packetnumberä¸¥æ ¼é€’å¢ï¼Œä¹Ÿå°±æ˜¯è¯´å°±ç®— Packet N ä¸¢å¤±äº†ï¼Œé‡ä¼ çš„ Packet N çš„ Packet Number å·²ç»ä¸æ˜¯ Nï¼Œè€Œæ˜¯ä¸€ä¸ªæ¯” N å¤§çš„å€¼,å¦å¤–æ”¯æŒStream offsetæ›´å¥½æ”¯æŒå¤šä¸ªpacketä¼ è¾“ ä¸å…è®¸Renegingrenegingï¼šTCPé€šä¿¡æ—¶ï¼Œå¦‚æœå‘é€åºåˆ—ä¸­é—´æŸä¸ªæ•°æ®åŒ…ä¸¢å¤±ï¼ŒTCPä¼šé€šè¿‡é‡ä¼ æœ€åç¡®è®¤çš„åŒ…å¼€å§‹çš„åç»­åŒ…ï¼Œè¿™æ ·åŸå…ˆå·²ç»æ­£ç¡®ä¼ è¾“çš„åŒ…ä¹Ÿå¯èƒ½é‡å¤å‘é€ï¼Œæ€¥å‰§é™ä½äº†TCPæ€§èƒ½ã€‚ ä¸ºæ”¹å–„è¿™ç§æƒ…å†µï¼Œå‘å±•å‡ºSACK(Selective Acknowledgment, é€‰æ‹©æ€§ç¡®è®¤)æŠ€æœ¯ï¼Œä½¿TCPåªé‡æ–°å‘é€ä¸¢å¤±çš„åŒ…ï¼Œä¸ç”¨å‘é€åç»­æ‰€æœ‰çš„åŒ…ï¼Œè€Œä¸”æä¾›ç›¸åº”æœºåˆ¶ä½¿æ¥æ”¶æ–¹èƒ½å‘Šè¯‰å‘é€æ–¹å“ªäº›æ•°æ®ä¸¢å¤±ï¼Œå“ªäº›æ•°æ®é‡å‘äº†ï¼Œå“ªäº›æ•°æ®å·²ç»æå‰æ”¶åˆ°ç­‰ QUICç¦æ­¢reneging æ›´å¤šçš„ackå—TCP çš„ Sack é€‰é¡¹èƒ½å¤Ÿå‘Šè¯‰å‘é€æ–¹å·²ç»æ¥æ”¶åˆ°çš„è¿ç»­ Segment çš„èŒƒå›´ï¼Œæ–¹ä¾¿å‘é€æ–¹è¿›è¡Œé€‰æ‹©æ€§é‡ä¼ ã€‚ ç”±äº TCP å¤´éƒ¨æœ€å¤§åªæœ‰ 60 ä¸ªå­—èŠ‚ï¼Œæ ‡å‡†å¤´éƒ¨å ç”¨äº† 20 å­—èŠ‚ï¼Œæ‰€ä»¥ Tcp Option æœ€å¤§é•¿åº¦åªæœ‰ 40 å­—èŠ‚ï¼Œå†åŠ ä¸Š Tcp Timestamp option å ç”¨äº† 10 ä¸ªå­—èŠ‚ [25]ï¼Œæ‰€ä»¥ç•™ç»™ Sack é€‰é¡¹çš„åªæœ‰ 30 ä¸ªå­—èŠ‚ã€‚ æ¯ä¸€ä¸ª Sack Block çš„é•¿åº¦æ˜¯ 8 ä¸ªï¼ŒåŠ ä¸Š Sack Option å¤´éƒ¨ 2 ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ„å‘³ç€ Tcp Sack Option æœ€å¤§åªèƒ½æä¾› 3 ä¸ª Blockã€‚ ä½†æ˜¯ Quic Ack Frame å¯ä»¥åŒæ—¶æä¾› 256 ä¸ª Ack Blockï¼Œåœ¨ä¸¢åŒ…ç‡æ¯”è¾ƒé«˜çš„ç½‘ç»œä¸‹ï¼Œæ›´å¤šçš„ Sack Block å¯ä»¥æå‡ç½‘ç»œçš„æ¢å¤é€Ÿåº¦ï¼Œå‡å°‘é‡ä¼ é‡ã€‚ ack delayæ—¶é—´æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åˆ°å“åº”çš„è¿‡ç¨‹æ—¶é—´æˆä¸ºack delay,QUICçš„RTTéœ€è¦å‡æ‰ack delayï¼ˆè®¡ç®—æˆ‘æ˜¯æ²¡çœ‹æ‡‚ã€‚ã€‚ã€‚ï¼‰ åŸºäºstreamå’Œconnectionçº§åˆ«çš„æµé‡æ§åˆ¶ä½œç”¨ï¼š streamå¯ä»¥è®¤ä¸ºæ˜¯ä¸€æ¡HTTPè¯·æ±‚ Connectionå¯ä»¥ç±»æ¯”ä¸€æ¡TCPè¿æ¥ï¼Œåœ¨connectionä¸Šå­˜åœ¨å¤šæ¡stream tcpæ‰¿è½½å¤šä¸ªhttpè¯·æ±‚ window_updateå‘Šè¯‰å¯¹æ–¹è‡ªå·±æ¥å—çš„å­—èŠ‚æ•° blockFrameå‘Šè¯‰å¯¹æ–¹ç”±äºæµé‡æ§åˆ¶è¢«é˜»å¡ï¼Œæ— æ³•å‘é€æ•°æ® streamå¯ç”¨çª—å£=æœ€å¤§çª—å£æ•°-æ”¶åˆ°çš„æœ€å¤§åç§»æ•° connectionå¯ç”¨çª—å£=$\\sum$streamså¯ç”¨çª—å£ æ²¡æœ‰é˜Ÿå¤´é˜»å¡çš„å¤šè·¯å¤ç”¨QUIC çš„å¤šè·¯å¤ç”¨å’Œ HTTP2 ç±»ä¼¼ã€‚åœ¨ä¸€æ¡ QUIC è¿æ¥ä¸Šå¯ä»¥å¹¶å‘å‘é€å¤šä¸ª HTTP è¯·æ±‚ (stream)ã€‚ä½†æ˜¯ QUIC çš„å¤šè·¯å¤ç”¨ç›¸æ¯” HTTP2 æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿ã€‚ QUIC ä¸€ä¸ªè¿æ¥ä¸Šçš„å¤šä¸ª stream ä¹‹é—´æ²¡æœ‰ä¾èµ–ã€‚è¿™æ ·å‡å¦‚ stream2 ä¸¢äº†ä¸€ä¸ª udp packetï¼Œä¹Ÿåªä¼šå½±å“ stream2 çš„å¤„ç†ã€‚ä¸ä¼šå½±å“ stream2 ä¹‹å‰åŠä¹‹åçš„ stream çš„å¤„ç†ã€‚ è¿™ä¹Ÿå°±åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šç¼“è§£ç”šè‡³æ¶ˆé™¤äº†é˜Ÿå¤´é˜»å¡çš„å½±å“ã€‚ HTTP2 åœ¨ä¸€ä¸ª TCP è¿æ¥ä¸ŠåŒæ—¶å‘é€ 4 ä¸ª Streamã€‚å…¶ä¸­ Stream1 å·²ç»æ­£ç¡®åˆ°è¾¾ï¼Œå¹¶è¢«åº”ç”¨å±‚è¯»å–ã€‚ä½†æ˜¯ Stream2 çš„ç¬¬ä¸‰ä¸ª tcp segment ä¸¢å¤±äº†ï¼ŒTCP ä¸ºäº†ä¿è¯æ•°æ®çš„å¯é æ€§ï¼Œéœ€è¦å‘é€ç«¯é‡ä¼ ç¬¬ 3 ä¸ª segment æ‰èƒ½é€šçŸ¥åº”ç”¨å±‚è¯»å–æ¥ä¸‹å»çš„æ•°æ®ï¼Œè™½ç„¶è¿™ä¸ªæ—¶å€™ Stream3 å’Œ Stream4 çš„å…¨éƒ¨æ•°æ®å·²ç»åˆ°è¾¾äº†æ¥æ”¶ç«¯ï¼Œä½†éƒ½è¢«é˜»å¡ä½äº†ã€‚ ä¸ä»…å¦‚æ­¤ï¼Œç”±äº HTTP2 å¼ºåˆ¶ä½¿ç”¨ TLSï¼Œè¿˜å­˜åœ¨ä¸€ä¸ª TLS åè®®å±‚é¢çš„é˜Ÿå¤´é˜»å¡ Record æ˜¯ TLS åè®®å¤„ç†çš„æœ€å°å•ä½ï¼Œæœ€å¤§ä¸èƒ½è¶…è¿‡ 16Kï¼Œä¸€äº›æœåŠ¡å™¨æ¯”å¦‚ Nginx é»˜è®¤çš„å¤§å°å°±æ˜¯ 16Kã€‚ç”±äºä¸€ä¸ª record å¿…é¡»ç»è¿‡æ•°æ®ä¸€è‡´æ€§æ ¡éªŒæ‰èƒ½è¿›è¡ŒåŠ è§£å¯†ï¼Œæ‰€ä»¥ä¸€ä¸ª 16K çš„ recordï¼Œå°±ç®—ä¸¢äº†ä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿä¼šå¯¼è‡´å·²ç»æ¥æ”¶åˆ°çš„ 15.99K æ•°æ®æ— æ³•å¤„ç†ï¼Œå› ä¸ºå®ƒä¸å®Œæ•´ã€‚ é‚£ QUIC å¤šè·¯å¤ç”¨ä¸ºä»€ä¹ˆèƒ½é¿å…ä¸Šè¿°é—®é¢˜å‘¢ï¼Ÿ QUIC æœ€åŸºæœ¬çš„ä¼ è¾“å•å…ƒæ˜¯ Packetï¼Œä¸ä¼šè¶…è¿‡ MTU çš„å¤§å°ï¼Œæ•´ä¸ªåŠ å¯†å’Œè®¤è¯è¿‡ç¨‹éƒ½æ˜¯åŸºäº Packet çš„ï¼Œä¸ä¼šè·¨è¶Šå¤šä¸ª Packetã€‚è¿™æ ·å°±èƒ½é¿å… TLS åè®®å­˜åœ¨çš„é˜Ÿå¤´é˜»å¡ã€‚ Stream ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œæ¯”å¦‚ Stream2 ä¸¢äº†ä¸€ä¸ª Pakcetï¼Œä¸ä¼šå½±å“ Stream3 å’Œ Stream4ã€‚ä¸å­˜åœ¨ TCP é˜Ÿå¤´é˜»å¡ã€‚ å½“ç„¶ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ QUIC æ•°æ®éƒ½ä¸ä¼šå—åˆ°é˜Ÿå¤´é˜»å¡çš„å½±å“ï¼Œæ¯”å¦‚ QUIC å½“å‰ä¹Ÿæ˜¯ä½¿ç”¨ Hpack å‹ç¼©ç®—æ³• [10]ï¼Œç”±äºç®—æ³•çš„é™åˆ¶ï¼Œä¸¢å¤±ä¸€ä¸ªå¤´éƒ¨æ•°æ®æ—¶ï¼Œå¯èƒ½é‡åˆ°é˜Ÿå¤´é˜»å¡ã€‚ æ€»ä½“æ¥è¯´ï¼ŒQUIC åœ¨ä¼ è¾“å¤§é‡æ•°æ®æ—¶ï¼Œæ¯”å¦‚è§†é¢‘ï¼Œå—åˆ°é˜Ÿå¤´é˜»å¡çš„å½±å“å¾ˆå°ã€‚ åŠ å¯†è®¤è¯çš„æŠ¥æ–‡TCP åè®®å¤´éƒ¨æ²¡æœ‰ç»è¿‡ä»»ä½•åŠ å¯†å’Œè®¤è¯ï¼Œæ‰€ä»¥åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å¾ˆå®¹æ˜“è¢«ä¸­é—´ç½‘ç»œè®¾å¤‡ç¯¡æ”¹ï¼Œæ³¨å…¥å’Œçªƒå¬ã€‚æ¯”å¦‚ä¿®æ”¹åºåˆ—å·ã€æ»‘åŠ¨çª—å£ã€‚è¿™äº›è¡Œä¸ºæœ‰å¯èƒ½æ˜¯å‡ºäºæ€§èƒ½ä¼˜åŒ–ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸»åŠ¨æ”»å‡»ã€‚ ä½†æ˜¯ QUIC çš„ packet å¯ä»¥è¯´æ˜¯æ­¦è£…åˆ°äº†ç‰™é½¿ã€‚é™¤äº†ä¸ªåˆ«æŠ¥æ–‡æ¯”å¦‚ PUBLIC_RESET å’Œ CHLOï¼Œæ‰€æœ‰æŠ¥æ–‡å¤´éƒ¨éƒ½æ˜¯ç»è¿‡è®¤è¯çš„ï¼ŒæŠ¥æ–‡ Body éƒ½æ˜¯ç»è¿‡åŠ å¯†çš„ã€‚ è¿™æ ·åªè¦å¯¹ QUIC æŠ¥æ–‡ä»»ä½•ä¿®æ”¹ï¼Œæ¥æ”¶ç«¯éƒ½èƒ½å¤ŸåŠæ—¶å‘ç°ï¼Œæœ‰æ•ˆåœ°é™ä½äº†å®‰å…¨é£é™©ã€‚ è¿æ¥è¿ç§»ä¸€æ¡ TCP è¿æ¥ [17] æ˜¯ç”±å››å…ƒç»„æ ‡è¯†çš„ï¼ˆæº IPï¼Œæºç«¯å£ï¼Œç›®çš„ IPï¼Œç›®çš„ç«¯å£ï¼‰,å½“å…¶ä¸­ä»»ä½•ä¸€ä¸ªå…ƒç´ å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¿™æ¡è¿æ¥ä¾ç„¶ç»´æŒç€ï¼Œèƒ½å¤Ÿä¿æŒä¸šåŠ¡é€»è¾‘ä¸ä¸­æ–­ æ¯”å¦‚å¤§å®¶ä½¿ç”¨æ‰‹æœºåœ¨ WIFI å’Œ 4G ç§»åŠ¨ç½‘ç»œåˆ‡æ¢æ—¶ï¼Œå®¢æˆ·ç«¯çš„ IP è‚¯å®šä¼šå‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦é‡æ–°å»ºç«‹å’ŒæœåŠ¡ç«¯çš„ TCP è¿æ¥ã€‚ åˆæ¯”å¦‚å¤§å®¶ä½¿ç”¨å…¬å…± NAT å‡ºå£æ—¶ï¼Œæœ‰äº›è¿æ¥ç«äº‰æ—¶éœ€è¦é‡æ–°ç»‘å®šç«¯å£ï¼Œå¯¼è‡´å®¢æˆ·ç«¯çš„ç«¯å£å‘ç”Ÿå˜åŒ–ï¼ŒåŒæ ·éœ€è¦é‡æ–°å»ºç«‹ TCP è¿æ¥ã€‚ é’ˆå¯¹ TCP çš„è¿æ¥å˜åŒ–ï¼ŒMPTCP[5] å…¶å®å·²ç»æœ‰äº†è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ç”±äº MPTCP éœ€è¦æ“ä½œç³»ç»ŸåŠç½‘ç»œåè®®æ ˆæ”¯æŒï¼Œéƒ¨ç½²é˜»åŠ›éå¸¸å¤§ï¼Œç›®å‰å¹¶ä¸é€‚ç”¨ã€‚ æ‰€ä»¥ä» TCP è¿æ¥çš„è§’åº¦æ¥è®²ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯æ— è§£çš„ã€‚ é‚£ QUIC æ˜¯å¦‚ä½•åšåˆ°è¿æ¥è¿ç§»å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œä»»ä½•ä¸€æ¡ QUIC è¿æ¥ä¸å†ä»¥ IP åŠç«¯å£å››å…ƒç»„æ ‡è¯†ï¼Œè€Œæ˜¯ä»¥ä¸€ä¸ª64 ä½çš„éšæœºæ•°ä½œä¸º ID æ¥æ ‡è¯†ï¼Œè¿™æ ·å°±ç®— IP æˆ–è€…ç«¯å£å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåªè¦ ID ä¸å˜ï¼Œè¿™æ¡è¿æ¥ä¾ç„¶ç»´æŒç€ï¼Œä¸Šå±‚ä¸šåŠ¡é€»è¾‘æ„ŸçŸ¥ä¸åˆ°å˜åŒ–ï¼Œä¸ä¼šä¸­æ–­ï¼Œä¹Ÿå°±ä¸éœ€è¦é‡è¿ã€‚ ç”±äºè¿™ä¸ª ID æ˜¯å®¢æˆ·ç«¯éšæœºäº§ç”Ÿçš„ï¼Œå¹¶ä¸”é•¿åº¦æœ‰ 64 ä½ï¼Œæ‰€ä»¥å†²çªæ¦‚ç‡éå¸¸ä½ã€‚ å…¶ä»–æ­¤å¤–ï¼ŒQUIC è¿˜èƒ½å®ç°å‰å‘å†—ä½™çº é”™ï¼Œåœ¨é‡è¦çš„åŒ…æ¯”å¦‚æ¡æ‰‹æ¶ˆæ¯å‘ç”Ÿä¸¢å¤±æ—¶ï¼Œèƒ½å¤Ÿæ ¹æ®å†—ä½™ä¿¡æ¯è¿˜åŸå‡ºæ¡æ‰‹æ¶ˆæ¯ã€‚ QUIC è¿˜èƒ½å®ç°è¯ä¹¦å‹ç¼©ï¼Œå‡å°‘è¯ä¹¦ä¼ è¾“é‡ï¼Œé’ˆå¯¹åŒ…å¤´è¿›è¡ŒéªŒè¯ç­‰ã€‚","raw":null,"content":null,"categories":[{"name":"Introduction","slug":"Introduction","permalink":"http://zehai.info/categories/Introduction/"}],"tags":[{"name":"QUIC","slug":"QUIC","permalink":"http://zehai.info/tags/QUIC/"}]},{"title":"Traversal","slug":"2020-03-15-BinaryTreeLevelOrderTraversal","date":"2020-03-15T09:23:39.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/03/15/2020-03-15-BinaryTreeLevelOrderTraversal/","link":"","permalink":"http://zehai.info/2020/03/15/2020-03-15-BinaryTreeLevelOrderTraversal/","excerpt":"","text":"Problem 102 107Given a binary tree, return the level order traversal of its nodesâ€™ values. (ie, from left to right, level by level). For example:Given binary tree [3,9,20,null,null,15,7], 12345 3 &#x2F; \\9 20 &#x2F; \\ 15 7 return its level order traversal as: 12345[ [3], [9,20], [15,7]] Solutionkeyï¼š å±‚åºéå† é€’å½’ åœ¨Javaä¸­å¯ä»¥å…ˆå®šä¹‰ä¸€ä¸ªListä¿å­˜ç»“æœ,Listé‡Œé¢å†åµŒå…¥ArrayListæ¥è®°å½•æ¯ä¸€å±‚çš„æ•°æ® List&lt;List&gt; res = new ArrayList&lt;&gt;(); res.add(new ArrayList&lt;&gt;()); å°†é€’å½’ä¸­çš„rootèŠ‚ç‚¹è¿½åŠ è¿›å…¥res.get(level)çš„æ•°ç»„ä¸­ res.get(level).add(root.val); é€šè¿‡é€’å½’å®Œæˆç®—æ³• travelsal(root.left,level+1);travelsal(root.right,level+1); 12345678910111213141516171819202122232425262728/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;(); public List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123; travelsal(root, 0); return res; &#125; private void travelsal(TreeNode root,int level) &#123; if(root==null)&#123; return; &#125; if(level==res.size())&#123; res.add(new ArrayList&lt;&gt;()); &#125; res.get(level).add(root.val); travelsal(root.left,level+1); travelsal(root.right,level+1); &#125;&#125; æ¥ä¸‹æ¥æ˜¯107ï¼Œæ˜¯102çš„å˜ç§ï¼Œæ”¹æˆäº†å¶èŠ‚ç‚¹å¼€å§‹éå† difficultyï¼šEasy Given a binary tree, return the bottom-up level order traversal of its nodesâ€™ values. (ie, from left to right, level by level from leaf to root). For example:Given binary tree [3,9,20,null,null,15,7], 12345 3 &#x2F; \\9 20 &#x2F; \\ 15 7 return its bottom-up level order traversal as: 123456[ [15,7], [9,20], [3]] keyé¢˜ç›®æœ¬èº«æ²¡æœ‰è®¾ç½®å¤ªå¤šçš„éš¾åº¦ï¼Œæˆ‘ä»¬åªéœ€è¦å°†levelå®ç°æ•°ç»„çš„å†…å±‚æ•°ç»„çš„å€’åºå°±å¯ä»¥äº† res.get(level).add(root.val); change this code to res.get(res.size()-i-1).add(root.val); åŸæœ¬åˆ¤æ–­æ–°å¢æ•°ç»„çš„è¯­å¥å˜æˆåœ¨ç¬¬0ä¸ªä½ç½®æ–°å¢ä¸€ä¸ªæ•°ç»„ if(i &gt;= res.size()){ res.add(0,new ArrayList());}","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"Eggæ’ä»¶åˆ°åº•å°è£…äº†å•¥","slug":"2020-03-13-Eggæ’ä»¶åˆ°åº•å°è£…äº†å•¥","date":"2020-03-13T05:23:12.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/03/13/2020-03-13-Eggæ’ä»¶åˆ°åº•å°è£…äº†å•¥/","link":"","permalink":"http://zehai.info/2020/03/13/2020-03-13-Egg%E6%8F%92%E4%BB%B6%E5%88%B0%E5%BA%95%E5%B0%81%E8%A3%85%E4%BA%86%E5%95%A5/","excerpt":"","text":"è¿«äºæ¯”è¾ƒå¥½å¥‡ï¼Œä¸‹è½½äº†egg-redisï¼Œçœ‹çœ‹ä»–å¦‚ä½•å°†nodeç›´æ¥å¯ä»¥å¼•ç”¨çš„åŒ…ï¼Œå°è£…æˆä¸ºeggçš„æ’ä»¶ æ ¸å¿ƒä»£ç é€šè¿‡","raw":null,"content":null,"categories":[],"tags":[]},{"title":"","slug":"2020-03-11-MaximumDepthOfBinaryTree","date":"2020-03-11T09:47:55.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/03/11/2020-03-11-MaximumDepthOfBinaryTree/","link":"","permalink":"http://zehai.info/2020/03/11/2020-03-11-MaximumDepthOfBinaryTree/","excerpt":"","text":"Prolem 104Given a binary tree, find its maximum depth. The maximum depth is the number of nodes along the longest path from the root node down to the farthest leaf node. Note: A leaf is a node with no children. Example: Given binary tree [3,9,20,null,null,15,7], 12345 3 &#x2F; \\9 20 &#x2F; \\ 15 7 return its depth = 3. keyåˆ¤æ–­æ ‘çš„æ·±æµ…ï¼Œé‡‡ç”¨ int left = max(root.left);int right = max(root.right);return Math.max(left,right) + 1; //æˆ–è€…ç®€å†™ return Math.max(max(root.left) + 1, max(root.right) + 1); è¿›è¡Œé€’å½’ Runtime: 0 ms, faster than 100.00% of Java online submissions for Maximum Depth of Binary Tree. Memory Usage: 39.2 MB, less than 94.62% of Java online submissions for Maximum Depth of Binary Tree. 1234567891011121314151617181920/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public int maxDepth(TreeNode root) &#123; return max(root); &#125; public int max(TreeNode root)&#123; if (root == null) &#123; return 0; &#125; return Math.max(max(root.left) + 1, max(root.right) + 1); &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Easy","slug":"Easy","permalink":"http://zehai.info/tags/Easy/"}]},{"title":"SymmetricTree","slug":"2020-03-10-SymmetricTree","date":"2020-03-10T10:33:33.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/03/10/2020-03-10-SymmetricTree/","link":"","permalink":"http://zehai.info/2020/03/10/2020-03-10-SymmetricTree/","excerpt":"","text":"Problem101Given a binary tree, check whether it is a mirror of itself (ie, symmetric around its center). For example, this binary tree [1,2,2,3,4,4,3] is symmetric: 12345 1 &#x2F; \\ 2 2 &#x2F; \\ &#x2F; \\3 4 4 3 But the following [1,2,2,null,3,null,3] is not: 12345 1 &#x2F; \\2 2 \\ \\ 3 3 Note:Bonus points if you could solve it both recursively and iteratively. keyä¸€é“éªŒè¯æ ‘æ˜¯å¦æ˜¯å¯¹ç§°çš„é—®é¢˜ï¼Œä¸»è¦é‡‡å–é€’å½’çš„æ–¹æ³• 1234567891011121314151617181920&#x2F;** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val &#x3D; x; &#125; * &#125; *&#x2F;class Solution &#123; public boolean isSymmetric(TreeNode root) &#123; return isMirror(root,root); &#125; public boolean isMirror(TreeNode root,TreeNode self)&#123; if(root&#x3D;&#x3D;null &amp;&amp; self&#x3D;&#x3D;null)return true; if(root&#x3D;&#x3D;null ||self&#x3D;&#x3D;null) return false; return root.val&#x3D;&#x3D;self.val &amp;&amp; isMirror(root.left,self.right)&amp;&amp;isMirror(root.right,self.left); &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Easy","slug":"Easy","permalink":"http://zehai.info/tags/Easy/"}]},{"title":"AMDvsCMD","slug":"2020-03-09-AMDvsCMD","date":"2020-03-09T02:46:11.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/03/09/2020-03-09-AMDvsCMD/","link":"","permalink":"http://zehai.info/2020/03/09/2020-03-09-AMDvsCMD/","excerpt":"","text":"AMD:Asynchronous Module Definition (RequireJS) CMD:Common Module Definitionï¼ˆSeaJSï¼‰ AMD CMD 1. æå‰æ‰§è¡Œ å»¶è¿Ÿæ‰§è¡Œï¼ˆç±»ä¼¼é¥¿æ±‰æ¨¡å¼ï¼‰ 2. ä¾èµ–å‰ç½® ä¾èµ–å°±è¿‘ 3. æµè§ˆå™¨ï¼ˆåŠ è½½ç¼“æ…¢ï¼Œå¼‚æ­¥loadæ›´å¥½ï¼‰ æœåŠ¡å™¨ç«¯ 4. å¼‚æ­¥æ¨¡å—å®šä¹‰ é€šç”¨æ¨¡å—å®šä¹‰ AMDå¾…è¡¥å……ï¼Œimport-export CMDdefine Functionä¸€ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œåœ¨æˆ‘ä»¬çš„ä»£ç å¤–å±‚ï¼Œä¼šå¥—ä¸Šä¸€å±‚CMDè§„èŒƒ,è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥å¼•ç”¨require,export,moduleçš„åŸå›  123define(function(require, exports, module) &#123; &#x2F;&#x2F; code&#125;); å•ä¸ªå‚æ•° 1234define(factory)param--&gt;factory:funtion|Object|Stringdefine(&#123; &quot;foo&quot;: &quot;bar&quot; &#125;);define(&#39;I am a template. My name is &#123;&#123;name&#125;&#125;.&#39;); å¤šä¸ªå‚æ•°define define(id?, deps?, factory) 12345define(&#39;hello&#39;, [&#39;jquery&#39;], function(require, exports, module) &#123; &#x2F;&#x2F; code&#125;);idï¼šStringæ¨¡å—æ ‡è¯†depsï¼šArrayæ¨¡å—ä¾èµ– define.cmd Object 1234if (typeof define &#x3D;&#x3D;&#x3D; &quot;function&quot; &amp;&amp; define.cmd) &#123; &#x2F;&#x2F; æœ‰ Sea.js ç­‰ CMD æ¨¡å—åŠ è½½å™¨å­˜åœ¨&#125;&#x2F;&#x2F;ç”¨æ¥åˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦æœ‰CMDæ¨¡å—åŠ è½½å™¨ require FunctionåŒæ­¥åŠ è½½ 123456789define(function(require, exports) &#123; &#x2F;&#x2F; è·å–æ¨¡å— a çš„æ¥å£ var a &#x3D; require(&#39;.&#x2F;a&#39;); &#x2F;&#x2F; è°ƒç”¨æ¨¡å— a çš„æ–¹æ³• a.doSomething();&#125;); require.async Functionå¼‚æ­¥åŠ è½½ 1234567891011121314define(function(require, exports, module) &#123; &#x2F;&#x2F; å¼‚æ­¥åŠ è½½ä¸€ä¸ªæ¨¡å—ï¼Œåœ¨åŠ è½½å®Œæˆæ—¶ï¼Œæ‰§è¡Œå›è°ƒ require.async(&#39;.&#x2F;b&#39;, function(b) &#123; b.doSomething(); &#125;); &#x2F;&#x2F; å¼‚æ­¥åŠ è½½å¤šä¸ªæ¨¡å—ï¼Œåœ¨åŠ è½½å®Œæˆæ—¶ï¼Œæ‰§è¡Œå›è°ƒ require.async([&#39;.&#x2F;c&#39;, &#39;.&#x2F;d&#39;], function(c, d) &#123; c.doSomething(); d.doSomething(); &#125;);&#125;); require.resolveè¿”å›è§£æåçš„ç»å¯¹è·¯å¾„ exprotsreturn Objectï¼Œå¯¹å¤–æä¾›æ¥å£ 1234567891011121314151617181920212223242526define(function(require, exports) &#123; &#x2F;&#x2F; å¯¹å¤–æä¾› foo å±æ€§ exports.foo &#x3D; &#39;bar&#39;; &#x2F;&#x2F; å¯¹å¤–æä¾› doSomething æ–¹æ³• exports.doSomething &#x3D; function() &#123;&#125;;&#125;);retrunå¯ä»¥å®ç°åŒç­‰æ•ˆæœdefine(function(require) &#123; &#x2F;&#x2F; é€šè¿‡ return ç›´æ¥æä¾›æ¥å£ return &#123; foo: &#39;bar&#39;, doSomething: function() &#123;&#125; &#125;;&#125;);ä»¥åŠä¸ªäººä¸å¤ªå–œæ¬¢çš„ç¼©ç•¥å†™æ³•define(&#123; foo: &#39;bar&#39;, doSomething: function() &#123;&#125;&#125;); ä½†ä»¥ä¸‹å†™æ³•æ˜¯é”™è¯¯çš„ 123456789define(function(require, exports) &#123; &#x2F;&#x2F; é”™è¯¯ç”¨æ³•ï¼ï¼! exports &#x3D; &#123; foo: &#39;bar&#39;, doSomething: function() &#123;&#125; &#125;;&#125;); exports ä»…ä»…æ˜¯ module.exports çš„ä¸€ä¸ªå¼•ç”¨ã€‚åœ¨ factory å†…éƒ¨ç»™ exports é‡æ–°èµ‹å€¼æ—¶ï¼Œå¹¶ä¸ä¼šæ”¹å˜ module.exports çš„å€¼ã€‚å› æ­¤ç»™ exports èµ‹å€¼æ˜¯æ— æ•ˆçš„ï¼Œä¸èƒ½ç”¨æ¥æ›´æ”¹æ¨¡å—æ¥å£ã€‚ æˆ‘è¯´å¥ç®€å•çš„è¯ï¼šexportså’Œmodule.exportsï¼Œéƒ½æ˜¯åœ°å€ï¼ŒæŒ‡å‘åŒä¸€ä¸ªå†…å®¹ï¼Œå¦‚æœä½ ç»™exportsèµ‹å€¼äº†ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä»–æŒ‡å‘çš„å†…å®¹å°±å®Œå…¨å˜äº†ï¼Œå’Œmodule.exprotså°±æŒ‡å‘ä¸æ˜¯åŒä¸€ä¸ªåœ°æ–¹äº† modulemodeuleæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå­˜å‚¨ä¸å½“å‰æ¨¡å—ç›¸å…³è”çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼Œé»˜è®¤ä¸º{} module:function module.id:Stringæ¨¡å—æ ‡è¯† module.urlï¼šStringè¿”å›ç»å¯¹è·¯å¾„ï¼ˆé»˜è®¤id=urlï¼Œé™¤éæ‰‹å†™idï¼‰ module.dependencies:Arrayæ¨¡å—ä¾èµ– module.export:Object å¤§éƒ¨åˆ†æƒ…å†µä¸‹å’Œexportsé€šç”¨ï¼Œä½†å¦‚æœæ¨¡å—æ˜¯ä¸€ä¸ªç±»ï¼Œå°±åº”è¯¥ç›´æ¥èµ‹å€¼ç»™module.exportsï¼Œè¿™æ ·è°ƒç”¨å°±æ˜¯ä¸€ä¸ªç±»çš„æ„é€ å™¨ï¼Œå¯ä»¥ç›´æ¥newå®ä¾‹ 12345678module.exports&#x3D;new Person();const p &#x3D; require(.&#x2F;xxx.js);p.say();&#x2F;&#x2F;orexports.p &#x3D; new Person();const &#123;p&#125; &#x3D; require(.&#x2F;xxxjs);p.say();","raw":null,"content":null,"categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://zehai.info/categories/JavaScript/"}],"tags":[{"name":"other","slug":"other","permalink":"http://zehai.info/tags/other/"}]},{"title":"Construct Binary Tree from Preorder and Inorder Traversal","slug":"2020-03-08-Construct Binary Tree from Preorder and Inorder Traversal","date":"2020-03-08T03:31:16.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/03/08/2020-03-08-Construct Binary Tree from Preorder and Inorder Traversal/","link":"","permalink":"http://zehai.info/2020/03/08/2020-03-08-Construct%20Binary%20Tree%20from%20Preorder%20and%20Inorder%20Traversal/","excerpt":"","text":"Problem105Given preorder and inorder traversal of a tree, construct the binary tree. Note:You may assume that duplicates do not exist in the tree. For example, given 12preorder &#x3D; [3,9,20,15,7]inorder &#x3D; [9,3,15,20,7] Return the following binary tree: 12345 3 &#x2F; \\9 20 &#x2F; \\ 15 7 key é¢˜ç›®æ˜¯ä¸€ä¸ªæ ¹æ®å‰åºä¸­åºï¼Œç”ŸæˆäºŒå‰æ ‘çš„é¢˜ç›® å‰åºéå†æœ‰ä¸ªç‰¹ç‚¹ï¼šæ ¹èŠ‚ç‚¹åœ¨å‰é¢ï¼Œroot -left-right åˆ™éå†åˆ°3ä½œä¸ºrootï¼Œæ ¹æ®ä¸­åºå¯ä»¥çŸ¥é“å·¦å­æ ‘æ˜¯9ï¼Œå³å­æ ‘æ˜¯15 20 7 ç„¶åéå†9ä½œä¸ºrootï¼Œæ ¹æ®ä¸­åºå¾—åˆ°æ²¡æœ‰å·¦å­æ ‘ï¼Œæ²¡æœ‰å³å­æ ‘ ç„¶åéå†20ä½œä¸ºrootï¼Œä¾æ¬¡ç±»æ¨å¯ä»¥å¾—åˆ° 123TreeNode root &#x3D; new TreeNode(rootVal);root.left &#x3D; buildTree(pre, preStart+1, preStart+len, in, inStart, rootIndex-1);root.right &#x3D; buildTree(pre, preStart+len+1, preEnd, in, rootIndex+1, inEnd); å…¶ä¸­insortæ¯”è¾ƒå¥½ç†è§£ï¼Œç¡®å®šrootå å·¦å­æ ‘åœ¨inStart, rootIndex-1ä¹‹é—´ å³å­æ ‘åœ¨rootIndex+1, inEndä¹‹é—´ å¯¹äºpresort int len = rootIndex - inStart;è·å¾—rootçš„å·¦å­æ ‘é•¿åº¦ï¼ˆæ ¹æ®ä¸­åºè·å–rootIndexï¼‰ å·¦å­æ ‘åœ¨preStart+1, preStart+lenä¹‹é—´ å³å­æ ‘åœ¨preStart+len+1, preEndä¹‹é—´ Solution12345678910111213141516171819202122232425262728293031323334/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public TreeNode buildTree(int[] preorder, int[] inorder) &#123; return buildTree(preorder, 0, preorder.length-1, inorder, 0, inorder.length-1); &#125; public TreeNode buildTree(int[] pre, int preStart, int preEnd, int[] in, int inStart, int inEnd)&#123; if(inStart &gt; inEnd || preStart &gt; preEnd) return null; int rootVal = pre[preStart]; int rootIndex = 0; for(int i = inStart; i &lt;= inEnd; i++)&#123; if(in[i] == rootVal)&#123; rootIndex = i; break; &#125; &#125; int len = rootIndex - inStart; TreeNode root = new TreeNode(rootVal); root.left = buildTree(pre, preStart+1, preStart+len, in, inStart, rootIndex-1); root.right = buildTree(pre, preStart+len+1, preEnd, in, rootIndex+1, inEnd); return root; &#125;&#125; tipå‚è€ƒäºç™¾åº¦ï¼Œåœ¨é€’å½’æ¡ä»¶ä¹±äº†","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"BinaryTreeInorderTraversal","slug":"2020-03-06-BinaryTreeInorderTraversal","date":"2020-03-06T03:55:16.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/03/06/2020-03-06-BinaryTreeInorderTraversal/","link":"","permalink":"http://zehai.info/2020/03/06/2020-03-06-BinaryTreeInorderTraversal/","excerpt":"","text":"Problem94Given a binary tree, return the inorder traversal of its nodesâ€™ values. ç»™å®šä¸€äºŒå‰æ ‘ï¼Œä¸­åºéå†è¾“å‡º ps:preorder,inorder,postorderï¼Œå‰ä¸­å Keyrecursive approachåˆ©ç”¨é€’å½’è§£å†³Bæ ‘çš„éå†é—®é¢˜ï¼Œè¿™ç§é—®é¢˜çš„ä»£ç å…¶å®å¤§åŒå°å¼‚ï¼Œå‰ä¸­åçš„éå†è¾“å‡ºï¼Œåªéœ€è¦è°ƒæ•´é€’å½’éƒ¨åˆ†å³å¯ 12345678910111213141516171819202122232425262728//preorderpublic void preorder(node t) if (t != null) &#123; System.out.print(t.value + &quot; &quot;); preorder(t.left); preorder(t.right); &#125;&#125;//inorderpublic void inorder(node t)&#123; if (t != null) &#123; inorder(t.left); System.out.print(t.value + &quot; &quot;); inorder(t.right); &#125;&#125;//postorderpublic void postorder(node t)&#123; if (t != null) &#123; postorder(t.left); postorder(t.right); System.out.print(t.value + &quot; &quot;); &#125;&#125;//leverorder Solution Runtime: 0 ms, faster than 100.00% of Java online submissions for Binary Tree Inorder Traversal. Memory Usage: 37.9 MB, less than 5.11% of Java online submissions for Binary Tree Inorder Traversal. 1234567891011121314151617181920212223/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public List&lt;Integer&gt; inorderTraversal(TreeNode root) &#123; List &lt; Integer &gt; res = new ArrayList &lt; &gt; (); inorder(root, res); return res; &#125; public void inorder(TreeNode root, List &lt; Integer &gt; res) &#123; if (root != null) &#123; inorder(root.left, res); res.add(root.val); inorder(root.right, res); &#125; &#125;&#125; Complexity Analysis Time complexity : O(n)O(n). The time complexity is O(n)O(n) because the recursive function is T(n) = 2 \\cdot T(n/2)+1T(n)=2â‹…T(n/2)+1. Space complexity : The worst case space required is O(n)O(n), and in the average case itâ€™s O(\\log n)O(logn) where nn is number of nodes. stacksolutionè¿˜æä¾›äº†å¦å¤–ä¸€ç§æ–¹æ³•é€šè¿‡stack popçš„æ–¹å¼æ¥å®Œæˆï¼š https://leetcode.com/problems/binary-tree-inorder-traversal/solution/ MorrisåŒä¸Š","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"2020-03-05-hexoNexTv7.7.2","slug":"2020-03-05-hexoNexTv7-7-2","date":"2020-03-05T06:42:08.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/03/05/2020-03-05-hexoNexTv7-7-2/","link":"","permalink":"http://zehai.info/2020/03/05/2020-03-05-hexoNexTv7-7-2/","excerpt":"","text":"I find hexoâ€™s theme:nexT v7.7.2 has some new features native dark modewe can set 1darkmode:true to open native dark mode and there are other features like support MathJax v3.0,we use $$ add next_config helper how to update newest version1.git clone https://github.com/theme-next/hexo-theme-next themes/next or in releases to download newest source code 2.copy file to hexo/theme/ such as : /themes/hexo-theme-next-7.7.2/ 3.open hexoâ€™s _config.yml,and change themeâ€™s value to hexo-theme-next-7.7.2 and u change your them successfully 4.update /themes/hexo-theme-next-7.7.2/_config.yml Last , u can create new post to log your daily life 1yarn upgrade caniuse-lite browserslist and these days ,zehai.info ,may Expired ,sad","raw":null,"content":null,"categories":[{"name":"others","slug":"others","permalink":"http://zehai.info/categories/others/"}],"tags":[{"name":"NexT","slug":"NexT","permalink":"http://zehai.info/tags/NexT/"}]},{"title":"2020-02-28-å…³äºä»Šå¤©çš„ä¸€äº›æ€è€ƒ","slug":"2020-02-28-å…³äºä»Šå¤©çš„ä¸€äº›æ€è€ƒ","date":"2020-02-28T14:28:37.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/02/28/2020-02-28-å…³äºä»Šå¤©çš„ä¸€äº›æ€è€ƒ/","link":"","permalink":"http://zehai.info/2020/02/28/2020-02-28-%E5%85%B3%E4%BA%8E%E4%BB%8A%E5%A4%A9%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/","excerpt":"","text":"ä»Šå¤©ç¡®å®å‘ç”Ÿäº†ä¸€äº›äº‹æƒ…ï¼Œé¿ä¹‹ä¸è°ˆ è®©æˆ‘æƒ³èµ·æ¥äº†ä¹‹å‰æˆ‘åœ¨bilié‡åˆ°çš„ä¸€ä»¶äº‹æƒ…ï¼Œä¸€ä¸ªupä¸»ç™Œç—‡ï¼Œè‡ªå·±ç»æµèƒ½åŠ›ä¸æ˜¯å¾ˆå¥½ï¼Œæ‹äº†ä¸€äº›å¾ˆç²—ç³™ï¼Œæ²¡æœ‰å‰ªè¾‘è¿‡çš„è§†é¢‘ï¼Œå¤§æ„äº¤ä»£äº†è‡ªå·±å¾—ç—…ï¼Œæ²¡æœ‰é’±ï¼Œæ‹äº†ç—…å†æœ¬ï¼ŒåŒ–éªŒå•ï¼Œå¸Œæœ›å¤§å®¶æœ‰èƒ½åŠ›çš„æä¸€ç‚¹ï¼Œåæ¥upå¤§æ¦‚æ˜¯æ‹¿åˆ°äº†ä¸€éƒ¨åˆ†é’±ï¼Œå…·ä½“å¤šå°‘æˆ‘ä¸å¤ªæ¸…æ¥šï¼Œåæ¥ä¸çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆï¼Œç”»é£å¼€å§‹è½¬å˜ upè§†é¢‘çš„ä¸‹é¢å‡ºç°äº†å¾ˆå¤šè¯„è®º è¯„è®ºupæœ‰ä¸¤ä¸ªæ‰‹æœºï¼Œå®¶é‡Œæœ‰é’±ï¼Œç„¶åupå°±å¯¹ç„¦ç»™å¤§å®¶çœ‹äº†ä»–çš„ä¸¤ä¸ªæ‰‹æœºï¼Œæˆ‘è®°å¾—ä¸¤ä¸ªéƒ½æ˜¯çº¢ç±³ç±»ä¼¼çš„ä¾¿å®œæœºå™¨ï¼Œè€Œä¸”ä¹°äº†å¾ˆä¹…äº† åæ¥åˆäººè¯„è®ºä»–å®¶å¤šæœ‰é’±ï¼Œç„¶åupå°±æ‹ä¸‹äº†å›å®¶å’Œå¥¶å¥¶åœ¨ä¸€èµ·çš„åœºé¢ï¼ˆå½“æ—¶å·²ç»æ²¡é’±ä½é™¢ï¼Œå°±å›å®¶ç­¹é’±æ¢åŒ»é™¢è¯•è¯•ï¼‰ åæ¥åˆæœ‰äººè¯„è®ºupä¸»æ ¹æœ¬å°±æ²¡ç—…ï¼Œå‡ºæ¥éª—äººé’±ï¼Œupå°±æ‹è§†é¢‘ç»™äººçœ‹æ²»ç–—è¿‡ç¨‹ä¸­çš„ç—…å†ï¼ŒåŒ–éªŒå•ï¼Œè‡³å°‘æˆ‘çœ‹ä¸å‡ºæ¥é€ å‡çš„è¯æ® åæ¥upå‡ºé™¢äº†ï¼Œä¹°äº†å¼ è½¦ç¥¨å›å®¶ï¼Œå’Œä¸€ä¸ªæœˆå‰ç›¸æ¯”å¤´å‘æ‰äº†å¾ˆå¤šï¼Œå¼¹å¹•é‡Œé¢å„ç§è´¨ç–‘ï¼Œè¯„è®ºé‡Œé¢ä¸€ç‰‡è´¨ç–‘ï¼Œ äº²èº«ç»å†ï¼Œç¯é¡¾æ•´ä¸ªè¿‡ç¨‹ï¼Œæˆ‘æ²¡æœ‰ç»™upæèµ ä¸€åˆ†é’±ï¼Œä¹Ÿæ²¡æœ‰ç»™äºˆä»–ä»»ä½•å¸®åŠ©ï¼Œå°±çœ‹äº†ä»–æ•´ä¸ªç”Ÿç—…çš„è¿‡ç¨‹ï¼Œä»å¼€å§‹çš„åŠ æ²¹ï¼Œå˜æˆäº†ä¸€ä¸ªâ€˜éª—å­â€™ï¼Œäººä»¬å­˜åœ¨äºç½‘ç»œä¹‹åï¼Œç¡®å®å¯ä»¥å‘è¡¨è‡ªå·±å¯¹äºä¸€ä»¶äº‹æƒ…çš„çœ‹æ³•ï¼Œæˆ‘æƒ³æˆ‘å¦‚æœæ˜¯é‚£ä¸ªupï¼Œæ·±é™·å…¶ä¸­ä¸€å®šå¾ˆæ— å¥ˆ é™ˆè¿°ç»“æŸ æœ€åç–«æƒ…ä¸€å®šä¼šè¿‡å»çš„","raw":null,"content":null,"categories":[],"tags":[]},{"title":"2020-02-28-JSç›¸å…³æŠ€æœ¯åè¯","slug":"2020-02-28-JSç›¸å…³æŠ€æœ¯åè¯","date":"2020-02-28T12:07:43.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/02/28/2020-02-28-JSç›¸å…³æŠ€æœ¯åè¯/","link":"","permalink":"http://zehai.info/2020/02/28/2020-02-28-JS%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E5%90%8D%E8%AF%8D/","excerpt":"","text":"ä»Šå¤©ä¸­åˆæœ‰æ”¶åˆ°Eggå›¢é˜Ÿå…¬å¼€çš„æ–‡ä»¶è°ƒæŸ¥ï¼ŒæåŠäº†å¾ˆå¤šæŠ€æœ¯åè¯ï¼Œè™½ç„¶ä¸ä¸€å®šç”¨åˆ°ï¼Œä½†æˆ‘ä¹Ÿè§‰å¾—åˆ—ä¸¾å‡ºæ¥ä¼šæ–¹ä¾¿å¤§å®¶äº†è§£å’Œæ¯”è¾ƒï¼Œåç»­å¯èƒ½æ›´æ–°æˆ‘ç”¨è¿‡çš„éƒ¨åˆ† ä»£ç æ£€æŸ¥å·¥å…· ESLint JSCS JSHint JSDoc Standard TSLint Flow å¼•å…¥ç›®çš„ï¼šè§„èŒƒä»£ç  ESLint é€šè¿‡extendç»§æ‰¿æŸä¸€ä¸ªå¤§ç±»ï¼Œç„¶åé…ç½®rulesæ¥è¿›è¡Œä»£ç è§„èŒƒ JSCS JSHint JSDoc Standard TSLint Flow ä½¿ç”¨æ„Ÿå—è§£å†³äº†ä»¥ä¸‹é—®é¢˜ nodeæ˜¯ä¸€é—¨å¼±è¯­è¨€ï¼Œè¿›è¡Œæ ¡éªŒï¼ˆéå˜é‡ç±»å‹æ ¡éªŒï¼Œä»…æ ¡éªŒå˜é‡æ˜¯å¦å£°æ˜ï¼Œæ˜¯å¦å¯æ”¹ç­‰ï¼‰ nodeåœ¨use strictæ¨¡å¼ä¸‹ï¼Œeslintå¯ä»¥æ ¡éªŒ å›¢é˜Ÿåˆä½œï¼Œé˜²æ­¢é˜Ÿå‹æŒ–å‘ å…¶å®ESLintåªæ˜¯ä¸€ç§è¯­æ³•æ ¡éªŒï¼Œæ›´å¤šçš„è¿˜æœ‰æµç¨‹ä¸Šçš„è§„èŒƒï¼Œå°±åƒç½‘ä¼ é˜¿é‡Œçš„å¼€å‘è§„èŒƒä¸€æ ·ï¼Œå°±å¥½æ¯”nodeä¸­ä½ å¯ä»¥ç”¨ç±»çš„è¯­æ³•ç³–ï¼Œä¹Ÿå¯ä»¥ç”¨åŸå‹ï¼Œå½“ä¸€ä»¶äº‹æƒ…æœ‰å¤šç§å®ç°æ–¹å¼æ—¶ï¼Œéœ€è¦è§„èŒƒæ¥é€‰æ‹©ä¸€ä¸ªæ™®éå…¬ç”¨çš„ï¼Œæ˜“ç»´æŠ¤ï¼Œæ˜“æ‰©å±•çš„æ–¹æ¡ˆ é™¤å»è¯­æ³•æ ¡éªŒï¼Œè¿˜æœ‰TSçš„ç±»å‹æ ¡éªŒï¼Œæ¯”å¦‚GITçš„åˆ†æ”¯è§„èŒƒï¼Œå¦‚master,staging,backup,develop,other branch è½¬ä¹‰è¯­è¨€ TS ClojureScript CoffeeScript Dart Elm Scala.js Haxe Nim PureScript Reason è½¬ç§»è¯­è¨€æ˜¯2019å¹´èŠçš„æ¯”è¾ƒå¤šçš„ï¼Œè§£å†³é—®é¢˜ï¼š ç±»å‹æ ¡éªŒï¼Œèƒ½å¤Ÿå¾ˆå¥½è§£å†³JSå¼€å‘ä¸­ï¼Œä½ ä¸çŸ¥é“è¿™ä¸ªobjecté‡Œé¢æœ‰ä»€ä¹ˆkeyï¼Œæˆ–è€…æŸä¸ªå¯¹è±¡é‡Œé¢æœ‰ä»€ä¹ˆæ–¹æ³•ï¼ˆegg.jså®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œctx.service.v1.handlexxx()å°±ctrlè·³è½¬ä¸äº†ï¼Œä¹Ÿä¸ä¼šæœ‰æç¤ºï¼‰ WEBæ¡†æ¶ Express Koa Egg Nest.js Next.js Fastify.js Hapi.js Restify.js Loopback.io Sails.js Midway.js é¢è¯•å¸¸è¢«é—®åˆ°æ¡†æ¶çš„é—®é¢˜ï¼Œå› ä¸ºå¾ˆå¤šå…¬å¸ä¸ä¼šå°†é¡¹ç›®æ­å»ºåœ¨åŸç”Ÿçš„nodeæœåŠ¡ä¸Š ç¼ºå°‘çº¦æŸï¼Œåˆä½œæ¨¡å¼ä¸‹ï¼Œä¸ªäººæœ‰ä¸ªäººçš„é£æ ¼ é¡¹ç›®é…ç½®ç¹çï¼Œå¾ˆå¤šä¸œè¥¿é…ç½®é›¶æ•£å †æ”¾ é‡å¤é€ è½®å­ï¼Œæ¡†æ¶æä¾›è¾ƒå¥½çš„è½®å­ å®‰å…¨äº‹å®œï¼Œæ¡†æ¶å¤„ç† etc ä¸€ä¸ªå¥½çš„æ¡†æ¶äº‹åŠåŠŸå€ï¼Œexpressæ˜¯ä¸€ä¸ªéå¸¸è½»é‡çš„æ¡†æ¶ fast unopinionated(å¹²å‡€çš„) minimalist Eggæ˜¯ä¸€ä¸ªä¼ä¸šçº§æ¡†æ¶ï¼Œçº¦å®šå¤§äºé…ç½® Provide capability to customizd framework base on Eggï¼ˆå¯æ‰©å±•ï¼‰ Highly extensible plugin mechanismï¼ˆæ’ä»¶ç‰›é€¼ï¼‰ Built-in clusterï¼ˆå¤šè¿›ç¨‹ç‰›é€¼ï¼‰ Based on Koa with high performanceï¼ˆä¼ä¸šçº§åˆ«æ€§èƒ½ä¼˜å¼‚ï¼‰ Stable core framework with high test coverageï¼ˆç¨³å®šï¼‰ Progressive developmentï¼ˆä¸šåŠ¡è¿­ä»£ï¼Œä»£ç å¯ä»¥æ¸è¿›ç»§æ‰¿ï¼‰ æ•°æ®åº“ MySQL PostgreSql Redis MongoDB SQL Server SQLLite influxdb HBASE TiDB Oracle DB2 æ•°æ®åº“æ˜¯ä»…æ­¤äºè¯­è¨€æœ¬èº«ï¼Œå¦å¤–çš„è€ƒç‚¹äº†ï¼Œå› ä¸ºæ²¡æœ‰ä¸€ä¸ªæœåŠ¡ä¸æ¶‰çŒå­˜å‚¨ï¼Œè€Œæ•°æ®åº“ä½œä¸ºç³»ç»Ÿçš„æ•°æ®åŸºç¡€ï¼Œä¸ä»…é‡è¦ä¹Ÿæˆä¸ºäº†é¢è¯•çš„é‡ç‚¹ mysqlç­‰å…³ç³»å‹æ•°æ®åº“ï¼ŒèŒƒå¼ï¼Œäº‹åŠ¡ï¼Œinnodbï¼Œè¯»å†™åˆ†ç¦»ï¼Œåˆ†è¡¨ Mongo,Redisç­‰éå…³ç³»å‹æ•°æ®åŸºç¡€ç±»å‹ï¼Œèšåˆç­‰ åå‘ä»£ç† Nginx Tomcat [ ] Apache è§£å†³è´Ÿè½½å‡è¡¡ é¢„å¤„ç†ä¸€äº›è¯·æ±‚ï¼Œå¦‚è¿‡æ»¤é‡å¤è¯·æ±‚ è¿›ç¨‹ç®¡ç† Docker PM2 forever naught node-supervisor Supervisord(Unix) dockeré›†å¤§æˆè€…ï¼Œåœ¨å¾®æœåŠ¡ç­‰åœºæ™¯åº”ç”¨è¾ƒå¤š RPCæ–¹å¼ HTTP Thrift gRPC dubbo MQ å¼€å‘åœºæ™¯ æœåŠ¡ç«¯API SSRåº”ç”¨ Proxyå±‚ BFFå±‚ ä»£ç ç‰‡æ®µï¼Œå¦‚Sparkä»£ç ç‰‡æ®µ CLI &amp; å·¥å…· tips","raw":null,"content":null,"categories":[],"tags":[{"name":"List","slug":"List","permalink":"http://zehai.info/tags/List/"}]},{"title":"2020-01-31-JSè®¾è®¡æ¨¡å¼","slug":"2020-01-31-JSè®¾è®¡æ¨¡å¼","date":"2020-01-31T08:39:11.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/31/2020-01-31-JSè®¾è®¡æ¨¡å¼/","link":"","permalink":"http://zehai.info/2020/01/31/2020-01-31-JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","excerpt":"","text":"æ¨¡å¼å…±è®¡å…«ç§ï¼š å•ä¾‹æ¨¡å¼ æ„é€ å™¨æ¨¡å¼ å»ºé€ è€…æ¨¡å¼ ä»£ç†æ¨¡å¼ å¤–è§‚æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ ç­–ç•¥æ¨¡å¼ è¿­ä»£å™¨æ¨¡å¼ è®¾è®¡æ¨¡å¼çš„æå‡ºï¼Œä¸ºäº†æ›´å¥½çš„è§£è€¦ï¼Œå¯æ‹“å±•ï¼ŒæœåŠ¡å¯é ï¼Œä¸é™å®šæŸç§è¯­è¨€çš„å®ç° å•ä¾‹æ¨¡å¼æ¦‚å¿µä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¦‚æœå­˜åœ¨å°±ä¸å®ä¾‹åŒ–ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™newï¼Œä»¥ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ ä½œç”¨ æ¨¡å—é—´é€šä¿¡ ä¿è¯æŸä¸ªç±»çš„å¯¹è±¡çš„å”¯ä¸€æ€§ é˜²æ­¢å˜é‡æ±¡æŸ“ æ³¨æ„ thisçš„ä½¿ç”¨ é—­åŒ…å®¹æ˜“stack over flowéœ€è¦åŠæ—¶æ¸…ç† åˆ›å»ºæ–°å¯¹è±¡æˆæœ¬è¾ƒé«˜ å®é™…æ¡ˆä¾‹å¦‚ç½‘ç«™çš„è®¡æ•°å™¨ï¼Œå¤šçº¿ç¨‹çš„çº¿ç¨‹æ±  1234567891011121314151617181920212223242526(function()&#123; // å…»é±¼æ¸¸æˆ let fish = null function catchFish() &#123; // å¦‚æœé±¼å­˜åœ¨,åˆ™ç›´æ¥è¿”å› if(fish) &#123; return fish &#125;else &#123; // å¦‚æœé±¼ä¸å­˜åœ¨,åˆ™è·å–é±¼å†è¿”å› fish = document.querySelector(&#x27;#cat&#x27;) return &#123; fish, water: function() &#123; let water = this.fish.getAttribute(&#x27;weight&#x27;) this.fish.setAttribute(&#x27;weight&#x27;, ++water) &#125; &#125; &#125; &#125; // æ¯éš”3å°æ—¶å–‚ä¸€æ¬¡æ°´ setInterval(() =&gt; &#123; catchFish().water() &#125;, 3*60*60*1000)&#125;)() æ„é€ å™¨æ¨¡å¼","raw":null,"content":null,"categories":[],"tags":[]},{"title":"2020-01-31-RomanToInteger","slug":"2020-01-31-RomanToInteger","date":"2020-01-31T03:17:45.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/31/2020-01-31-RomanToInteger/","link":"","permalink":"http://zehai.info/2020/01/31/2020-01-31-RomanToInteger/","excerpt":"","text":"Leetcode13Roman numerals are represented by seven different symbols: I, V, X, L, C, D and M. Symbol ValueI 1V 5X 10L 50C 100D 500M 1000For example, two is written as II in Roman numeral, just two oneâ€™s added together. Twelve is written as, XII, which is simply X + II. The number twenty seven is written as XXVII, which is XX + V + II. Roman numerals are usually written largest to smallest from left to right. However, the numeral for four is not IIII. Instead, the number four is written as IV. Because the one is before the five we subtract it making four. The same principle applies to the number nine, which is written as IX. There are six instances where subtraction is used: I can be placed before V (5) and X (10) to make 4 and 9.X can be placed before L (50) and C (100) to make 40 and 90.C can be placed before D (500) and M (1000) to make 400 and 900.Given a roman numeral, convert it to an integer. Input is guaranteed to be within the range from 1 to 3999. Example 1: Input: â€œIIIâ€Output: 3Example 2: Input: â€œIVâ€Output: 4Example 3: Input: â€œIXâ€Output: 9Example 4: Input: â€œLVIIIâ€Output: 58Explanation: L = 50, V= 5, III = 3.Example 5: Input: â€œMCMXCIVâ€Output: 1994Explanation: M = 1000, CM = 900, XC = 90 and IV = 4. Solutioné¢˜ç›®æ„æ€å…¶å®å¾ˆç®€å•ï¼ŒæŒæ¡äº†è®¡ç®—æ–¹æ³•å…¶å®å¾ˆç®€å• 1234567891011121314151617181920212223242526272829303132333435363738class Solution &#123; public int romanToInt(String s) &#123; int nums[]=new int[s.length()]; for(int i=0;i&lt;s.length();i++)&#123; switch (s.charAt(i))&#123; case &#x27;M&#x27;: nums[i]=1000; break; case &#x27;D&#x27;: nums[i]=500; break; case &#x27;C&#x27;: nums[i]=100; break; case &#x27;L&#x27;: nums[i]=50; break; case &#x27;X&#x27; : nums[i]=10; break; case &#x27;V&#x27;: nums[i]=5; break; case &#x27;I&#x27;: nums[i]=1; break; &#125; &#125; int sum=0; for(int i=0;i&lt;nums.length-1;i++)&#123; if(nums[i]&lt;nums[i+1]) sum-=nums[i]; else sum+=nums[i]; &#125; return sum+nums[nums.length-1]; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Easy","slug":"Easy","permalink":"http://zehai.info/tags/Easy/"}]},{"title":"2020-01-31-å†…ç½‘ç©¿é€","slug":"2020-01-31-å†…ç½‘ç©¿é€","date":"2020-01-31T02:16:51.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/31/2020-01-31-å†…ç½‘ç©¿é€/","link":"","permalink":"http://zehai.info/2020/01/31/2020-01-31-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/","excerpt":"","text":"whyè§£å†³å…¬ç½‘è®¿é—®è‡ªå·±çš„å†…ç½‘è®¾å¤‡ï¼ˆå¤§éƒ¨åˆ†å…¬å¸ï¼Œå°åŒºéƒ½æ˜¯åœ¨å†…ç½‘ä¸­ï¼ŒIPv4å†å²åŸå› å¯¼è‡´ï¼‰ï¼Œè§£å†³æ–¹æ¡ˆï¼š è·¯ç”±å™¨æ–°å¢ç«¯å£æ˜ å°„ èŠ±ç”Ÿå£³åŠ¨æ€è§£æè½¯ä»¶ natappç­‰å…è´¹è½¯ä»¶æä¾›çš„å†…ç½‘æ˜ å°„æœåŠ¡ åŸºäºngrokï¼ˆä¸èï¼‰æˆ–è€…frpè‡ªå»ºå†…ç½‘æ˜ å°„æœåŠ¡ howç›®å‰æ¨èä½¿ç”¨frpæ­å»ºç©¿é€æœåŠ¡ï¼Œæ”¯æŒHTTPï¼ŒSSH,TCP UDP FTP","raw":null,"content":null,"categories":[],"tags":[]},{"title":"2020-01-18-plugins","slug":"2020-01-18-plugins","date":"2020-01-18T15:58:31.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/18/2020-01-18-plugins/","link":"","permalink":"http://zehai.info/2020/01/18/2020-01-18-plugins/","excerpt":"","text":"æœ€è¿‘æ›´æ–°hexoæ¯”è¾ƒé¢‘ç¹ï¼Œå‘ç°é¢‘ç¹æ€§çš„æ¨é€masteråˆ†æ”¯ä»¥åŠsourceæºæ–‡ä»¶å¤‡ä»½ï¼Œæ¯”è¾ƒç¹çï¼ŒæŸ¥è¯¢äº†å®˜æ–¹æ–‡æ¡£ï¼Œå¯ä»¥å†™ä¸€äº›ç›‘å¬å‡½æ•°ï¼Œå®ç°ä¸€äº›è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œhexoé»˜è®¤å°†è„šæœ¬æ”¾ç½®åœ¨scriptsæ–‡ä»¶å¤¹ä¸‹ï¼Œä»¥ä¸‹ä»£ç å¯ä»¥åœ¨hexo newçš„æ—¶å€™è‡ªåŠ¨æ‰“å¼€é»˜è®¤ç¼–è¾‘è½¯ä»¶ 12345var spawn &#x3D; require(&#39;child_process&#39;).exec;hexo.on(&#39;new&#39;, function(data)&#123; spawn(&#39;start &quot;markdownç¼–è¾‘å™¨ç»å¯¹è·¯å¾„.exe&quot; &#39; + data.path);&#125;); éå¸¸çš„æ–¹ä¾¿ï¼Œçœå»äº†æˆ‘æ‰“å¼€typoraçš„æ—¶é—´ ä»¥åŠä»¥ä¸‹çš„ä»£ç å¯ä»¥å®ç°è‡ªåŠ¨éƒ¨ç½²sourceåˆ†æ”¯ 123456789101112131415161718192021222324252627282930313233343536require(&#39;shelljs&#x2F;global&#39;);&#x2F;&#x2F;è®°å¾—å®‰è£…åŒ…try &#123; hexo.on(&#39;deployAfter&#39;, function() &#123;&#x2F;&#x2F;å½“deployå®Œæˆåæ‰§è¡Œå¤‡ä»½ run(); &#125;);&#125; catch (e) &#123; console.log(&quot;You make a wrongï¼š&quot; + e.toString());&#125;function run() &#123; if (!which(&#39;git&#39;)) &#123; echo(&#39;Sorry, this script requires git&#39;); exit(1); &#125; else &#123; echo(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;Auto Backup Begin&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;); cd(&#39;.&#x2F;&#39;); if (exec(&#39;git add --all&#39;).code !&#x3D;&#x3D; 0) &#123; echo(&#39;Error: Git add failed&#39;); exit(1); &#125; if (exec(&#39;git commit -am &quot;Form auto backup script\\&#39;s commit&quot;&#39;).code !&#x3D;&#x3D; 0) &#123; echo(&#39;Error: Git commit failed&#39;); exit(1); &#125; if (exec(&#39;git push origin source&#39;).code !&#x3D;&#x3D; 0) &#123; echo(&#39;Error: Git push failed&#39;); exit(1); &#125; echo(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;Auto Backup Complete&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;) &#125;&#125; å‚è€ƒæ–‡çŒ®https://hexo.io/zh-cn/docs/plugins#%E5%B7%A5%E5%85%B7","raw":null,"content":null,"categories":[],"tags":[]},{"title":"2020-01-17-ImplementStr","slug":"2020-01-17-ImplementStr","date":"2020-01-17T10:25:30.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/17/2020-01-17-ImplementStr/","link":"","permalink":"http://zehai.info/2020/01/17/2020-01-17-ImplementStr/","excerpt":"","text":"LeetCode28Implement strStr(). Return the index of the first occurrence of needle in haystack, or -1 if needle is not part of haystack. Example 1: Input: haystack = â€œhelloâ€, needle = â€œllâ€Output: 2Example 2: Input: haystack = â€œaaaaaâ€, needle = â€œbbaâ€Output: -1Clarification: What should we return when needle is an empty string? This is a great question to ask during an interview. For the purpose of this problem, we will return 0 when needle is an empty string. This is consistent to Câ€™s strstr() and Javaâ€™s indexOf(). Solutionå¦‚æœä¸è€ƒè™‘javaå·æ‡’çš„å†™æ³•å½“ç„¶å¯ä»¥æƒ³åˆ°indexofçš„æƒ³æ³•123456class Solution &#123; public int strStr(String haystack, String needle) &#123; return haystack.indexOf(needle); &#125;&#125;Runtime: 1 mså…ˆæŒ‰ç…§é¢˜æ„å†™äº†å¦‚ä¸‹ä»£ç ï¼š1234567891011121314151617181920212223242526272829class Solution &#123; public int strStr(String haystack, String needle) &#123; if(needle.length()==0)return 0; if(haystack.length()==0)return -1; int index =-1; boolean flag = true; for(int i=0;i&lt;haystack.length();i++)&#123; if(haystack.charAt(i)==needle.charAt(0))&#123; flag=true; for(int j =0;j&lt;needle.length();j++)&#123; if(i+j&gt;=haystack.length())&#123; return -1; &#125; if(haystack.charAt(i+j)!=needle.charAt(j))&#123; flag=false; break; &#125;; &#125; if(flag)&#123; return i; &#125; &#125; &#125; return index; &#125;&#125;Runtime: 4 msMemory Usage: 42.7 MB","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Easy","slug":"Easy","permalink":"http://zehai.info/tags/Easy/"}]},{"title":"2020-01-15-sqrtx","slug":"2020-01-15-sqrtx","date":"2020-01-15T14:04:46.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/15/2020-01-15-sqrtx/","link":"","permalink":"http://zehai.info/2020/01/15/2020-01-15-sqrtx/","excerpt":"","text":"LeetCode-69Implement int sqrt(int x). Compute and return the square root of x, where x is guaranteed to be a non-negative integer. Since the return type is an integer, the decimal digits are truncated and only the integer part of the result is returned. Example 1: Input: 4Output: 2Example 2: Input: 8Output: 2Explanation: The square root of 8 is 2.82842â€¦, and since the decimal part is truncated, 2 is returned. Solutionå°±æ˜¯æ‰‹å†™ä¸€ä¸ªæ ¹å·æºç ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯é€šè¿‡å¹³æ–¹æ¥åš 12345678910public int mySqrt(int x) &#123; for(int i=46340;i&lt;46341;i++)&#123; if(x&gt;=(long)i*i&amp;&amp;x&lt;(long)(i+1)*(i+1))&#123; return i; &#125; &#125; return x; &#125;Runtime: 22 msMemory Usage: 34 MB å¦‚æœä¸éµå¾ªé¢˜ç›®çš„è¦æ±‚ï¼Œä½¿ç”¨Mathå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç›®æ ‡å¤§æ¦‚æ˜¯3msé™„è¿‘ 1234public int mySqrt(int x) &#123; return (int)Math.sqrt(Double.parseDouble(String.valueOf(x))); &#125;Runtime: 3 ms è§£æ³•ç²—æš´ï¼Œé‡åˆ°å¤§æ•°çš„æ—¶å€™ä¼šä»0é‡æ–°å¼€å§‹è®¡ç®—ï¼Œå¤æ‚åº¦O(N) ç¬¬ä¸€æ¬¡ä¼˜åŒ–æ€è·¯å°±æ˜¯é¿å…åšä¸¤æ¬¡ä¹˜æ³•ç„¶åå»æ¯”è¾ƒï¼Œè¿™ä¸ªåœ°æ–¹å¯ä»¥å»ä¼˜åŒ– 12345678910class Solution &#123; public int mySqrt(int x) &#123; long n &#x3D; 1; while(n * n &lt;&#x3D; x) &#123; n++; &#125; return (int) n - 1; &#125;&#125;Runtime: 11 ms ç¬¬äºŒæ¬¡ä¼˜åŒ–å¯ä»¥ä½¿ç”¨äºŒåˆ†æ³•æ¥é€æ­¥é€¼è¿‘iï¼Œæ²¡æœ‰å¿…è¦ä»1å¼€å§‹é¡ºåºéå† 12345678910111213141516171819202122class Solution &#123; public int mySqrt(int x) &#123; if (x == 0 || x == 1) return x; int left = 1; int right = x; while (left &lt; right) &#123; int midPoint = (left + right) / 2; if (midPoint == x / midPoint) &#123; return midPoint; &#125; else if (midPoint &gt; x / midPoint) &#123; right = midPoint; &#125; else if (midPoint &lt; x / midPoint) &#123; left = midPoint + 1; &#125; &#125; return left - 1; &#125;&#125;Runtime: 1 ms","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Easy","slug":"Easy","permalink":"http://zehai.info/tags/Easy/"}]},{"title":"2020-01-11-SameTree","slug":"2020-01-11-SameTree","date":"2020-01-11T07:45:18.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/11/2020-01-11-SameTree/","link":"","permalink":"http://zehai.info/2020/01/11/2020-01-11-SameTree/","excerpt":"","text":"LeetCode 10012345678910111213141516171819202122232425262728293031Given two binary trees, write a function to check if they are the same or not.Two binary trees are considered the same if they are structurally identical and the nodes have the same value.Example 1:Input: 1 1 &#x2F; \\ &#x2F; \\ 2 3 2 3 [1,2,3], [1,2,3]Output: trueExample 2:Input: 1 1 &#x2F; \\ 2 2 [1,2], [1,null,2]Output: falseExample 3:Input: 1 1 &#x2F; \\ &#x2F; \\ 2 1 1 2 [1,2,1], [1,1,2]Output: false Solutioné¢˜ç›®å…¶å®å¾ˆç®€å•çš„ä¸€ä¸ªé€’å½’Recursion,æˆ‘ä»¬å¾ˆè½»æ¾å¯ä»¥é€šè¿‡é€’å½’æ¥è§£å†³1234567891011class Solution &#123; public boolean isSameTree(TreeNode p, TreeNode q) &#123; &#x2F;&#x2F; p and q are both null if (p &#x3D;&#x3D; null &amp;&amp; q &#x3D;&#x3D; null) return true; &#x2F;&#x2F; one of p and q is null if (q &#x3D;&#x3D; null || p &#x3D;&#x3D; null) return false; if (p.val !&#x3D; q.val) return false; return isSameTree(p.right, q.right) &amp;&amp; isSameTree(p.left, q.left); &#125;&#125;æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œæ§ä»¶å¤æ‚åº¦ä¸ºO(logn)~O(n)ä¹‹é—´ï¼Œè¿™é“é¢˜å°±ä¸è€ƒè™‘å…¶ä»–è§£æ³•äº†ï¼Œrecursionç›®å‰çœ‹æ¥æ˜¯æœ€ä¼˜è§£","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"2020-01-10-MatrixZero","slug":"2020-01-10-MatrixZero","date":"2020-01-10T15:15:26.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/10/2020-01-10-MatrixZero/","link":"","permalink":"http://zehai.info/2020/01/10/2020-01-10-MatrixZero/","excerpt":"","text":"LeetCode 731234567891011121314151617181920212223242526272829303132333435Given a m x n matrix, if an element is 0, set its entire row and column to 0. Do it in-place.Example 1:Input: [ [1,1,1], [1,0,1], [1,1,1]]Output: [ [1,0,1], [0,0,0], [1,0,1]]Example 2:Input: [ [0,1,2,0], [3,4,5,2], [1,3,1,5]]Output: [ [0,0,0,0], [0,4,5,0], [0,3,1,0]]Follow up:A straight forward solution using O(mn) space is probably a bad idea.A simple improvement uses O(m + n) space, but still not the best solution.Could you devise a constant space solution? Solutionä¸€å¼€å§‹ä»¥ä¸ºé€’å½’å¯ä»¥è§£å†³ï¼Œå¯ä»¥å°†çŸ©é˜µä¸€å±‚å±‚æ‹†å¼€ï¼Œå†™ä¸‹äº†å¦‚ä¸‹çš„ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839public void setZeroes(int[][] matrix) &#123; int rows &#x3D; matrix.length-1; int cols &#x3D; matrix[0].length-1; regression(matrix, rows&gt;&#x3D;cols?cols:rows);&#125;public void regression(int[][] matrix,int index)&#123; if(index&lt;0)&#123; return; &#125; boolean flag &#x3D; false; for(int i &#x3D;index;i&lt;matrix[0].length;i++)&#123; if(matrix[index][i]&#x3D;&#x3D;0) &#123; handleZero(matrix,i); flag&#x3D;true; break; &#125; &#125; if(flag&#x3D;&#x3D;false)&#123; for(int j &#x3D;index;j&lt;matrix.length;j++)&#123; if(matrix[j][index]&#x3D;&#x3D;0) &#123; handleZero(matrix,j); break; &#125; &#125; &#125; regression(matrix, --index);&#125;private void handleZero(int[][] matrix,int pos) &#123; for(int i&#x3D;matrix[0].length-1;i&gt;&#x3D;pos;i--)&#123; matrix[pos][i]&#x3D;0; &#125; for(int j&#x3D;matrix.length-1;j&gt;&#x3D;pos;j--)&#123; matrix[j][pos]&#x3D;0; &#125;&#125;å†™å®Œåå¾ˆå¿«å‘ç°ä¸èƒ½å¤Ÿå®ç°ï¼ŒåŸå› å°±åœ¨äºä»–åªèƒ½ç®¡ç†åˆ°å†…å±‚ï¼Œå¤–å±‚æ ‡ä¸º0åï¼Œæ²¡åŠæ³•åšé¢å¤–çš„æ ‡è®°ï¼ˆå…¶å®ç”Ÿäº§ä»£ç å¯ä»¥æ‰“ä¸€äº›æ ‡è®°ï¼‰ï¼Œæ‰€ä»¥åªèƒ½æŠ›å¼ƒè¿™ä¸ªæœ¬ä»¥ä¸ºå¾ˆç®€å•çš„æ–¹æ³•ï¼Œè¯¥ç”¨äº†setåˆé›†å»è®°å½•è¦è®¾ç½®0è¡Œåˆ—çš„è¡Œå·æˆ–è€…åˆ—å·ï¼Œè¿™ä¸ªå¤æ‚åº¦å¹¶ä¸æ˜¯å¾ˆå¤æ‚ï¼Œä½†æ˜¯æ‰§è¡Œå®Œå‘ç°ä»£ç çš„æ•ˆç‡è¿˜æ˜¯å¾ˆä½ï¼Œå…ˆæ”¾ä»£ç ï¼š12345678910111213141516171819202122232425class Solution &#123; public void setZeroes(int[][] matrix) &#123; int R &#x3D; matrix.length; int C &#x3D; matrix[0].length; Set&lt;Integer&gt; rows &#x3D; new HashSet&lt;Integer&gt;(); Set&lt;Integer&gt; cols &#x3D; new HashSet&lt;Integer&gt;(); for (int i &#x3D; 0; i &lt; R; i++) &#123; for (int j &#x3D; 0; j &lt; C; j++) &#123; if (matrix[i][j] &#x3D;&#x3D; 0) &#123; rows.add(i); cols.add(j); &#125; &#125; &#125; for (int i &#x3D; 0; i &lt; R; i++) &#123; for (int j &#x3D; 0; j &lt; C; j++) &#123; if (rows.contains(i) || cols.contains(j)) &#123; matrix[i][j] &#x3D; 0; &#125; &#125; &#125; &#125;&#125;ä»£ç ä½æ•ˆçš„åŸå› åœ¨äºåŠ¨ç”¨äº†ä¸¤å±‚å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦éå¸¸ä½ï¼Œé¢˜ç›®çš„ç½®0æ˜¯æœ‰è§„å¾‹çš„ï¼Œä¸æ˜¯æ— è§„å¾‹çš„ï¼Œæ‰€ä»¥æˆ‘å¼€å§‹å¯»æ±‚æ›´æ–°ç®€å•çš„æ–¹æ³•,å…ˆè´´æœ€ä¼˜è§£ï¼Œè¦ç¡è§‰äº†ï¼Œæˆ‘çš„å¤´å‘å•Š 123456789101112131415161718192021222324252627282930313233343536373839404142class Solution &#123; public void setZeroes(int[][] matrix) &#123; int R &#x3D; matrix.length; int C &#x3D; matrix[0].length; boolean isCol &#x3D; false; for(int i&#x3D;0; i&lt;R; i++) &#123; if (matrix[i][0] &#x3D;&#x3D; 0) &#123; isCol &#x3D; true; &#125; for(int j&#x3D;1; j&lt;C; j++) &#123; if(matrix[i][j]&#x3D;&#x3D;0) &#123; matrix[0][j] &#x3D; 0; matrix[i][0] &#x3D; 0; &#125; &#125; &#125; &#x2F;&#x2F; Iterate over the array once again and using the first row and first column, update the elements. for(int i&#x3D;1; i&lt;R; i++) &#123; for(int j&#x3D;1; j&lt;C; j++) &#123; if(matrix[i][0]&#x3D;&#x3D;0 || matrix[0][j]&#x3D;&#x3D;0) &#123; matrix[i][j] &#x3D; 0; &#125; &#125; &#125; &#x2F;&#x2F; See if the first row needs to be set to zero as well if(matrix[0][0]&#x3D;&#x3D;0) &#123; for(int j&#x3D;0; j&lt;C; j++) &#123; matrix[0][j] &#x3D; 0; &#125; &#125; &#x2F;&#x2F; See if the first column needs to be set to zero as well if(isCol) &#123; for(int i&#x3D;0; i&lt;R; i++) &#123; matrix[i][0] &#x3D; 0; &#125; &#125; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"2020-01-09-RedisTransaction","slug":"2020-01-09-RidisTransaction","date":"2020-01-09T14:42:06.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/09/2020-01-09-RidisTransaction/","link":"","permalink":"http://zehai.info/2020/01/09/2020-01-09-RidisTransaction/","excerpt":"","text":"å®˜ç½‘docï¼šhttps://redis.io/topics/transactions æœ¬æ–‡çº¯å±é˜…è¯»ç¬”è®°ï¼Œæ— å­¦æœ¯å‚è€ƒä»·å€¼ whatäº‹åŠ¡ï¼ˆtransactionï¼‰çš„æœ¬è´¨å°±æ˜¯å¤„ç†å¥½å‡ ä¸ªåŠ¨ä½œï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆå…¶ä¸­ä¸€ä¸ªå¤±è´¥å°±å…¨éƒ¨å›æ»š æ¯é—¨è¯­è¨€éƒ½ä¼šæœ‰äº‹åŠ¡çš„æ”¯æŒï¼Œnodeä¹Ÿæœ‰asyncçš„æ–¹æ³•å®ç°äº‹åŠ¡å‡ ä¸ªåŠ¨ä½œä¸²è¡Œï¼Œæˆ–è€…å¹¶è¡Œï¼Œä¸€ä¸ªå¤±è´¥å…¨éƒ¨å›æ»šï¼Œä¹‹å‰å†™è¿‡æ”¯ä»˜çš„ä¾‹å­ï¼Œä½¿ç”¨async.waterfall,è´­ä¹°ä¼šå‘˜å 1.æŸ¥è¯¢æ”¯ä»˜å®è¿”å›æ”¯ä»˜æ˜¯å¦æˆåŠŸ 2.è·å–ç”¨æˆ·æ‰€ä¹°ä¼šå‘˜çš„ç­‰çº§åŠç›¸å…³æƒé™ 3.å°†æƒç›Šæ’å…¥ç”¨æˆ·è¡¨ä¸­ 4.å°†è®¢å•æ•°æ®è®°å½•åˆ°è®¢å•è¡¨ä¸­ï¼Œæ–¹ä¾¿åå°æŸ¥çœ‹è®¢å•é‡ å¤§è‡´æ­¥éª¤å°±æ˜¯è¿™äº› Redisä¸»è¦ä½¿ç”¨MULTI ,EXEC,DISCARD WATCHæ¥å®ç°äº‹åŠ¡çš„åŠŸèƒ½ éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š æ‰€æœ‰å‘½ä»¤è¢«åºåˆ—åŒ–åé¡ºåºæ‰§è¡Œï¼Œä¸”æ‰§è¡ŒæœŸé—´ä¸æ¥å—å…¶ä»–è¯·æ±‚ï¼Œä¿è¯éš”ç¦»æ€§ EXECå‘½ä»¤è§¦å‘äº‹åŠ¡ä¸­æ‰€æœ‰å‘½ä»¤çš„æ‰§è¡Œï¼Œå› æ­¤ï¼Œå¦‚æœå®¢æˆ·ç«¯è°ƒç”¨MULTIå‘½ä»¤ä¹‹å‰å¤±å»è¿æ¥ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚å¦‚æœEXECå‘½ä»¤è°ƒç”¨è¿‡ï¼Œåˆ™æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¼šè¢«æ‰§è¡Œ howMULTIè¾“å…¥äº‹åŠ¡ä»¥OKç­”å¤ï¼Œæ­¤æ—¶ç”¨æˆ·å¯ä»¥å‘é€å¤šä¸ªå‘½ä»¤ï¼ŒRediséƒ½ä¸ä¼šæ‰§è¡Œï¼Œè€Œæ˜¯æ’é˜Ÿï¼Œä¸€æ—¦è°ƒç”¨EXECï¼Œåˆ™å°†ä¼šæ‰§è¡Œæ‰€æœ‰å‘½ä»¤ï¼Œè°ƒç”¨DISCARDå°†åˆ·æ–°ï¼ˆFlushï¼Ÿæ¸…ç©ºï¼Ÿé‡æ–°æ‰§è¡Œï¼Ÿï¼‰äº‹åŠ¡é˜Ÿåˆ—å¹¶é€€å‡ºäº‹åŠ¡ ç¤ºä¾‹ä»£ç ï¼š 123456789&gt; MULTIOK&gt; INCR fooQUEUED&gt; INCR barQUEUED&gt; EXEC1) (integer) 12) (integer) 1 å¯ä»¥çœ‹å‡ºEXECè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯äº‹åŠ¡ä¸­å•ä¸ªå‘½ä»¤çš„ç­”å¤ï¼Œå…¶å‘å‡ºé¡ºåºä¸å‘½ä»¤ç›¸åŒ å½“Reidsè¿æ¥å¤„äºMULTIçš„è¯·æ±‚æ—¶ï¼Œæ‰€æœ‰çš„å‘½ä»¤éƒ½å°†ä»¥å­—ç¬¦ä¸²queuedç­”å¤ï¼Œå½“EXECæ—¶ï¼Œå°†é¡ºåºæ‰§è¡Œ errorså¯èƒ½å­˜åœ¨ä¸¤ç§å‘½ä»¤é”™è¯¯ï¼š å‘½ä»¤å¯èƒ½æ— æ³•æ’é˜Ÿï¼Œå› æ­¤åœ¨EXECä¹‹å‰å¯èƒ½æœ‰é”™è¯¯ï¼ˆåŒ…æ‹¬å‘½ä»¤è¯­æ³•é”™è¯¯ï¼‰ è°ƒç”¨EXECåï¼Œå‘½ä»¤æ‰§è¡Œå¤±è´¥ å®¢æˆ·ç«¯é€šè¿‡æ£€æŸ¥å·²æ’é˜Ÿï¼ˆqueuedï¼‰çš„å‘½ä»¤è¿”å›å€¼æ¥åˆ¤æ–­ç¬¬ä¸€ç§é”™è¯¯ï¼Œå¦å¤–ä»2.6.5å¼€å§‹ï¼ŒæœåŠ¡å™¨å°†è®°ä½åœ¨å‘½ä»¤æ’é˜ŸæœŸé—´å‘ç”Ÿçš„é”™è¯¯ï¼Œå¹¶ä¸”æ‹’ç»æ‰§è¡Œäº‹åŠ¡ï¼Œè¿”å›é”™è¯¯å¹¶è‡ªåŠ¨ä¸¢å¼ƒäº‹åŠ¡ EXECæ‰§è¡Œåé”™è¯¯ä¸ä¼šç‰¹æ®Šå¤„ç†ï¼Œæ‰€æœ‰çš„å‘½ä»¤éƒ½å°†è¢«æ‰§åŠæ—¶æœ‰äº›å‘½ä»¤å¤±è´¥ 12345678910MULTI+OKSET a abc+QUEUEDLPOP a+QUEUEDEXEC*2+OK-ERR Operation against a key holding the wrong kind of value å³æ—¶å‘½ä»¤å¤±è´¥ï¼Œé˜Ÿåˆ—é‡Œçš„å…¶ä»–å‘½ä»¤ä¹Ÿä¼šå¤„ç† 1234&#123; name:stu time:1&#125;","raw":null,"content":null,"categories":[{"name":"Redis","slug":"Redis","permalink":"http://zehai.info/categories/Redis/"}],"tags":[{"name":"Transaction","slug":"Transaction","permalink":"http://zehai.info/tags/Transaction/"}]},{"title":"2020-01-08-MinimunPathSum","slug":"2020-01-08-MinimumPathSum","date":"2020-01-08T14:42:06.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/08/2020-01-08-MinimumPathSum/","link":"","permalink":"http://zehai.info/2020/01/08/2020-01-08-MinimumPathSum/","excerpt":"","text":"Leetcode-641234567891011121314Given a m x n grid filled with non-negative numbers, find a path from top left to bottom right which minimizes the sum of all numbers along its path.Note: You can only move either down or right at any point in time.Example:Input:[ [1,3,1], [1,5,1], [4,2,1]]Output: 7Explanation: Because the path 1â†’3â†’1â†’1â†’1 minimizes the sum. solutionè§£æ³•ä¸ºç®€å•çš„åŠ¨æ€è§„åˆ’ï¼Œåªè¦æ‰¾åˆ°æ¯”è¾ƒè¯¥å…ƒç´ ï¼Œä¸Šæ–¹å’Œå·¦æ–¹çš„å€¼çš„æœ€å°å€¼ï¼Œç„¶åä¸è¯¥å€¼ç›¸åŠ ï¼Œå°±å¯ä»¥å¾—åˆ°è§£ 123456789101112class Solution &#123; public int minPathSum(int[][] grid) &#123; for(int i&#x3D;1; i&lt;grid.length; i++) grid[i][0] +&#x3D; grid[i-1][0]; for(int j&#x3D;1; j&lt;grid[0].length; j++) grid[0][j] +&#x3D; grid[0][j-1]; for (int i&#x3D;1; i&lt;grid.length; i++) &#123; for (int j&#x3D;1; j&lt;grid[0].length; j++) &#123; grid[i][j] &#x3D; Math.min(grid[i][j-1], grid[i-1][j]) + grid[i][j]; &#125; &#125; return grid[grid.length-1][grid[0].length-1]; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"2020-01-08-SortColors","slug":"2020-01-08-SortColors","date":"2020-01-08T14:42:06.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/08/2020-01-08-SortColors/","link":"","permalink":"http://zehai.info/2020/01/08/2020-01-08-SortColors/","excerpt":"","text":"Leetcode-75123456789101112131415Given an array with n objects colored red, white or blue, sort them in-place so that objects of the same color are adjacent, with the colors in the order red, white and blue.Here, we will use the integers 0, 1, and 2 to represent the color red, white, and blue respectively.Note: You are not suppose to use the library&#39;s sort function for this problem.Example:Input: [2,0,2,1,1,0]Output: [0,0,1,1,2,2]Follow up:A rather straight forward solution is a two-pass algorithm using counting sort.First, iterate the array counting number of 0&#39;s, 1&#39;s, and 2&#39;s, then overwrite array with total number of 0&#39;s, then 1&#39;s and followed by 2&#39;s.Could you come up with a one-pass algorithm using only constant space? solutioné¢˜ç›®ä¹ä¸€çœ‹éå¸¸ç®€å•,ä½†ç¡®å®è¯´ä½¿ç”¨ç®€å•çš„sortæ–¹æ³•ä»¥åŠo(n^2)çš„æ’åºç¡®å®ä¼šæµªè´¹æ—¶é—´å¤æ‚åº¦ï¼Œæœ¬ç€å¥½å¥‡å¿ƒï¼Œæˆ‘è¯•äº†ä¸€ä¸‹ï¼Œæœç„¶æˆäº†åŠè½¦å°¾ 1234567891011121314class Solution &#123; public void sortColors(int[] nums) &#123; for(int i =0;i&lt;nums.length-1;i++)&#123; for(int j=i+1;j&lt;nums.length;j++)&#123; if(nums[i]&gt;nums[j])&#123; int tmp=nums[i]; nums[i]=nums[j]; nums[j]=tmp; &#125; &#125; &#125; &#125;&#125;Runtime: 1 ms, faster than 6.35% of Java online submissions for Sort Colors. è¯¥é¢˜ä¼˜åŒ–çš„æ ¸å¿ƒä½ç½®æ˜¯è¯¥æ•°ç»„æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œè®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œå·¦è¾¹éå†0ï¼Œé‡åˆ°0å¾€å·¦æ”¾ï¼Œé‡åˆ°2å¾€å³æ”¾ï¼Œrå’Œlä¸ºå·¦å³åˆ†ç•Œçº¿ï¼Œindexè®°å½•æœ€åä¸€ä¸ª0çš„ä½ç½®1234567891011121314151617181920212223242526272829class Solution &#123; public void sortColors(int[] nums) &#123; int l = 0; int r = nums.length - 1; int index = 0; while(l &lt;= r) &#123; if(nums[l] == 0) &#123; if(l &gt; index) &#123; int tmp = nums[index]; nums[index] = nums[l]; nums[l] = tmp; index++; &#125; else &#123; l++; index++; &#125; &#125; else if(nums[l] == 2) &#123; int tmp = nums[r]; nums[r] = 2; nums[l] = tmp; r--; &#125; else l++; &#125; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"2020-01-07-å…³äºPromiseçš„æ€è€ƒ","slug":"2020-01-07-å…³äºPromiseçš„æ€è€ƒ","date":"2020-01-07T14:42:06.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/07/2020-01-07-å…³äºPromiseçš„æ€è€ƒ/","link":"","permalink":"http://zehai.info/2020/01/07/2020-01-07-%E5%85%B3%E4%BA%8EPromise%E7%9A%84%E6%80%9D%E8%80%83/","excerpt":"","text":"é¢˜ç›®ï¼ˆè¿™é“é¢˜åœ¨äº’è”ç½‘ä¸Šå·²ç»æœ‰äº†ï¼‰ 123å¯ä»¥æ·»åŠ ä»»åŠ¡ï¼Œä»»åŠ¡åŒ…å«ä»»åŠ¡æ•°æ®ï¼Œä»»åŠ¡å»¶è¿Ÿè§¦å‘çš„ç­‰å¾…æ—¶é—´ã€‚åœ¨ä»»åŠ¡åˆ°è¾¾è§¦å‘æ—¶é—´ç‚¹æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æ‰§è¡Œæ­¤ä»»åŠ¡ã€‚é˜Ÿåˆ—ä¸­ä»»åŠ¡ä¿æŒå…ˆè¿›å…ˆå‡ºåŸåˆ™ï¼šå‡è®¾ A ä»»åŠ¡çš„è§¦å‘ç­‰å¾…æ—¶é—´ä¸º Xï¼ŒB ä»»åŠ¡çš„è§¦å‘ç­‰å¾…æ—¶é—´ä¸º Yï¼ŒB åœ¨ A ä¹‹åè¢«æ·»åŠ å…¥é˜Ÿåˆ—ï¼Œåˆ™ A çš„å‰é©±ä»»åŠ¡æ‰§è¡Œå®Œæˆåç­‰å¾…æ—¶é—´ X åï¼Œæ‰æ‰§è¡Œ Aï¼ŒåŒç†åœ¨ A æ‰§è¡Œå®Œæˆåï¼Œç­‰å¾…æ—¶é—´ Yï¼Œæ‰æ‰§è¡Œ Bã€‚ æ€è·¯è¿‡ç¨‹1.Javaä¸Šçº¿è¯»é¢˜ç›®å°±æ˜¯å»¶æ—¶é˜Ÿåˆ—çš„ç‰¹å¾ï¼ŒJavaæœ‰é”ï¼Œæœ‰å¤šçº¿ç¨‹ï¼Œå†™èµ·æ¥å¤šæ–¹ä¾¿ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081import java.util.concurrent.BlockingQueue;import java.util.concurrent.DelayQueue;import java.util.concurrent.Delayed;import java.util.concurrent.TimeUnit;public class HandWritingQueue &#123; public static void main(String[] args) &#123; final BlockingQueue&lt;DelayedElement&gt; deque = new DelayQueue&lt;&gt;(); Runnable producerRunnable = new Runnable() &#123; int i = 10; public void run() &#123; while (true &amp;&amp; i&gt;0) &#123; try &#123; --i; System.out.println(&quot;producing &quot;+i+&quot;,wait &quot;+i+&quot; seconds&quot;); deque.put(new DelayedElement(1000 * i, &quot;i=&quot; + i)); Thread.sleep(200); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125;; Runnable customerRunnable = new Runnable() &#123; public void run() &#123; while (true) &#123; try &#123; System.out.println(&quot;consuming:&quot; + deque.take().msg); //Thread.sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125;; Runnable getSize= new Runnable() &#123; @Override public void run() &#123; while (true) &#123; System.out.println(&quot;size=&quot;+deque.size()); try &#123; Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125;; Thread thread1 = new Thread(producerRunnable); thread1.start(); Thread thread2 = new Thread(customerRunnable); thread2.start(); Thread thread3 = new Thread(getSize); thread3.start(); &#125; static class DelayedElement implements Delayed &#123; private final long expire; private final String msg; public DelayedElement(long delay, String msg) &#123; this.msg = msg; expire = System.currentTimeMillis() + delay; &#125; @Override public long getDelay(TimeUnit unit) &#123; return unit.convert(this.expire - System.currentTimeMillis(), TimeUnit.MILLISECONDS); &#125; @Override public int compareTo(Delayed o) &#123; return -1;//FIFO &#125; &#125;&#125; 2.Nodeä¸Šçº¿è¢«æé†’è¯¥é¢˜ç›®å¯ä»¥ç”¨nodeå®ç°ï¼Œä¸”ä¸éœ€è¦å€ŸåŠ©redisæ¥åšï¼Œç„¶åæˆ‘ä¸Šæ‰‹å°±æ˜¯ä¸€æŠŠæ“ä½œï¼š 123456789101112131415161718192021222324&#x27;use strict&#x27;class DelayElement &#123; constructor(data, expire) &#123; this.data = data; this.expire = expire;//second &#125;&#125;const delayArray = [];//push two element in delayArraydelayArray.push(new DelayElement(1, 2));delayArray.push(new DelayElement(2, 1));let length = delayArray.length;let time_cnt = 0;while (delayArray.length &gt; 0) &#123; let de = delayArray.shift(); time_cnt += de.expire;//serial (function () &#123; setTimeout(() =&gt; &#123; console.log(&#x27;expire data is :&#x27; + de.data + &#x27;,expire time is :&#x27; + de.expire); &#125;, time_cnt * 1000); &#125;)();&#125; æˆ‘ä»¥ä¸ºè®¾è®¡çš„è€ƒç‚¹ä¹Ÿå°±æ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œå»¶æ—¶çš„ä½¿ç”¨ï¼Œä½†æ˜¯è¿™é‡Œçš„forå¾ªç¯æ˜¯ä¸ªä¼ªä¸²è¡Œï¼Œå®é™…ä¸Šæ˜¯å¹¶å‘çš„ï¼Œä¹Ÿä¸ºç¬¬ä¸‰æ­¥çš„ä¿®æ”¹æä¾›äº†bug 3.Promiseæ—¶ä»£ä¸€å¼€å§‹æˆ‘æ˜¯æƒ³æŠŠasyncå‡½æ•°æ”¾è¿›å»ï¼Œå†™äº†å¦‚ä¸‹çš„ä»£ç ï¼š 1234567891011121314151617&#x27;use strict&#x27;const delayArray = [];const daPush = (data, expire) =&gt; &#123; delayArray.push(async () =&gt; &#123; setTimeout(() =&gt; &#123; console.log(&#x27;data is &#x27; + data + &#x27; and expire is &#x27; + expire); &#125;, expire * 1000); &#125;);&#125;daPush(1, 4);//2 secondsdaPush(2, 5);(async () =&gt; &#123; for (const da of delayArray) &#123; await da(); &#125;&#125;)(); å‘ç°ä»£ç è¿˜æ˜¯ä¸²è¡Œçš„ï¼Œç„¶åæŸ¥äº†ä¸€ä¸‹å¯èƒ½çš„é—®é¢˜ï¼ˆä»¥ä¸‹ä¸ºä¸ªäººçŒœæµ‹ï¼Œæ¬¢è¿æŒ‡æ­£ï¼‰asyncå£°æ˜çš„å‡½æ•°ä¼šåŒ…è£…æˆPromiseä¸å‡ï¼Œä½†æ˜¯forå¾ªç¯ä¼šå¹¶å‘å»æ‰§è¡Œawaitä¸­çš„async 4.æ­£è§£ promiseæ‰§è¡Œä¼šé˜»å¡ä¸»çº¿ç¨‹ Macrotaskså’ŒMicrotasks éƒ½å±äºä¸Šè¿°çš„å¼‚æ­¥ä»»åŠ¡ä¸­çš„ä¸€ç§ï¼Œä»–ä»¬åˆ†åˆ«æœ‰å¦‚ä¸‹APIï¼šmacrotasks: setTimeout, setInterval, setImmediate, I/O, UI renderingmicrotasks: process.nextTick, Promise, MutationObserver ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåœ¨æ¯ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼Œmacrotaskåªä¼šæå–ä¸€ä¸ªæ‰§è¡Œï¼Œè€Œmicrotaskä¼šä¸€ç›´æå–ï¼Œç›´åˆ°microsofté˜Ÿåˆ—ä¸ºç©ºä¸ºæ­¢ã€‚ ä¹Ÿå°±æ˜¯è¯´å¦‚æœæŸä¸ªmicrotaskä»»åŠ¡è¢«æ¨å…¥åˆ°æ‰§è¡Œä¸­ï¼Œé‚£ä¹ˆå½“ä¸»çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œä¼šå¾ªç¯è°ƒç”¨è¯¥é˜Ÿåˆ—ä»»åŠ¡ä¸­çš„ä¸‹ä¸€ä¸ªä»»åŠ¡æ¥æ‰§è¡Œï¼Œç›´åˆ°è¯¥ä»»åŠ¡é˜Ÿåˆ—åˆ°æœ€åä¸€ä¸ªä»»åŠ¡ä¸ºæ­¢ã€‚ è€Œäº‹ä»¶å¾ªç¯æ¯æ¬¡åªä¼šå…¥æ ˆä¸€ä¸ªmacrotask,ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæˆè¯¥ä»»åŠ¡ååˆä¼šæ£€æŸ¥microtasksé˜Ÿåˆ—å¹¶å®Œæˆé‡Œé¢çš„æ‰€æœ‰ä»»åŠ¡åå†æ‰§è¡Œmacrotaskçš„ä»»åŠ¡ã€‚ ä»¥åŠmacrotaskåº”è¯¥å¯¹åº”çš„æ˜¯checké˜Ÿåˆ—ï¼ˆè¯¥è¡ŒæœªéªŒè¯ï¼‰ 123456789101112131415161718192021222324252627282930&#x27;use strict&#x27;const delayArray = [];const daPush = (data, expire) =&gt; &#123; delayArray.push(() =&gt; new Promise((resolve,reject) =&gt; &#123; setTimeout(() =&gt; &#123; if(data) &#123; console.log(&#x27;data is &#x27; + data + &#x27; and expire is &#x27; + expire); resolve(true); &#125; else&#123; reject(&#x27;there is nodata&#x27;); &#125; &#125;, expire * 1000); &#125;));&#125;;daPush(1, 4);//2 secondsdaPush(2, 5);(async () =&gt; &#123; for (const da of delayArray) &#123; da().then((value)=&gt;&#123; // console.log(value); &#125;).catch((value)=&gt;&#123; console.log(value); &#125;); //æ²¡æœ‰28-33ï¼Œåª35è¡Œä¹Ÿå¯ä»¥ // await da(); &#125;&#125;)();","raw":null,"content":null,"categories":[],"tags":[]},{"title":"2020-01-07-SetTimeout","slug":"2020-01-07-SetTimeout","date":"2020-01-07T05:01:52.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/07/2020-01-07-SetTimeout/","link":"","permalink":"http://zehai.info/2020/01/07/2020-01-07-SetTimeout/","excerpt":"","text":"æ‰§è¡Œäº†ä¸€ä¸‹ç¨‹åºï¼š 12345while(true)&#123; setTimeout(()&#x3D;&gt;&#123; console.log(1) &#125;,0)&#125; è¿”å›äº†ä¸€ä¸‹å†…å®¹ï¼š 123456789101112131415161718192021222324252627&lt;--- Last few GCs ---&gt;[12308:000001E565C2F6F0] 14167 ms: Mark-sweep 1395.9 (1425.2) -&gt; 1395.9 (1423.7) MB, 1754.1 &#x2F; 0.0 ms (+ 0.0 ms in 39 steps since start of marking, biggest step 0.0 ms, walltime since start of marking 1764 ms) (average mu &#x3D; 0.105, current mu &#x3D; 0.020) a[12308:000001E565C2F6F0] 14175 ms: Scavenge 1397.3 (1423.7) -&gt; 1397.3 (1425.2) MB, 7.0 &#x2F; 0.0 ms (average mu &#x3D; 0.105, current mu &#x3D; 0.020) allocation failure&lt;--- JS stacktrace ---&gt;&#x3D;&#x3D;&#x3D;&#x3D; JS stack trace &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; 0: ExitFrame [pc: 000002AFCABDC5C1]Security context: 0x037b5391e6e9 &lt;JSObject&gt; 1: &#x2F;* anonymous *&#x2F; [0000016D4360B9A1] [D:\\working\\h3yun\\test.3.js:~1] [pc&#x3D;000002AFCAC7210F](this&#x3D;0x016d4360bad1 &lt;Object map &#x3D; 000001F79EE82571&gt;,exports&#x3D;0x016d4360bad1 &lt;Object map &#x3D; 000001F79EE82571&gt;,require&#x3D;0x016d4360ba91 &lt;JSFunction require (sfi &#x3D; 00000397F3EC6A31)&gt;,module&#x3D;0x016d4360ba09 &lt;Module map &#x3D; 000001F79EED3DA1&gt;,__filename&#x3D;0x0397f3ece219 &lt;Strin...FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory 1: 00007FF7C7BFC6AA v8::internal::GCIdleTimeHandler::GCIdleTimeHandler+4506 2: 00007FF7C7BD7416 node::MakeCallback+4534 3: 00007FF7C7BD7D90 node_module_register+2032 4: 00007FF7C7EF189E v8::internal::FatalProcessOutOfMemory+846 5: 00007FF7C7EF17CF v8::internal::FatalProcessOutOfMemory+639 6: 00007FF7C80D7F94 v8::internal::Heap::MaxHeapGrowingFactor+9620 7: 00007FF7C80CEF76 v8::internal::ScavengeJob::operator&#x3D;+24550 8: 00007FF7C80CD5CC v8::internal::ScavengeJob::operator&#x3D;+17980 9: 00007FF7C80D6317 v8::internal::Heap::MaxHeapGrowingFactor+232710: 00007FF7C80D6396 v8::internal::Heap::MaxHeapGrowingFactor+245411: 00007FF7C8200637 v8::internal::Factory::NewFillerObject+5512: 00007FF7C827D826 v8::internal::operator&lt;&lt;+7349413: 000002AFCABDC5C1 whyå› ä¸ºä¸šåŠ¡ä»£ç é˜»å¡ä½ï¼Œæ²¡æœ‰è¿›å…¥timer_handlerçš„å¾ªç¯ï¼Œæ‰€ä»¥1è™½ç„¶è¿›å…¥äº†timerçš„çº¢é»‘æ ‘ä¸­ï¼Œä½†æ˜¯ä¸å¯èƒ½è¾“å‡ºï¼Œä¸åƒä¹‹å‰forå¾ªç¯ä¼šæœ‰ä¸€ä¸ªæˆªæ­¢æ¡ä»¶ï¼Œåç»­çš„å®šæ—¶å™¨è¿˜æ˜¯å¯ä»¥ç”Ÿæ•ˆçš„ å¦å¤–æœ‰ä¸€ä¸ªåœ°æ–¹è®°æ··äº†ï¼Œéå†å›è°ƒçš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œç›´åˆ°å›è°ƒä¸ºç©ºæˆ–è€…æœ€å¤§æ‰§è¡Œå›è°ƒæ•°é‡ï¼Œè€Œä¸šåŠ¡ä»£ç åªä¼šåœ¨è¿™é‡Œé˜»å¡ä¸ä¼šåœæ­¢ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä½•å‡ºç°GCçš„æ—¥å¿— whatsetimeoutæ˜¯JSå‰ç«¯å¸¸ç”¨çš„æ§ä»¶ç”¨æ¥å»¶æ—¶æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼ˆå›è°ƒï¼‰ï¼Œå½“æ‰§è¡Œä¸šåŠ¡ä»£ç çš„æ—¶å€™æˆ‘ä»¬ä¼šå°†settimeoutï¼ŒsetImmediateï¼ŒnextTickï¼ŒsetIntervalæ’å…¥timer_handlerçš„ä¸åŒé˜Ÿåˆ—ä¸­ï¼ˆè¯¦è§å·¦ä¾§nodeåˆ†æ”¯ï¼Œä¸”æ–‡ç« ä¹Ÿåœ¨æ›´æ–°ä¸­ï¼‰ï¼Œå½“JSå•çº¿ç¨‹æ‰§è¡Œå®Œä¸šåŠ¡ä»£ç åï¼Œæ‰å¼€å§‹eventloopæŸ¥æ‰¾è§‚å¯Ÿè€…æ¥è¿›è¡Œå›è°ƒï¼Œå½“ç„¶ä¹Ÿå­˜åœ¨å»¶æ—¶ä¸ç²¾ç¡®çš„å¯èƒ½","raw":null,"content":null,"categories":[],"tags":[]},{"title":"2020-01-06-gRPC","slug":"2020-01-06-gRPC","date":"2020-01-06T12:55:51.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/06/2020-01-06-gRPC/","link":"","permalink":"http://zehai.info/2020/01/06/2020-01-06-gRPC/","excerpt":"","text":"whygRPCæ˜¯ä»»ä½•ç¯å¢ƒéƒ½å¯ä»¥è¿è¡Œçš„é«˜æ€§èƒ½å¼€æºæ¡†æ¶ï¼Œä»–å¯ä»¥é€šè¿‡pluggable supportæ¥é«˜æ•ˆå®ç°è´Ÿè½½å‡è¡¡ï¼Œå¿ƒè·³æ£€æµ‹å’Œæˆæƒï¼Œä»–ä¹Ÿå¯ä»¥åº”ç”¨äºåˆ†å¸ƒå¼è®¡ç®—çš„æœ€åä¸€ä¸ªæµç¨‹ï¼ˆè¿æ¥å„ä¸ªç«¯åˆ°åç«¯ï¼‰ ç®€å•çš„æœåŠ¡å®šä¹‰ å¿«é€Ÿå¯åŠ¨æ˜“æ‰©å±• è·¨è¯­è¨€ï¼Œè·¨å¹³å° åŒå‘æµå’Œé‰´æƒ feature gRPCå¯ä»¥é€šè¿‡protobufæ¥å®šä¹‰æ¥å£ï¼Œä»è€Œå¯ä»¥æœ‰æ›´åŠ ä¸¥æ ¼çš„æ¥å£çº¦æŸæ¡ä»¶ã€‚å…³äºprotobufå¯ä»¥å‚è§ç¬”è€…ä¹‹å‰çš„å°æ–‡Google Protobufç®€æ˜æ•™ç¨‹ å¦å¤–ï¼Œé€šè¿‡protobufå¯ä»¥å°†æ•°æ®åºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶ç¼–ç ï¼Œè¿™ä¼šå¤§å¹…å‡å°‘éœ€è¦ä¼ è¾“çš„æ•°æ®é‡ï¼Œä»è€Œå¤§å¹…æé«˜æ€§èƒ½ã€‚ gRPCå¯ä»¥æ–¹ä¾¿åœ°æ”¯æŒæµå¼é€šä¿¡(ç†è®ºä¸Šé€šè¿‡http2.0å°±å¯ä»¥ä½¿ç”¨streamingæ¨¡å¼, ä½†æ˜¯é€šå¸¸webæœåŠ¡çš„restful apiä¼¼ä¹å¾ˆå°‘è¿™ä¹ˆç”¨ï¼Œé€šå¸¸çš„æµå¼æ•°æ®åº”ç”¨å¦‚è§†é¢‘æµï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ä¸“é—¨çš„åè®®å¦‚HLSï¼ŒRTMPç­‰ï¼Œè¿™äº›å°±ä¸æ˜¯æˆ‘ä»¬é€šå¸¸webæœåŠ¡äº†ï¼Œè€Œæ˜¯æœ‰ä¸“é—¨çš„æœåŠ¡å™¨åº”ç”¨ã€‚ï¼‰ node123456$ # Clone the repository to get the example code$ git clone -b v1.25.0 https:&#x2F;&#x2F;github.com&#x2F;grpc&#x2F;grpc$ # Navigate to the dynamic codegen &quot;hello, world&quot; Node example:$ cd grpc&#x2F;examples&#x2F;node&#x2F;dynamic_codegen$ # Install the example&#39;s dependencies$ npm install","raw":null,"content":null,"categories":[{"name":"gRPC","slug":"gRPC","permalink":"http://zehai.info/categories/gRPC/"}],"tags":[{"name":"network","slug":"network","permalink":"http://zehai.info/tags/network/"}]},{"title":"2020-01-03-SearchInsertPosition","slug":"2020-01-03-SearchInsertPosition","date":"2020-01-03T09:01:03.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2020/01/03/2020-01-03-SearchInsertPosition/","link":"","permalink":"http://zehai.info/2020/01/03/2020-01-03-SearchInsertPosition/","excerpt":"","text":"LeetCode38Easy Given a sorted array and a target value, return the index if the target is found. If not, return the index where it would be if it were inserted in order. You may assume no duplicates in the array. Example 1: 12Input: [1,3,5,6], 5Output: 2 Example 2: 12Input: [1,3,5,6], 2Output: 1 Example 3: 12Input: [1,3,5,6], 7Output: 4 Example 4: 12Input: [1,3,5,6], 0Output: 0 ç¦»èŒåçš„ç¬¬ä¸€é¢˜æƒ³å…ˆç®€å•ç‚¹çƒ­ä¸ªèº«ï¼ˆåé¢æœ‰ä¸ªéš¾çš„ç›®å‰è¿˜æ²¡åšå‡ºæ¥ï¼‰ï¼Œå°±æ˜¯è¯´ç»™ä¸€ä¸ªtargetï¼Œè¿”å›å®ƒåœ¨æ•°ç»„ä¸­çš„ä½ç½® Howè¯¥é¢˜ç›®ä¸€ä¸Šè„‘å­å°±å¯ä»¥å†™ä¸‹å¦‚ä¸‹çš„ä»£ç  12345678910111213141516public int searchInsert(int[] nums, int target) &#123; if (nums == null || nums.length == 0) &#123; return 0; &#125; if (target &gt; nums[nums.length - 1]) &#123; return nums.length; &#125; int pos =1; for(int i =0;i&lt;nums.length-1;i++)&#123; if(nums[i]&lt;target &amp;&amp; nums[i+1]&gt;=target)&#123; pos = ++i; break; &#125; &#125; return pos;&#125; ä½†è½¬å¿µä¸€æƒ³ï¼Œé¢˜ç›®ä¸­ç»™å®šçš„æ˜¯ä¸€ä¸ªsorted arrayè¿™æ˜¯ä¸€ä¸ªä¼˜åŒ–çš„åˆ‡å£ï¼Œå¯ä»¥å°†O(n)çš„å¤æ‚åº¦é™ä½åˆ°O(logn),é€šè¿‡é€’å½’æ¥æ‹†è§£å®Œæˆè¿™é“é¢˜ 12345678910111213141516171819private int searchInsert(int[] nums, int target, int low, int high) &#123; int mid = (low+high)/2; if (target &lt; nums[mid]) &#123; if (mid == 0 || target &gt; nums[mid-1]) &#123; return mid; &#125; return searchInsert(nums, target, low, mid-1); &#125; if (target &gt; nums[mid]) &#123; if (mid == nums.length-1 || target &lt; nums[mid+1]) &#123; return mid+1; &#125; return searchInsert(nums, target, mid+1, high); &#125; return mid; &#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"easy","slug":"easy","permalink":"http://zehai.info/tags/easy/"}]},{"title":"2019-12-22-SpringBootæ¦‚è¦","slug":"2019-12-22-SpringBootæ¦‚è¦ ","date":"2019-12-16T12:37:30.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/12/16/2019-12-22-SpringBootæ¦‚è¦ /","link":"","permalink":"http://zehai.info/2019/12/16/2019-12-22-SpringBoot%E6%A6%82%E8%A6%81%20/","excerpt":"","text":"å«ä¹‰ï¼šspring çš„ç®€åŒ–é…ç½®ç‰ˆæœ¬ï¼ˆç»§æ‰¿çˆ¶ç±»ä¾èµ–ï¼Œæ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰é…ç½®ï¼‰ 123456789101112131415&lt;!--ä½ çš„é¡¹ç›®pomæ–‡ä»¶--&gt;&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.4.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;&lt;/parent&gt;&lt;!--ç‚¹å¼€spring-boot-starter-parentï¼Œæ–‡ä»¶ç›¸å¯¹ä½ç½®\\org\\springframework\\boot\\spring-boot-starter-parent\\2.0.4.RELEASE--&gt;&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;2.0.4.RELEASE&lt;/version&gt; &lt;relativePath&gt;../../spring-boot-dependencies&lt;/relativePath&gt;&lt;/parent&gt; å¾®æœåŠ¡ AOP ç®€åŒ–éƒ¨ç½²ï¼Œå¯ä»¥å†pom.xmlä¸­é…ç½®pluginsæ¥å®ç°å¯¼å‡ºjaråŒ…ï¼Œæ–¹ä¾¿æ‰§è¡Œ Features: starter å…¥å£ç±»æ ‡è®°@SpringBootApplication SpringBooté…ç½®ç±»@SpringBootConfiguration é…ç½®ç±»@Configuration å¼€å¯è‡ªåŠ¨é…ç½®@EnableAutoConfiguration è‡ªåŠ¨é…ç½®åŒ…@AutoConfigurationPackage å¯¼å…¥ç»„ä»¶@Import ç–‘æƒ‘ ä¸ºä»€ä¹ˆä½¿ç”¨æ³¨è§£ ä¸ºä»€ä¹ˆéœ€è¦AOP ä¸ºä»€ä¹ˆé€‰æ‹©springboot","raw":null,"content":null,"categories":[{"name":"SpringBoot","slug":"SpringBoot","permalink":"http://zehai.info/categories/SpringBoot/"}],"tags":[{"name":"introduction","slug":"introduction","permalink":"http://zehai.info/tags/introduction/"}]},{"title":"2019-12-22-zookeeperæ¦‚è¦","slug":"2019-12-22-zookeeperæ¦‚è¦","date":"2019-12-16T12:37:30.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/12/16/2019-12-22-zookeeperæ¦‚è¦/","link":"","permalink":"http://zehai.info/2019/12/16/2019-12-22-zookeeper%E6%A6%82%E8%A6%81/","excerpt":"","text":"å«ä¹‰ï¼šåŠ¨ç‰©ç®¡ç†å‘˜ï¼Œç®¡ç†èŠ‚ç‚¹ ä½œç”¨ï¼šå¼€æºçš„åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºåè°ƒæœåŠ¡ï¼ˆç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªæŠ½è±¡å‡ºæ¥ï¼Œä¸“é—¨ç®¡ç†å„ä¸ªæœåŠ¡çš„ç®¡ç†å‘˜ï¼Œå‘ç°æœåŠ¡ï¼Œæ³¨å†ŒæœåŠ¡ï¼Œä»¥å®ç°åˆ†å¸ƒå¼åº”ç”¨çš„è”åˆå·¥ä½œï¼‰ feature æ ‘çŠ¶ç›®å½•ç»“æ„ï¼ŒèŠ‚ç‚¹ç§°ä½œznode æŒä¹…èŠ‚ç‚¹ï¼ˆå®¢æˆ·ç«¯æ–­å¼€ä»ç„¶å­˜åœ¨ï¼‰ ä¸´æ—¶èŠ‚ç‚¹ï¼ˆæ–­å¼€æ¶ˆå¤±ï¼‰ èŠ‚ç‚¹ç›‘å¬ï¼ˆé€šè¿‡get exists,getchildrenæ¥å®è¡Œç›‘å¬ï¼‰ åº”ç”¨ï¼š åˆ†å¸ƒå¼é” æè¿° é—®é¢˜åœºæ™¯ æˆ‘ä»¬æœ‰ä¸€ä¸ªæœåŠ¡Cï¼Œå°†Aç³»ç»Ÿçš„è®¢å•æ•°æ®ï¼Œå‘é€åˆ°Bç³»ç»Ÿè¿›è¡Œè´¢åŠ¡å¤„ç†ï¼Œä½†è¿™ä¸ªæœåŠ¡éƒ¨Cç½²äº†ä¸‰ä¸ªæœåŠ¡å™¨æ¥è¿›è¡Œå¹¶å‘ï¼Œå…¶ä¸­æœ‰äº›æ•°æ®åœ¨ä¼ é€å¤„ç†æ—¶ä¼šnewä¸€ä¸ªobjectidï¼Œå¦‚æœä¸æ·»åŠ é”ï¼Œè¯¥æ•°æ®å¯èƒ½è¢«ä¸¤ä¸ªæœåŠ¡åŒæ—¶è°ƒèµ·ï¼Œåœ¨BæœåŠ¡ä¸­ç”Ÿæˆä¸¤æ¡è®°å½• è§£å†³æ–¹æ¡ˆ æˆ‘ä»¬åŒæ­¥æ•°æ®æ—¶å€™ï¼Œéœ€è¦ç»™åŒä¸€ä¸ªæ•°æ®åŠ é”ï¼Œé˜²æ­¢è¯¥æ•°æ®åŒæ—¶è¢«ä¸¤ä¸ªæœåŠ¡è°ƒèµ·ï¼ŒæœåŠ¡è®¿é—®æŸæ¡è®¢å•æ•°æ®æ—¶å€™ï¼Œéœ€è¦å…ˆè·å¾—é”ï¼Œæ“ä½œå®Œåé‡Šæ”¾é” å®ç°æ–¹å¼ æ¯ä¸ªæœåŠ¡è¿æ¥ä¸€ä¸ªznodeçš„ä¸‹å±æœ‰åºä¸´æ—¶èŠ‚ç‚¹ï¼Œå¹¶ç›‘å¬ä¸Šä¸ªèŠ‚ç‚¹çš„å˜åŒ–ï¼Œç¼–å·æœ€å°çš„ä¸´æ—¶èŠ‚ç‚¹è·å¾—é”ï¼Œæ“ä½œèµ„æºï¼Œæ¥å®ç° æœåŠ¡æ³¨å†Œå’Œå‘ç° é—®é¢˜åœºæ™¯ æˆ‘ä»¬åŒæ­¥æ•°æ®çš„æœåŠ¡Cï¼ˆä¸Šä¸ªè¡¨æ ¼ä¸­æè¿°ï¼‰,å¯èƒ½æ˜¯éƒ¨ç½²åœ¨ä¸€ä¸ªæœºå™¨ä¸Šçš„å¤šè¿›ç¨‹ï¼Œä¹Ÿå¯èƒ½æ˜¯éƒ¨ç½²åœ¨å¤šä¸ªç‰©ç†ipä¸Šçš„æœåŠ¡ï¼Œä»–æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œå¦‚æœæ²¡æœ‰zookeeperç±»çš„è½¯ä»¶ï¼Œå¯èƒ½æˆ‘æ¯æ”¹ä¸€æ¬¡ipï¼Œéƒ½éœ€è¦é‡å¯ä¸€ä¸‹æœåŠ¡ï¼ŒæœåŠ¡å®•æœºäº†ï¼Œä¹Ÿè¦æ”¹ipï¼ˆä¸ç„¶404ï¼‰ è§£å†³æ–¹æ¡ˆ æˆ‘ä»¬éœ€è¦æœ‰ä¸ªæœåŠ¡æ¥ç®¡ç†åº”ç”¨çŠ¶æ€ï¼ŒçŸ¥é“æœåŠ¡çš„è¿è¡ŒçŠ¶æ€ï¼Œè¿™æ ·ï¼Œå½“å…¶ä»–æœåŠ¡è°ƒèµ·è¿™ä¸ªæœåŠ¡çš„æ—¶å€™ï¼Œæ‰èƒ½é€šè¿‡zookeeperæä¾›çš„åœ°å€è¿›è¡ŒåŒè¡Œ å®ç°æ–¹å¼ æœåŠ¡å¯åŠ¨ä¼šæ³¨å†Œåˆ°zookeeperï¼Œå¹¶ä¿æŒå¿ƒè·³ï¼Œå…¶ä»–æœåŠ¡æƒ³è¦è°ƒç”¨æŸæœåŠ¡çš„æ—¶å€™ï¼Œè¯¢é—®zookeeperæ‹¿åˆ°åœ°å€ï¼Œç„¶åå‘é€è¯·æ±‚æŠ¥æ–‡ï¼ˆä¾‹å¦‚RPCï¼‰ 1.æ¯ä¸ªåº”ç”¨åˆ›å»ºä¸€ä¸ªæŒä¹…èŠ‚ç‚¹ï¼Œæ¯ä¸ªæœåŠ¡åœ¨æŒä¹…èŠ‚ç‚¹ä¸‹å»ºç«‹ä¸´æ—¶èŠ‚ç‚¹ï¼Œä¸åŒåº”ç”¨é—´ä¼šæœ‰ç›‘å¬ï¼ŒAæœåŠ¡å¦‚æœå˜åŠ¨ï¼ŒBæœåŠ¡ä¼šæ”¶åˆ°è®¢é˜…","raw":null,"content":null,"categories":[{"name":"zookeeper","slug":"zookeeper","permalink":"http://zehai.info/categories/zookeeper/"}],"tags":[{"name":"introduction","slug":"introduction","permalink":"http://zehai.info/tags/introduction/"}]},{"title":"2019-12-15-@SpringBootApplication","slug":"2019-12-15-SpringBootApplication","date":"2019-12-15T15:13:51.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/12/15/2019-12-15-SpringBootApplication/","link":"","permalink":"http://zehai.info/2019/12/15/2019-12-15-SpringBootApplication/","excerpt":"","text":"å¯åŠ¨ç±»æˆ‘ä»¬å¯ä»¥è§åˆ°æœ€ç®€å•çš„springbootçš„application.javaæ–‡ä»¶å¦‚ä¸‹123456@SpringBootApplicationpublic class SpringTestApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(SpringTestApplication.class, args); &#125; å®é™…ä¸Šï¼ŒSpringApplicationçš„runæ–¹æ³•æ—¶é¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªSpringApplicationç±»çš„å¯¹è±¡ï¼Œåˆ©ç”¨æ„é€ æ–¹æ³•åˆ›å»ºSpringApplicationå¯¹è±¡æ—¶ä¼šè°ƒç”¨initializeæ–¹æ³• 1234567891011public static ConfigurableApplicationContext run(Object source, String... args) &#123; return run(new Object[] &#123; source &#125;, args); &#125; public static ConfigurableApplicationContext run(Object[] sources, String[] args) &#123; return new SpringApplication(sources).run(args); &#125; public SpringApplication(Object... sources) &#123; initialize(sources); &#125; å…¶ä¸­initializeæ–¹æ³•å¦‚ä¸‹ 1234567891011121314151617`private void initialize(Object[] sources) &#123; // åœ¨sourcesä¸ä¸ºç©ºæ—¶ï¼Œä¿å­˜é…ç½®ç±» if (sources != null &amp;&amp; sources.length &gt; 0) &#123; this.sources.addAll(Arrays.asList(sources)); &#125; // åˆ¤æ–­æ˜¯å¦ä¸ºwebåº”ç”¨ this.webEnvironment = deduceWebEnvironment(); // è·å–å¹¶ä¿å­˜å®¹å™¨åˆå§‹åŒ–ç±»ï¼Œé€šå¸¸åœ¨webåº”ç”¨å®¹å™¨åˆå§‹åŒ–ä½¿ç”¨ // åˆ©ç”¨loadFactoryNamesæ–¹æ³•ä»è·¯å¾„MEAT-INF/spring.factoriesä¸­æ‰¾åˆ°æ‰€æœ‰çš„ApplicationContextInitializer setInitializers((Collection) getSpringFactoriesInstances( ApplicationContextInitializer.class)); // è·å–å¹¶ä¿å­˜ç›‘å¬å™¨ // åˆ©ç”¨loadFactoryNamesæ–¹æ³•ä»è·¯å¾„MEAT-INF/spring.factoriesä¸­æ‰¾åˆ°æ‰€æœ‰çš„ApplicationListener setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class)); // ä»å †æ ˆä¿¡æ¯è·å–åŒ…å«mainæ–¹æ³•çš„ä¸»é…ç½®ç±» this.mainApplicationClass = deduceMainApplicationClass();&#125; å®ä¾‹åŒ–åè°ƒç”¨runï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; FailureAnalyzers analyzers = null; // é…ç½®å±æ€§ configureHeadlessProperty(); // è·å–ç›‘å¬å™¨ // åˆ©ç”¨loadFactoryNamesæ–¹æ³•ä»è·¯å¾„MEAT-INF/spring.factoriesä¸­æ‰¾åˆ°æ‰€æœ‰çš„SpringApplicationRunListener SpringApplicationRunListeners listeners = getRunListeners(args); // å¯åŠ¨ç›‘å¬ // è°ƒç”¨æ¯ä¸ªSpringApplicationRunListenerçš„startingæ–¹æ³• listeners.starting(); try &#123; // å°†å‚æ•°å°è£…åˆ°ApplicationArgumentså¯¹è±¡ä¸­ ApplicationArguments applicationArguments = new DefaultApplicationArguments( args); // å‡†å¤‡ç¯å¢ƒ // è§¦å‘ç›‘å¬äº‹ä»¶â€”â€”è°ƒç”¨æ¯ä¸ªSpringApplicationRunListenerçš„environmentPreparedæ–¹æ³• ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); // ä»ç¯å¢ƒä¸­å–å‡ºBannerå¹¶æ‰“å° Banner printedBanner = printBanner(environment); // ä¾æ®æ˜¯å¦ä¸ºwebç¯å¢ƒåˆ›å»ºwebå®¹å™¨æˆ–è€…æ™®é€šçš„IOCå®¹å™¨ context = createApplicationContext(); analyzers = new FailureAnalyzers(context); // å‡†å¤‡ä¸Šä¸‹æ–‡ // 1.å°†environmentä¿å­˜åˆ°å®¹å™¨ä¸­ // 2.è§¦å‘ç›‘å¬äº‹ä»¶â€”â€”è°ƒç”¨æ¯ä¸ªSpringApplicationRunListenersçš„contextPreparedæ–¹æ³• // 3.è°ƒç”¨ConfigurableListableBeanFactoryçš„registerSingletonæ–¹æ³•å‘å®¹å™¨ä¸­æ³¨å…¥applicationArgumentsä¸printedBanner // 4.è§¦å‘ç›‘å¬äº‹ä»¶â€”â€”è°ƒç”¨æ¯ä¸ªSpringApplicationRunListenersçš„contextLoadedæ–¹æ³• prepareContext(context, environment, listeners, applicationArguments, printedBanner); // åˆ·æ–°å®¹å™¨ï¼Œå®Œæˆç»„ä»¶çš„æ‰«æï¼Œåˆ›å»ºï¼ŒåŠ è½½ç­‰ refreshContext(context); afterRefresh(context, applicationArguments); // è§¦å‘ç›‘å¬äº‹ä»¶â€”â€”è°ƒç”¨æ¯ä¸ªSpringApplicationRunListenerçš„finishedæ–¹æ³• listeners.finished(context, null); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; // è¿”å›å®¹å™¨ return context; &#125; catch (Throwable ex) &#123; handleRunFailure(context, listeners, analyzers, ex); throw new IllegalStateException(ex); &#125;&#125; ä¸ºäº†å»ºç«‹è°ƒç”¨é€»è¾‘ç”»äº†ä¸€å¼ å›¾ï¼Œæ¯”è¾ƒç²—ç³™ æ€»ç»“SpringApplication.runä¸€å…±åšäº†ä¸¤ä»¶äº‹ åˆ›å»ºSpringApplicationå¯¹è±¡ï¼›åœ¨å¯¹è±¡åˆå§‹åŒ–æ—¶ä¿å­˜äº‹ä»¶ç›‘å¬å™¨ï¼Œå®¹å™¨åˆå§‹åŒ–ç±»ä»¥åŠåˆ¤æ–­æ˜¯å¦ä¸ºwebåº”ç”¨ï¼Œä¿å­˜åŒ…å«mainæ–¹æ³•çš„ä¸»é…ç½®ç±»ã€‚ è°ƒç”¨runæ–¹æ³•ï¼›å‡†å¤‡springçš„ä¸Šä¸‹æ–‡ï¼Œå®Œæˆå®¹å™¨çš„åˆå§‹åŒ–ï¼Œåˆ›å»ºï¼ŒåŠ è½½ç­‰ã€‚ä¼šåœ¨ä¸åŒçš„æ—¶æœºè§¦å‘ç›‘å¬å™¨çš„ä¸åŒäº‹ä»¶ https://www.cnblogs.com/davidwang456/p/5846513.html","raw":null,"content":null,"categories":[{"name":"SpringBoot","slug":"SpringBoot","permalink":"http://zehai.info/categories/SpringBoot/"}],"tags":[{"name":"annotation","slug":"annotation","permalink":"http://zehai.info/tags/annotation/"}]},{"title":"2019-12-14-åˆ†å¸ƒå¼ç³»ç»Ÿ","slug":"2019-12-14-åˆ†å¸ƒå¼ç³»ç»Ÿ","date":"2019-12-14T07:41:03.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/12/14/2019-12-14-åˆ†å¸ƒå¼ç³»ç»Ÿ/","link":"","permalink":"http://zehai.info/2019/12/14/2019-12-14-%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"[TOC] åˆ†å¸ƒå¼é”åŸå› ï¼šç›®çš„ï¼š æ•°æ®åº“å”¯ä¸€ç´¢å¼•redis çš„SETNXredisçš„RedLockåˆ†å¸ƒå¼äº‹åŠ¡CAPBASEPaxosRaft","raw":null,"content":null,"categories":[{"name":"Distribution","slug":"Distribution","permalink":"http://zehai.info/categories/Distribution/"}],"tags":[{"name":"KnowageTree","slug":"KnowageTree","permalink":"http://zehai.info/tags/KnowageTree/"}]},{"title":"2019-10-27-DynamicProgrammingåŠ¨æ€è§„åˆ’","slug":"2019-10-27-DynamicProgrammingåŠ¨æ€è§„åˆ’","date":"2019-10-27T04:01:05.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/10/27/2019-10-27-DynamicProgrammingåŠ¨æ€è§„åˆ’/","link":"","permalink":"http://zehai.info/2019/10/27/2019-10-27-DynamicProgramming%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/","excerpt":"","text":"whatåŠ¨æ€è§„åˆ’æ˜¯é€šè¿‡ç»„åˆå­é—®é¢˜çš„è§£é‡Œæ±‚è§£åŸé—®é¢˜ï¼Œä¸€èˆ¬è¢«ç”¨æ¥æ±‚æœ€ä¼˜åŒ–é—®é¢˜ 1.åˆ»ç”»ä¸€ä¸ªæœ€ä¼˜è§£çš„ç»“æ„ç‰¹å¾ 2.é€’å½’å®šä¹‰æœ€ä¼˜è§£çš„å€¼ 3.è®¡ç®—æœ€ä¼˜è§£ 4.è®¡ç®—çš„ä¿¡æ¯æ„é€ æœ€ä¼˜è§£","raw":null,"content":null,"categories":[{"name":"Algorithms","slug":"Algorithms","permalink":"http://zehai.info/categories/Algorithms/"}],"tags":[{"name":"DynamicProgramming","slug":"DynamicProgramming","permalink":"http://zehai.info/tags/DynamicProgramming/"}]},{"title":"2019-09-21-ä¸­å°æ˜¯ä»€ä¹ˆ","slug":"2019-09-21-ä¸­å°æ˜¯ä»€ä¹ˆ","date":"2019-09-21T01:54:06.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/09/21/2019-09-21-ä¸­å°æ˜¯ä»€ä¹ˆ/","link":"","permalink":"http://zehai.info/2019/09/21/2019-09-21-%E4%B8%AD%E5%8F%B0%E6%98%AF%E4%BB%80%E4%B9%88/","excerpt":"","text":"whyå…¬å¸æœ€è¿‘ä¸Šäº†ä¸€å¥—ä¸­å°æœåŠ¡ï¼Œå› ä¸ºå¥½å¥‡æ‰€ä»¥æŸ¥äº†ä¸€ä¸‹èµ„æ–™ï¼Œä¸­å°æ˜¯ä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ï¼Œå°†å„ä¸ªæœåŠ¡ä¸­å…±åŒçš„ç»„ç»‡ï¼Œèµ„æºé›†ä¸­ç®¡ç†ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“æœåŠ¡ï¼Œå®è§‚ä¸Šæˆ‘ä»¬å¯ä»¥æŠŠæ·˜å®å®¢æˆ·ç«¯ï¼Œç›’é©¬ç”Ÿé²œï¼Œé¥¿äº†ä¹ˆçœ‹åšå¤§å‰ç«¯ï¼Œè€Œä»–ä»¬æœ‰ä¸€éƒ¨åˆ†å…±äº«æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ï¼Œæ”¯ä»˜åŠŸèƒ½ï¼Œæœç´¢åŠŸèƒ½ç­‰ åˆæ¯”å¦‚æˆ‘ä»¬å…¬å¸çš„ç”µå•†å¹³å°ï¼Œæ ¸å¿ƒç³»ç»ŸåŒ…æ‹¬ï¼ŒERPï¼ˆä¼ä¸šèµ„æºè®¡åˆ’å³ ERP Enterprise Resource Planningï¼‰ï¼ŒWMSï¼ˆä»“åº“ç®¡ç†ç³»ç»ŸWarehouse Management Systemï¼‰ä»¥åŠä¸€å¥—äº¤ä»˜ç³»ç»Ÿï¼ˆåŒ…å«è´­ä¹°ï¼Œå®‰è£…æœåŠ¡ï¼Œç»´ä¿®æœåŠ¡ï¼Œä»£ç†å•†ç®¡ç†ç­‰ï¼‰ï¼Œä»–ä»¬éœ€è¦å…±äº«å•†å“ä¿¡æ¯ï¼ŒERPéœ€è¦ç”¨æ¥ç®—è´¦ï¼ŒWMSéœ€è¦ç”¨æ¥å‘è´§ï¼Œäº¤ä»˜ç³»ç»Ÿéœ€è¦ç”¨æ¥è®°å½•ä»–çš„ç”Ÿå‘½å‘¨æœŸï¼Œå°±åœ¨ä¸­å°é…ç½®ä¸€å¥—ä¿¡æ¯ï¼Œå°±å¯ä»¥è¾¾åˆ°ä¸‰å¥—ç³»ç»Ÿéƒ½å¯ä»¥è®¿é—®çš„æ•ˆæœã€‚ whatä¸­å°ä¹Ÿå¯ä»¥åˆ†ç±»ï¼š ä¸šåŠ¡ä¸­å°ï¼ˆå¦‚ä¸Šä¸¾ä¾‹æˆ‘ä»¬å…¬å¸çš„ä¸šåŠ¡ï¼‰ æŠ€æœ¯ä¸­å°ï¼ˆå¦‚æ·˜å®çš„ä¸­å°ï¼Œå½“ç„¶ä¹Ÿæœ‰åä¸šåŠ¡çš„éƒ¨åˆ†ï¼Œä¸»è¦ç›®çš„é˜²æ­¢é‡å¤é€ è½®å­ï¼‰ æ•°æ®ä¸­å°ï¼ˆåŒ…æ‹¬å»ºæ¨¡ï¼Œæ—¥å¿—åˆ†æï¼Œprofileï¼‰ ç®—æ³•ä¸­å°ï¼ˆæ¨èç®—æ³•ï¼Œæœç´¢ç®—æ³•ç­‰ï¼‰ featureç›®å‰ä¸­å°è¿˜æ˜¯æ¯”è¾ƒçƒ§é’±çš„å§ï¼Œå…¬å¸æ²¡æœ‰åˆ°è¾¾ä¸€å®šçš„è§„æ¨¡ï¼Œè¿™ä¸ªä¸œè¥¿è¿˜æ˜¯æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œæˆ‘ä»¬ç›®å‰ä¸Šäº†ä¸€å¥—ERPï¼Œä¸€å¥—ä¸­å°ï¼Œçº§åˆ«åœ¨åƒä¸‡å§ï¼Œè¿˜éœ€è¦å„ä¸ªéƒ¨é—¨è¿›è¡Œé…åˆï¼Œè¿›è¡Œç³»ç»Ÿæ•´åˆï¼ˆä»¥å‰éƒ½æ˜¯å„å¹²å„çš„ï¼Œç³»ç»Ÿé—´å‡ ä¹æ²¡æœ‰äº¤äº’ï¼Œé‡å¤é€ è½®å­ï¼‰ã€‚æ¶å¿ƒçš„æˆ‘å•Šï¼ŒåŠ äº†10117äº†ä¸‰ä¸ªæœˆæ‰å¤§ä½“ä¸Šèƒ½ç”¨äº† ä¸è¿‡æˆ‘è§‰å¾—ä¸­å°çš„å‘å±•å†å²å¯èƒ½å’ŒæœåŠ¡ä¸€æ ·ï¼Œä¸€ä¸ªæ•´ä½“çš„æœåŠ¡è‡ƒè‚¿ï¼Œåç»­çš„ä¸­å°è¿˜æ˜¯ä¼šå˜æˆä¸­å¿ƒåŒ–ï¼Œå³ä¸€ä¸ªæ ¸å¿ƒä¸šåŠ¡ï¼Œå…¶ä»–åšæˆå¾®æœåŠ¡ï¼Œåˆ†å¸ƒå¼çš„æ¶æ„ï¼Œæ˜¯ç›®å‰æŠ€æœ¯æ½®æµçš„å‰è¿›æ–¹å‘","raw":null,"content":null,"categories":[{"name":"Java","slug":"Java","permalink":"http://zehai.info/categories/Java/"}],"tags":[]},{"title":"2019-09-14Nodeæ—¥å¿—æ„Ÿå—","slug":"2019-09-14-Nodeæ—¥å¿—æ„Ÿå—","date":"2019-09-14T12:33:37.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/09/14/2019-09-14-Nodeæ—¥å¿—æ„Ÿå—/","link":"","permalink":"http://zehai.info/2019/09/14/2019-09-14-Node%E6%97%A5%E5%BF%97%E6%84%9F%E5%8F%97/","excerpt":"","text":"whyæ—¥å¿—æ˜¯ç”¨æ¥è®°å½•ç¨‹åºè¿è¡Œé‡è¦çš„å·¥å…· è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œå…³é”®èŠ‚ç‚¹æ‰“ä¸Šæ—¥å¿—ï¼Œå¯ä»¥è¿½è¸ªé—®é¢˜ï¼ˆç”Ÿäº§ï¼‰ æ–¹ä¾¿è°ƒè¯•ï¼Œå®šä½æ•…éšœ ç›‘æ§åº”ç”¨çš„è¿è¡ŒçŠ¶æ€ what(egg.jsä¸ºä¾‹)æ—¥å¿—åˆ†ä¸ºï¼š appLoggeråº”ç”¨æ—¥å¿—ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„æ—¥å¿— coreLoggeræ ¸å¿ƒæ¡†æ¶ï¼Œæ’ä»¶æ—¥å¿— errorLogger agentLoggerç”¨äºç›‘æ§agentæ—¥å¿— æ—¥å¿—çº§åˆ«ï¼š ctx.logger.debug() ctx.logger.info() ctx.logger.warn() ctx.logger.error() ä»¥appLoggerä¸ºä¾‹ï¼Œä¸€å…±4*4ç§ æ—¥å¿—ç¼–ç ï¼š é»˜è®¤utf-8 featureç›®å‰æ—¥å¿—éƒ½æ”¯æŒåˆ‡å‰²ï¼Œæ¯å¤©ä¸€ä¸ªæ–‡ä»¶ï¼Œä»¥.log.2019-09-14ä¸ºå°¾ç¼€ï¼ˆå°æ—¶åˆ‡å‰²å’Œæ–‡ä»¶å¤§å°åˆ‡å‰²å®ç”¨æ€§ä¸é«˜ï¼‰ï¼Œç¼–å†™æ—¥å¿—çš„æ—¶å€™æˆ‘ä»¬ä¹Ÿéœ€è¦æ³¨æ„å¦‚ä¸‹å‡ ç‚¹ï¼š åœ¨å…³é”®è¯·æ±‚å…³é”®ä½ç½®æ‰“å¥½æ—¥å¿— æ‰“å°æ—¥å¿—æ³¨æ˜è¿™æ˜¯å“ªä¸ªæ–‡ä»¶å“ªä¸ªæ–¹æ³•å¤„ç†çš„æ—¥å¿— logger.debug(`&gt;&gt;&gt;&gt; Entering yourMethod(month = $&#123;month&#125;, count= $&#123;count&#125;\"); //é€šè¿‡æ—¥å¿— &gt;&gt;&gt;&gt; å’Œ &lt;&lt;&lt;&lt; å°†ç»™å‡ºå‡½æ•°è¾“å…¥å’Œé€€å‡ºçš„ä¿¡æ¯ æ—¥å¿—ä¸èƒ½å¤ªå¤šï¼Œä¸€ä¸ªæ˜¯æŸ¥é—®é¢˜æ—¥å¿—å¤ªå¤šï¼Œç¬¬äºŒä¸ªæ˜¯å¯¹ç¡¬ç›˜å†™å…¥æ—¥å¿—ä¹Ÿæœ‰ä¸€å®šæ€§èƒ½å½±å“ï¼ˆeggæ˜¯å†™å…¥å†…å­˜ï¼Œæ¯ç§’ä¿å­˜ä¸€æ¬¡ç¡¬ç›˜ï¼‰ åˆç†ä½¿ç”¨try-catchæ¥è¿›è¡Œæ—¥å¿—è¾“å‡º æ—¥å¿—å†™æ³•ä¸€å®šè¦é¿å…ç®€æ´ï¼Œä¸è¦æ—¥å¿—å†æŠ›é”™ï¼ˆæ­£å¸¸æ‰“å°å‚æ•°ï¼Œæ‰“å°å¤„ç†ç»“æœï¼‰ æ—¥å¿—ä¸èƒ½å…·å¤‡é™¤äº†æ—¥å¿—ä»¥å¤–çš„åŠŸèƒ½ æ­£ç¡®æŠŠæ¡æ—¥å¿—çº§åˆ«ï¼Œinfoè®°å½•ä¿¡æ¯ï¼ˆæœ€ä¸»è¦çš„ï¼‰ï¼Œdebugæ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ï¼Œwarnæ˜¾ç¤ºè­¦å‘Šï¼Œerrorä¿å­˜æ•°æ®åº“è¯·æ±‚ç±»å‹çš„æŠ¥é”™ å°½é‡ä½¿ç”¨ctx.loggerè€Œå¹¶éconsole.logï¼Œåè€…å°†ä¼šæŠŠæ‰€æœ‰æ—¥å¿—æ‰“å°åœ¨stdoutä¸­ï¼Œæ— æ³•å…³é—­æˆ–æ‰“å¼€è°ƒè¯•ä¿¡æ¯ï¼Œå¹¶ä¸”ä¸åŒºåˆ†çº§åˆ«","raw":null,"content":null,"categories":[{"name":"Node","slug":"Node","permalink":"http://zehai.info/categories/Node/"}],"tags":[{"name":"logs","slug":"logs","permalink":"http://zehai.info/tags/logs/"}]},{"title":"ç»å…´æ¸¸è®°","slug":"2019-05-05-ç»å…´æ¸¸è®°","date":"2019-05-06T06:09:05.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/05/06/2019-05-05-ç»å…´æ¸¸è®°/","link":"","permalink":"http://zehai.info/2019/05/06/2019-05-05-%E7%BB%8D%E5%85%B4%E6%B8%B8%E8%AE%B0/","excerpt":"","text":"5æœˆ1æ—¥æ­è½¦å»äº†ç»å…´ï¼Œä¸€ä¸ªæ˜¯è‡ªå·±æ¯•ä¸šåå…¶å®æ—¢æ²¡æœ‰æ¯•ä¸šæ—…è¡Œï¼Œä¹Ÿæ²¡æœ‰å»å“ªé‡Œç©å„¿ï¼Œæ‰€ä»¥æƒ³è¡¥å¿è‡ªå·±ä¸€ä¸‹ï¼Œç¬¬äºŒä¸ªæ˜¯æˆ‘è¡¨å§ç»™æˆ‘ä¹°äº†ç¥¨äº†ï¼Œæƒ³ç€è¿˜æ˜¯å»å§ã€‚ å› ä¸ºæœ€åä¸€ä¸ªå·¥ä½œæ—¥åŠ äº†ä¸ªç­ï¼Œç„¶ååˆèµ·å¾—å¾ˆæ—©ï¼Œè¯»ç€ä¸œé‡åœ­å¾çš„ã€Šå«Œç–‘äººXçš„çŒ®èº«ã€‹ï¼Œä¸­åˆé¥¿äº†å°±åœ¨é«˜é“ä¸Šä¹°äº†15å…ƒçš„ç›’é¥­ï¼Œæ‹¿ç€kindleå¼ºè¡Œç›–äº†ä¼šå„¿ï¼Œï¼Œé”å±çªç„¶æ¨é€äº†å¹¿å‘Šï¼Œè¿™å‡ ä¸ªå­—ï¼Œè¯»äº†å¥½å‡ éï¼Œå¥½æ˜¯å–œæ¬¢ã€‚è€³æœºåˆšå¥½æ’­æ”¾åˆ°æœ€è¿‘å¾ˆæ˜¯å–œæ¬¢çš„ã€Šä½ çš„é…’é¦†å¯¹æˆ‘æ‰“äº†æ ·ã€‹ï¼Œæˆ‘è°ƒæ•´äº†æ¤…å­ï¼Œæ—¶é€Ÿ307kmé€ƒç¦»ç€è¿™åº§æœ‰ä½ çš„åŸå¸‚ã€‚ æ­å·é«˜æ¥¼é³æ¬¡æ ‰æ¯”ï¼Œç©¿è¿‡ä¸€æ ‹æ ‹é«˜æ¥¼å°±æ¥åˆ°äº†ç»å…´ï¼Œè¿™ä¸ªåŸå¸‚ä¸æ˜¯å¾ˆç¹åï¼Œå€’ä¹Ÿæ˜¯ä¸€ä¸ªä¿ç•™çš„å¾ˆå¥½çš„æ±Ÿå—å¤é•‡ï¼Œæˆ‘å¾ˆå–œæ¬¢è¿™é‡Œï¼Œç«è½¦ç«™ï¼ŒèƒŒç€åŒ…ï¼Œå¸æœºå¸ˆå‚…æ“ç€ä¸€å£æµç•…çš„æ™®é€šè¯ç¤¼è²Œçš„é—®ç€æˆ‘å»å“ªå„¿ï¼Œä¸€è¾¹ä»‹ç»ç€é£æ™¯åèƒœï¼Œæ»¡æ»¡çš„éƒ½æ˜¯å¯¹è¿™ä¸ªåŸå¸‚çš„çƒ­çˆ±ï¼Œæœ‰é£æ™¯åèƒœå…°äº­ï¼Œå£®é˜”çš„ä¸œæ¹–ï¼Œä¸€ä¸ªæ…¢èŠ‚å¥çš„å°åŸå¸‚ï¼Œé™¤å´äº†å¯¹é‡‘é’±çš„æ¸´æœ›ï¼Œè¿æ½å®¢éƒ½å˜å¾—é‚£ä¹ˆæ‚ é—²ã€‚ åƒè¿‡é¥­ï¼Œå’Œä¾„å­ä¸€èµ·å»äº†ä»“æ¡¥ç›´è¡—ï¼Œå…¶å®å¯ä»¥ç†è§£ä¸ºä½é…ç‰ˆçš„å—é”£é¼“å··ï¼Œäººä¸ç®—ç‰¹åˆ«å¤šå§ï¼Œä½†æ˜¯é£æ™¯å´å¾ˆå¥½çš„ä¿ç•™äº†æ±Ÿå—çš„é£å‘³ï¼Œä¸€è½®æ˜æœˆï¼ˆép30proï¼‰ï¼Œä»¥åŠç¯å…‰çš„çƒ˜æ‰˜ï¼Œè®©æ±Ÿå—çš„å¤œæ™šï¼Œä¼¼ä¹æ¯”ç™½å¤©æ›´åŠ çš„å¤ºç›®ã€‚é™ˆæ—§çš„è¡—å··ä¿ç•™äº†æœ€åˆçš„æœ€åŸå§‹çš„çŸ³æ¿è¡—ï¼Œè¡—è¾¹çš„åº—å®¶è¿˜æ˜¯å¾ˆå¤æ—§çš„æ’‘ç€æ——å¸œï¼Œè¿˜æ˜¯è¿‡å»é‚£ç§ä¸€ä¸ªå¾ˆå¤§çš„é—¨ï¼ˆ2mé«˜*7ä¸ªæœ¨æ¿ï¼‰è¿˜æœ‰å¾ˆå¤šè¿‡å»çš„å®£ä¼ æ ‡è¯­ï¼Œå½“ç„¶ä¹Ÿæœ‰å¾ˆå¤šå°åƒã€‚ ç¬¬äºŒå¤©çš„è¡Œç¨‹ä¸»è¦å°±æ˜¯é²è¿…æ•…å±…äº†ï¼Œå…¶å®å¹¶æ²¡æœ‰ä»€ä¹ˆè®©æˆ‘çœ¼å‰ä¸€äº®çš„åœ°æ–¹ï¼Œå› ä¸ºè¿™é‡Œçš„äººå®åœ¨å¤ªå¤šäº†ï¼Œæˆ‘æ—©ä¸Šä¹ç‚¹åŠæŠµè¾¾æ™¯ç‚¹ï¼Œåˆ°11ç‚¹æ‰æ’é˜Ÿè¿›å…¥äº†é²è¿…ç¥–å±…ï¼Œå€’ä¹Ÿå¾ˆæ˜¯æ²®ä¸§ï¼Œè€Œä¸”ç¥–å±…é‡Œå…¶å®å¹¶æ²¡æœ‰ä»€ä¹ˆå€¼å¾—å‚è€ƒçš„ï¼Œæ¸¸äººä»¬çœ‹é•¿å®‰èŠ±ä¸€æ ·ï¼Œå‚è§‚è€…ä¸€ä¸ªä¸€ä¸ªçš„æˆ¿é—´ã€‚ç„¶åæˆ‘åˆæ’é˜Ÿäº†40åˆ†é’Ÿè¿›å…¥äº†ç™¾è‰å›­ï¼Œæƒ³ä¸€çœ‹é²è¿…ç«¥å¹´æœ€å¿«ä¹çš„åœ°æ–¹ï¼Œä½†å´ä¹Ÿä»€ä¹ˆä¹Ÿæ²¡æœ‰çœ‹åˆ°ï¼Œä¸€ä¸ªä¸æ˜¯å¾ˆå¥½çœ‹çš„èŠ±å›­ï¼Œæ–™ç†çš„å’Œæˆ‘çˆ·çˆ·çš„èœåœ°ä¸€æ ·ï¼Œä¸è¿‡æˆ–è®¸æ ‘äººç«¥å¹´å°±æ˜¯åœ¨è¿™ä¹ˆä¸€å—åœ°æ–¹è¿›è¡Œç©è€çš„ï¼Œå¾ˆå¤šæ¸¸äººå›´ç€ç™¾è‰å›­çš„ä¸€å—å¤§çŸ³å¤´ä¸Šåˆå½±ç•™æ‹ï¼Œæ’ç€é˜Ÿï¼Œå„ç§å§¿åŠ¿æ‘†æ‹ï¼Œä»¤æˆ‘è§‰å¾—å¾ˆæ˜¯ä¸èˆ’æœï¼ˆæˆ‘ä¹Ÿæ²¡æœ‰æ‹åˆ°ï¼‰ã€‚ å€’ä¹Ÿæ€ä¹ˆçœ‹ï¼Œé²è¿…çš„ç«¥å¹´åº”è¯¥ä¹Ÿå¾ˆæ˜¯æ— èŠï¼Œå¼ºè¡Œæ‰¾ç€è‡ªå·±çš„ä¹å­å§ï¼Œåæ¥æ’äº†30åˆ†é’Ÿçš„é˜Ÿä¼å»äº†ä¸‰å‘³ä¹¦å±‹ï¼Œå…¶å®æˆ‘å½“æ—¶çš„å¿ƒæƒ…æ˜¯æŠ—æ‹’çš„ï¼Œä½†è¿˜æ˜¯å¿ç€çƒˆæ—¥ï¼Œèµ°ä¸Šäº†ä¸å½’çš„é˜Ÿä¼ï¼Œä¹¦å±‹çš„æ™¯ç‚¹å…¶å®å¾ˆå°ï¼Œä¸€ä¸ªå°çš„æ•™å®¤ï¼Œä¸¤è¾¹æ˜¯å®¶é•¿çš„åå¸­ï¼Œä¸­é—´æ˜¯å­¦ç”Ÿçš„åº§ä½ï¼Œå›¾ç‰‡å¯ä»¥çœ‹åˆ°é²è¿…å…¶å®æ˜¯ååœ¨è®²å°å·¦è¾¹çš„ï¼Œçœ‹æ¥ä»–å°æ—¶å€™ä¹Ÿæ˜¯ä¸ªå…ˆç”Ÿç‰¹åˆ«å…³ç…§çš„å¯¹è±¡é¸­ã€‚ å…¶å®æ¯é€›å®Œä¸€ä¸ªæ™¯ç‚¹éƒ½æ˜¯éå¸¸é•¿çš„å•†ä¸šè¡—ï¼Œè·¯çš„ä¸¤è¾¹å……æ–¥ç€ç‰¹äº§è±†è…ï¼Œé»„é…’äº§å“ï¼Œè™½ç„¶æˆ‘ä¸æ˜¯å¾ˆåæ„Ÿè¿™ç§æ™¯ç‚¹æ°é¥­æƒ…æ™¯ï¼Œä½†æ˜¯æ»¡è¡—é£˜ç€è‡­è±†è…çš„å‘³é“ï¼Œå›è¡åœ¨é²è¿…æ•…å±…çš„ä¸Šç©ºï¼Œä½†å¤šå°‘ä¹Ÿæ˜¯æœ‰ç‚¹è¿å’Œï¼Œç¬¬äºŒå¤©çš„è¡Œç¨‹æ˜¯å®‰æ˜Œå¤é•‡ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ã€‚ å†å²çš„å‰è½®ç¢¾å‹è€Œè¿‡ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½å› ä¸ºå•†ä¸šåŒ–è€Œä¸¢å¤±äº†æ›¾ç»çš„è‡ªå·±ï¼Œä¸è¿‡æ€»ä½“æ¥è®²æˆ‘è¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢åƒè¿‡åˆé¥­ï¼Œåœ¨æ±Ÿå—çš„æ°´è¾¹èµ°ç€ï¼Œé‡åˆ°ä¸€ä½94å²çš„å¥¶å¥¶æ™’å¤ªé˜³ï¼Œæ‰“äº†ä¸ªæ‹›å‘¼ï¼Œä»–å±…ä½åœ¨è¿™é‡Œä¸‰åå¹´äº†ï¼Œæ¯æ¬¡èŠ‚å‡æ—¥ï¼Œè¿™é‡Œéƒ½ä¼šæ¥å¾ˆå¤šäººï¼Œä¹‹å‰å°±åœ¨è¿™æ²³é‡Œæ´—è¡£æœï¼Œæ‰“æ°´ï¼Œåæ¥è…¿è„šä¸æ–¹ä¾¿äº†ï¼Œå°±æ¬æŠŠå‡³å­ååœ¨è¿™é‡Œï¼Œå¬ç€ç¹åçš„å£°éŸ³ï¼Œæ™’ç€å¤ªé˜³ï¼Œçœ‹ç€èˆ¹å¤«é€èµ°ä¸€ä¸ªåˆä¸€ä¸ªäººï¼Œè¿™é‡Œçš„ç“¦å¹´é¾„éƒ½å¾ˆå¤§ï¼Œä¹‹å‰å±‹å­çš„ç“¦è¿˜åè¿‡ä¸€ä¸ªï¼Œä»–æŠ˜è…¾äº†å¥½ä¹…æ‰æš‚æ—¶ä¸æ»´æ°´äº†ï¼Œå¥¹æ¶›æ¶›ä¸è§‰çš„è®²ç€ï¼Œæ²‰é†‰åœ¨è¿™ä¸ªå°é•‡å¸¦ç»™ä»–çš„å¿«ä¹å’Œçƒ¦æ¼ä¸­ ä¸¤å¤©çš„è¡Œç¨‹ä¸æ˜¯å¾ˆæ»¡ï¼Œä¸æ˜¯å¾ˆç´¯ï¼Œä¹Ÿä¸æ˜¯å¾ˆè½»æ¾ï¼ˆåˆ°å“ªå„¿ï¼Œå“ªå„¿éƒ½æ’é˜Ÿï¼‰ï¼Œå›å»æ²¡æœ‰æŠ¢åˆ°ç¥¨ï¼Œä»ç»å…´ä¸€ç›´ç«™ç€å›äº†åŒ—äº¬ï¼Œå°è¯´ç¡®å®ä¹Ÿæ²¡æœ‰è¯»çš„ä¸‹å»ï¼Œæˆ‘çœ‹ç€çª—å¤–çš„é£æ™¯ï¼Œæ€å¿µç€ä¸€ä¸ªäººï¼Œè®¤è¯†è¿™ä¹ˆä¹…ï¼Œæˆ‘è¿˜æ²¡å’Œä½ ä¸€èµ·æ—…æ¸¸è¿‡","raw":null,"content":null,"categories":[],"tags":[]},{"title":"2019-04-24-Nodejs12","slug":"2019-04-24-Nodejs12","date":"2019-04-24T15:13:10.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/04/24/2019-04-24-Nodejs12/","link":"","permalink":"http://zehai.info/2019/04/24/2019-04-24-Nodejs12/","excerpt":"","text":"Introducing Node.js 12raw article Apr 24 This blog was written by Bethany Griggs and Michael Dawson, with additional contributions from the Node.js Release Team and Technical Steering committee. We are excited to announce Node.js 12 today. Highlighted updates and features include faster startup and better default heap limits, updates to V8, TLS, llhttp, new features including diagnostic report, bundled heap dump capability and updates to Worker Threads, N-API and ES6 module support and more. The Node.js 12 release replaces version 11 in our current release line. The Node.js release line will become a Node.js Long Term Support (LTS) release in Oct 2019 (more details on LTS strategy here). V8 Gets an Upgrade: V8 update to V8 7.4As always a new version of the V8 JavaScript engine brings performance tweaks and improvements as well as keeping Node.js up with the ongoing improvements in the language and runtime. Highlights include: Async stack traces: https://v8.dev/blog/v8-release-72#async-stack-traces Faster calls with arguments mismatch: https://v8.dev/blog/v8-release-74#faster-calls-with-arguments-mismatch Faster await: https://v8.dev/blog/v8-release-73#faster-await Faster javascript parsing: https://v8.dev/blog/v8-release-72#javascript-parsing Read more about V8 at their official blog. Hello TLS 1.3 Node.js 12 is introducing TLS1.3 support and making it the default max protocol, while also supporting CLI/NODE_OPTIONS switches to disable it if necessary. TLS1.3 is a major update to the TLS protocol, with many security enhancements and should be used over TLS1.2 whenever possible. TLS1.3 is different enough that even though the OpenSSL APIs are technically API/ABI compatible when TLS1.3 is negotiated, changes in the timing of protocol records and of callbacks broke assumptions hard-coded into the â€˜tlsâ€™ module. This change introduces no API incompatibilities when TLS1.2 is negotiated. It is the intention that it be backported to current and LTS release lines with the default maximum TLS protocol reset to â€˜TLSv1.2â€™. This will allow users of those lines to explicitly enable TLS1.3 if they want. If you want to read more you can check out these related articles:https://developer.ibm.com/blogs/openssl-111-has-landed-in-nodejs-master-and-why-its-important-for-nodejs-lts-releases/, https://developer.ibm.com/blogs/tls13-is-coming-to-nodejs/ Properly configure default heap limitsThis update will configure the JavaScript heap size based on available memory instead of using defaults that were set by V8 for use with browsers. In previous releases, unless configured, V8 defaulted to limiting the max heap size to 700 MB or 1400MB on 32 and 64-bit platforms respectively. Configuring the heap size based on available memory ensures that Node.js does not try to use more memory than is available and terminating when its memory is exhausted. This is particularly useful when processing large data-sets. As before, it will still be possible to set â€” max-old-space-size to use a different limit if the default is not appropriate for your application. Switch default http parser to llhttpNode.js 12 will also switch the default parser to llhttp. This will be beneficial in that it will make testing and comparing the new llhttp-based implementation easier. First introduced as llhttp experimental in v11.2.0, llhttp will be taken out of experimental in this release. Making Native Modules Easier â€” progress continuesNode.js 12 continues the trend of making building and supporting native modules easier. Changes include better support for native modules in combination with Worker threads, as well as N-API (https://nodejs.org/api/n-api.html#n_api_n_api) version 4 (which has also been backported to 8.x and 10.x) which makes it easier to use your own threads for native asynchronous functions. You can read more about this and how you can leverage it in your modules in this great article here: https://medium.com/the-node-js-collection/new-features-bring-native-add-ons-close-to-being-on-par-with-js-modules-cd4f9b8e4b4 Worker ThreadsWorker Threads (https://nodejs.org/api/worker_threads.html), while not new in this release, are still seeing progress. The use of Workers Threads no longer requires the use of a flag and they are progressing well towards moving out of experimental. While Node.js already performs well with the single-threaded event loop, there are some use-cases where additional threads can be leveraged for better results. Weâ€™d like you to try them out and let us know what use cases you have where they are helpful. For a quick introduction check out this great article: https://medium.com/@Trott/using-worker-threads-in-node-js-80494136dbb6. Diagnostic ReportsNode.js 12 brings with it a new experimental feature â€œDiagnostic report.â€ This allows you to generate a report on demand or when certain events occur. This report contains information that can be useful to help diagnose problems in production including crashes, slow performance, memory leaks, high CPU usage, unexpected errors and more. You can read more about it in this great article: https://medium.com/the-node-js-collection/easily-identify-problems-in-node-js-applications-with-diagnostic-report-dc82370d8029. Heap DumpsIf you ever needed to generate heap dumps in order to investigate memory issues but were slowed down by having to install a new module into production, the good news is that Node.js 12 brings integrated heap dump capability out of the box. You can check out the documentation in https://github.com/nodejs/node/pull/27133 and https://github.com/nodejs/node/pull/26501 to learn more. Startup ImprovementsIn Node.js 11 we shipped built-in code cache support in workers â€” when loading built-in libraries written in JavaScript, if the library was previously compiled on the main thread, the worker thread no longer needs to compile it from scratch but can reuse the v8 code cache generated by the main thread to speed up compilation. Similarly, the main thread can reuse the cache generated by workers. This gave a roughly 60% speedup for the startup of workers. Now in Node.js 12 we generate the code cache for built-in libraries in advance at build time, and embed it in the binary, so in the final release, the main thread can use the code cache to start up the initial load of any built-in library written in JavaScript. This gives a ~30% speedup in startup time for the main thread. ES6 Module SupportNode.js 12 brings an updated experimental version of support for ES6 modules. It is an important step toward a supported implementation and weâ€™d like you to try it out and give us feedback. For more details check out this great blog post. New compiler and platform minimumsNode.js and V8 continue to embrace newer C++ features and take advantage of newer compiler optimizations and security enhancements. With the release of Node.js 12, the codebase now requires a minimum of GCC 6 and glibc 2.17 on platforms other than macOS and Windows. Binaries released at Node.js org use this new toolchain minimum and therefore include new compile-time performance and security enhancements. The increment in minimum compiler and libc requirements also increments minimums in supported platforms. Platforms using glibc (most platforms other than macOS and Windows) must now include a minimum version of 2.17. Common Linux platforms compatible with this version include Enterprise Linux 7 (RHEL and CentOS), Debian 8 and Ubuntu 14.04. Binaries available from nodejs.org will be compatible with these systems. Users needing to compile their own binaries on systems not natively supporting GCC 6 may need to use a custom toolchain. Even though Node.js 12.0.0 may compile with older compilers, expect the Node.js 12 codebase (including V8) to rapidly adopt C++ features supported by GCC 6 during the pre-LTS timeframe. Windows minimums remain the same as Node.js 11, requiring at least Windows 7, 2008 R2 or 2012 R2 and a minimum compiler of Visual Studio 2017. macOS users needing to compile Node.js will require a minimum of Xcode 8 and Node.js binaries made available on nodejs.org will only support a minimum of macOS 10.10 â€œYosemiteâ€. Further details are available in the Node.js BUILDING.md. Thank you!A big thank you to everyone who made this release come together, whether you submitted a pull request, helped with our benchmarking efforts, or you were in charge of one of the release versions. Weâ€™d also like to thank the Node.js Build Working Group for ensuring we have the infrastructure to create and test releases. The release manager for Node.js 12 is Bethany Griggs. For a full list of the release team members head here. You can read more about the complete list of features here. If you are interested in contributing to Node.js, we welcome you. Learn more via our contributor guidelines.","raw":null,"content":null,"categories":[],"tags":[]},{"title":"2019-04-20-rentingHouse","slug":"2019-04-20-rentingHouse","date":"2019-04-20T15:23:38.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/04/20/2019-04-20-rentingHouse/","link":"","permalink":"http://zehai.info/2019/04/20/2019-04-20-rentingHouse/","excerpt":"","text":"å¿«è¦æ¯•ä¸šäº†ï¼Œæœ‹å‹åœˆé‡Œæ´‹æº¢ç€ï¼Œæ¯•ä¸šçš„å¿«ä¹ï¼Œç›´ç³»å­¦å¼Ÿä»¬ä¹Ÿè¿”æ ¡è¿›è¡Œäº†æ¯•ä¸šè®ºæ–‡çš„æœ€ç»ˆç­”è¾©ï¼Œä¹Ÿå¸Œæœ›ä»–ä»¬éƒ½å–å¾—ä¸€ä¸ªå¥½çš„æˆç»©ï¼Œèƒ½åœ¨å›é¦–å¤§å­¦å››å¹´æ—¶å€™ï¼Œä¸å› ä¸ºç¢Œç¢Œæ— ä¸ºè€Œåæ‚”ï¼Œèƒ½å¤Ÿåœ¨ç¤¾ä¸€ä¸­ï¼Œæ‰¾åˆ°ä¸€ä»½åˆé€‚çš„å·¥ä½œï¼Œå¹¶æ„Ÿè°¢æ›¾ç»é‚£ä¸ªåœ¨å¤§å­¦å¥‹æ–—çš„è‡ªå·±ã€‚ æ¯•ä¸šå­£ç¬¬ä¸€é“åå°±æ˜¯ç§Ÿæˆ¿ï¼ˆå®¶é‡Œæœ‰çŸ¿çš„ï¼Œè¿™ç¯‡æ–‡ç« ä½ å°±å¯ä»¥å…³æ‰äº†ï¼‰ï¼Œæ€»ä½“æ¥è¯´ï¼Œåœ¨äº¬å°±ä¸šï¼Œæˆ¿ç§Ÿç¡®å®å¾ˆè´µçš„ï¼Œä¸è¿‡å¯¹äºè®¡ç®—æœºä¸“ä¸šæ¥è¯´ï¼Œåº”è¯¥è¿˜æ˜¯å¯ä»¥çš„ã€‚æˆ‘ä»¬ç†ŸçŸ¥çš„è®¡ç®—æœºåŒºåŸŸ æœ›äº¬SOHOï¼ˆå°ä¼ä¸šå±…å¤šï¼‰ ä¸­å…³æ‘ ä¸­å…³æ‘è½¯ä»¶å›­ï¼ˆå¤§å‚ï¼‰ å¯¹åº”çš„ç§Ÿæˆ¿åœ°ç‚¹å¯ä»¥é€‰æ‹©ï¼š å­™æ²³ï¼ˆå°±å¯èƒ½åœ°é“ç«™è¿œä¸€ç‚¹ï¼‰ ä¸Šåœ°é™„è¿‘ å›é¾™è§‚ï¼Œæœ±è¾›åº„ ä¸»è¦å¹³å°ï¼ˆæŒ‰æ¨èé¡ºåºï¼‰ï¼š è‡ªå¦‚ï¼ˆä¸ªäººé€‰æ‹©é¡¹ï¼Œåº”å±Šç”Ÿæœ‰ç‰¹æƒï¼‰ è±†ç“£å°ç»„ é—²é±¼ ç›¸å¦‚&gt;è›‹å£³=è´å£³ åº”å±Šç”Ÿå¯èƒ½å›Šä¸­ç¾æ¶©ï¼Œæ‰€ä»¥å»ºè®®é€‰æ‹©è‡ªå¦‚ï¼Œåˆ†æœŸæœˆä»˜ï¼ˆåº”å±Šå…æŠ¼é‡‘ï¼Œåˆ†èµ·è´¹120é™„è¿‘ï¼‰ï¼Œä¸è¿‡è®¡ç®—æœºä¸“ä¸šçš„åº”å±Šç”Ÿè–ªèµ„ç†è®ºä¸Šæ˜¯&gt;=7kï¼Œæ‰€ä»¥æˆ‘è§‰å¾—åº”è¯¥é©¬é©¬è™è™å¯ä»¥ç”Ÿå­˜ä¸‹æ¥äº†ã€‚ä¹‹æ‰€ä»¥ä¸æ¨èå…¶ä»–çš„ä¸­ä»‹ï¼Œæ˜¯å› ä¸ºä½ å¯èƒ½ç§Ÿæˆ¿åï¼Œå¯¹äºç»´ä¿®ï¼Œèˆå‹æŠ½çƒŸï¼Œå…»çš„å® ç‰©åŠå¤œç‹‚å«ï¼Œåˆé€€ä¸äº†ç§Ÿï¼Œé™·å…¥éº»çƒ¦ä¸­ã€‚ï¼ˆè‡ªå¦‚éº»çƒ¦æ¥ç»“ä¸€ä¸‹å¹¿å‘Šè´¹ï¼‰ å¦å¤–æ•´ç†ä¸€ä¸‹æ‹›è˜çš„è½¯ä»¶ï¼ˆæŒ‰æ¨èé¡ºåºï¼‰ï¼š ï¼ˆä¸ªäººè½¯ä»¶å·¥ç¨‹ï¼Œä»…ä¾›å‚è€ƒï¼‰ BOSS æ‹‰é’© æ™ºè”æ‹›è˜ è„‰è„‰ å¸Œæœ›è¿™äº›èµ„æ–™å¯¹åˆšæ¯•ä¸šçš„ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå…¶ä½™æƒ³èµ·æ¥çš„ï¼Œå†ç›´æ¥æ›´æ–°","raw":null,"content":null,"categories":[],"tags":[]},{"title":"2019-04-17-æ—¥è®°","slug":"2019-04-17-æ—¥è®°","date":"2019-04-17T11:11:13.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/04/17/2019-04-17-æ—¥è®°/","link":"","permalink":"http://zehai.info/2019/04/17/2019-04-17-%E6%97%A5%E8%AE%B0/","excerpt":"","text":"ç»å†äº†è¿ç»­9*13å°æ—¶çš„å·¥ä½œåï¼Œæˆ‘ç»ˆäºå¾—åˆ°äº†ä¸€å¤©çš„è°ƒä¼‘è®¡åˆ’ï¼Œæ˜¨æ™šåä¸€ç‚¹åŠæ‰“è½¦ä»äº”æ£µæ¾åˆ°å®¶ æ´—äº†ä¸ªçƒ­æ°´æ¾¡ï¼Œå…³äº†æ‰‹æœºé—¹é“ƒï¼Œæ‰“å¼€äº†Alexaçš„ç¯å¢ƒå™ªéŸ³ï¼Œéš¾çš„è¸å®çš„è¿›å…¥äº†æ¢¦ä¸­ã€‚ ä½†æ˜¯ï¼ï¼ æˆ‘Alexaçš„é—¹é’Ÿå¿˜è®°å…³äº†ï¼Œä¸ƒç‚¹è¢«åµé†’åä¸€ç›´æ²¡æœ‰ç¡ç€ï¼Œæ‰€ä»¥èµ·åºŠçƒ­äº†æ¯ç‰›å¥¶ï¼Œå¼„äº†å¼ ç…é¥¼ï¼Œæ¶‚äº†ç‚¹ç•ªèŒ„é…±å°±å‡‘åˆåƒäº†ï¼Œåæ¥å¤–å‡ºå’Œæœ‹å‹èŠäº†ä¼šå„¿å¤©ï¼Œå€’ç¡®å®ç‚¹å‡ºäº†ä¸€äº›ç›®å‰å­˜åœ¨çš„é—®é¢˜ ä¸€ä¸ªå¥½çš„æŠ€æœ¯ä¸ä»…è¦çŸ¥å…¶ç„¶ï¼Œæ›´è¦çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œå¤šæŒ–æ˜ä»–èƒŒåçš„æºç ï¼Œå»æ€è€ƒå¦‚ä½•å®ç°ï¼Œè¿™æ ·æ‰èƒ½åœ¨é«˜å¹¶å‘æ—¶ï¼Œå°†200msä¼˜åŒ–åˆ°100msï¼Œæ‰æ˜¯ä¸€ä¸ªé«˜çº§ç¨‹åºå‘˜åº”è¯¥å…·å¤‡çš„ç´ è´¨ä¹‹ä¸€ Nodeå­¦ä¹ åˆ†ä¸ºä¸‰å¹´ï¼Œç¬¬ä¸€å¹´çŸ¥å…¶è¯­æ³•ï¼Œä¼šå†™åº”ç”¨ï¼Œç¬¬äºŒå¹´çŸ¥å…¶æ¡†æ¶ï¼Œé«˜çº§å¼€å‘ï¼Œç¬¬ä¸‰å¹´ï¼Œè¯»å…¶æºç ï¼ŒçŸ¥å…¶åŸç† å¤šç”¨è¯­è¨€å»å†™ä¸€äº›å·¥å…·ç±»ï¼Œå¤šå»å­¦ä¹ å’Œå‚è€ƒä¼˜è´¨è½®å­ï¼Œè€Œä¸æ˜¯å†™ä¸€äº›ç©å…·ï¼Œåˆ«äººéƒ½å†™çƒ‚çš„ä¸œè¥¿ ï¼ˆé‡è¦çš„åº”è¯¥å°±è¿™ä¹ˆå¤šäº†ï¼‰ æœ‹å‹çš„è¯å¾ˆå¯¹ï¼Œæˆ‘ä¹Ÿè¿›è¡Œäº†æ€è€ƒï¼Œè‡ªå·±åœ¨JSçš„é“è·¯ä¸Šï¼Œæ‘¸ç€é»‘èµ°è·¯ï¼Œå¯¹äºæºç å…¶å®è¦è¯»ï¼Œä½†æ˜¯ä¹‹å‰æ‰“å¼€çœ‹è¿‡ä¸€çœ¼å°±ä¸€è„¸æ‡µé€¼çš„çŠ¶æ€ï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦æœ‰æ—¶é—´å­¦ä¹ ä¸€ä¸‹ä¼˜è´¨çš„GitHubï¼Œæ’•å¼€ä¸€ä¸ªå£å­ï¼Œç„¶åè¿›å…¥åˆ°æ­£è½¨ï¼Œè‡ªå·±å»å¤šå†™ä¸€äº›æ–¹æ³•åŒºè°ƒç”¨ï¼Œç„¶åä¸€ç‚¹ç‚¹å»ç¢ç£¨ï¼Œä»–çš„å®ç°è¿‡ç¨‹ã€‚ 4æœˆåº•çš„è®¡åˆ’å°±æ˜¯ å°½é‡æ¢ä¸€ä»½å·¥ä½œï¼Œå—ä¸äº†8117ï¼Œè–ªèµ„è¿˜ä¸å¦‚éº¦å½“åŠ³çš„ä¸´æ—¶å·¥ è‡ªå¦‚ç§Ÿçº¦åˆ°æœŸäº†ï¼Œæ¬å®¶åˆ°æœ±è¾›åº„æˆ–è€…éœè¥ æ²¡æ¢å·¥ä½œçš„è¯ï¼Œä¹°ä¸€æœ¬ä¹¦é€šå‹¤çœ‹ä¼šå„¿ï¼Œæ¢å·¥ä½œçš„è¯ï¼ŒæŠ½ä¸ªé›¶ç¢çš„æ—¶é—´è¯»ï¼Œé¡ºä¾¿æ•´ç†ç¬”è®°ï¼Œæ›´åšï¼ˆæš‚å®šè¿™ä¸ªæœˆè¯»ä¸€ä¸‹v8çš„gcï¼‰ äº”ä¸€å‡ºå»æ—…æ¸¸ï¼Œæš‚æ—¶æƒ³å»æ­å·çœ‹çœ‹ ä¹°ç‚¹ç«¹ç­’ï¼Œæƒ³åšç«¹ç­’é¥­","raw":null,"content":null,"categories":[{"name":"life","slug":"life","permalink":"http://zehai.info/categories/life/"}],"tags":[{"name":"diary","slug":"diary","permalink":"http://zehai.info/tags/diary/"}]},{"title":"æš‚åœæ›´æ–°é€šå‘Š[ä½œåºŸ]","slug":"2019-04-13-æš‚åœæ›´æ–°é€šå‘Š","date":"2019-04-13T14:03:36.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/04/13/2019-04-13-æš‚åœæ›´æ–°é€šå‘Š/","link":"","permalink":"http://zehai.info/2019/04/13/2019-04-13-%E6%9A%82%E5%81%9C%E6%9B%B4%E6%96%B0%E9%80%9A%E5%91%8A/","excerpt":"","text":"è‡ªä»Šæ—¥èµ·ï¼Œåšå®¢å¼€å§‹åœæ›´ 996.icuå¹´åå¼€å§‹ï¼Œäº’è”ç½‘ä¼¼ä¹è¿‡å¾—éƒ½ä¸å¥½ï¼Œä»ä¸ƒé™Œè¢«è£ï¼ˆä¹Ÿæœ‰ä¸ªäººåŸå› å§ï¼‰ï¼Œåˆ°è¢«èˆªå¤©äºŒé™¢ï¼ŒçŸ¥ç½‘ï¼Œä¸­ç”µç§‘å› ä¸ºå­¦å†å¡ä½å…¥èŒï¼ˆBOSSç›´è˜ï¼Œé¢è¯•å®Œäº†ï¼ŒæŠ€æœ¯æ‰¾äººäº‹å®¡æ ¸ä¸é€šè¿‡ï¼‰ï¼Œåæ¥é‡åˆ°äº†ä¸€ç³»åˆ—å‚²æ…¢çš„ä¸­ç§‘è½¯ç³»åˆ—é¢è¯•ï¼Œæ— é™åŠ ç­çš„åˆ›ä¸šå…¬å¸ï¼Œè¿˜æœ‰é‚£ç§ä»¥åŸ¹è®­æœºæ„ä¸ºç›®æ ‡æ‹›äººçš„å°å…¬å¸ã€‚æœ€ç»ˆæœªèƒ½æ”¶è·ä¸€ä¸ªæ»¡æ„çš„offerï¼Œæœ€ç»ˆèˆ”ç‹—é€‰æ‹©äº†ä¸€å®¶è¯´æ˜¯ä¸åŠ ç­çš„æŸæ‰€ï¼Œç„¶ï¼Œç°åœ¨æ‰å‘ç°ï¼Œå®åœ¨å¤ªå¿™ï¼ŒåŒ…æ‹¬ç°åœ¨ä¹Ÿåˆšåˆšåˆ°å®¶ï¼Œå·¥ä½œä¹Ÿæ²¡æœ‰pcï¼Œæ²¡æœ‰ç½‘ç»œï¼Œæ‰€ä»¥ä¹Ÿå¾ˆä¸æ–¹ä¾¿éšæ—¶å­¦ä¹ ï¼Œå¯èƒ½æœ‰ä¸€äº›æ‰‹å†™ç¬”è®°ï¼Œä½†ç»å†æœ‰é™ï¼Œæ‰€ä»¥æœ€è¿‘ä¼šåœæ­¢æ›´æ–° å¹´å996å†²ä¸Šäº†æ¦œé¦–ï¼Œè®©ä¸–ç•Œéƒ½åœ¨åæ€ä¸ºä»€ä¹ˆä¸­å›½çš„åŠ ç­ä¸ºä»€ä¹ˆå¦‚æ­¤ç–¯ç‹‚ï¼Œä½†è¯é¢˜çƒ­åº¦å¾ˆå¿«ä¸‹é™ï¼Œå› ä¸ºæ²¡æœ‰äººä¼šå»æ”¾ä¸‹æ‰‹ä¸­çš„å·¥ä½œå»æŠµåˆ¶ï¼Œæ¯•ç«Ÿç”Ÿæ´»æ€»è¦ç»§ç»­ä¸‹å» ç”Ÿæ´»æ€»æ˜¯è¿™æ ·ï¼Œèµ·èµ·è½è½è½ åŠªåŠ›ä¸ä¸€å®šæœ‰å›æŠ¥ï¼Œä½†ä¸åŠªåŠ›ä¸€å®šå¾ˆï¼ˆmeiï¼‰èˆ’ï¼ˆhuiï¼‰æœ(bao) æ™šå®‰~hexo","raw":null,"content":null,"categories":[],"tags":[]},{"title":"PermutationSequence-60","slug":"2019-04-09-PermutationSequence","date":"2019-04-09T13:09:28.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/04/09/2019-04-09-PermutationSequence/","link":"","permalink":"http://zehai.info/2019/04/09/2019-04-09-PermutationSequence/","excerpt":"","text":"ProblemThe set [1,2,3,...,*n*] contains a total of n! unique permutations. By listing and labeling all of the permutations in order, we get the following sequence for n = 3: &quot;123&quot; &quot;132&quot; &quot;213&quot; &quot;231&quot; &quot;312&quot; &quot;321&quot; Given n and k, return the kth permutation sequence. Note: Given n will be between 1 and 9 inclusive. Given k will be between 1 and n! inclusive. Example 1: 12Input: n &#x3D; 3, k &#x3D; 3Output: &quot;213&quot; Example 2: 12Input: n &#x3D; 4, k &#x3D; 9Output: &quot;2314&quot; keysolutionperfect","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"httpsä¸http","slug":"2019-04-06-httpsä¸http","date":"2019-04-06T14:41:27.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/04/06/2019-04-06-httpsä¸http/","link":"","permalink":"http://zehai.info/2019/04/06/2019-04-06-https%E4%B8%8Ehttp/","excerpt":"","text":"whatadvantageå®¢æˆ·ç«¯åœ¨ä½¿ç”¨HTTPSæ–¹å¼ä¸WebæœåŠ¡å™¨é€šä¿¡æ—¶æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚ ï¼ˆ1ï¼‰å®¢æˆ·ä½¿ç”¨httpsçš„URLè®¿é—®WebæœåŠ¡å™¨ï¼Œè¦æ±‚ä¸WebæœåŠ¡å™¨å»ºç«‹SSLè¿æ¥ã€‚ ï¼ˆ2ï¼‰WebæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œä¼šå°†ç½‘ç«™çš„è¯ä¹¦ä¿¡æ¯ï¼ˆè¯ä¹¦ä¸­åŒ…å«å…¬é’¥ï¼‰ä¼ é€ä¸€ä»½ç»™å®¢æˆ·ç«¯ã€‚ ï¼ˆ3ï¼‰å®¢æˆ·ç«¯çš„æµè§ˆå™¨ä¸WebæœåŠ¡å™¨å¼€å§‹åå•†SSLè¿æ¥çš„å®‰å…¨ç­‰çº§ï¼Œä¹Ÿå°±æ˜¯ä¿¡æ¯åŠ å¯†çš„ç­‰çº§ã€‚ ï¼ˆ4ï¼‰å®¢æˆ·ç«¯çš„æµè§ˆå™¨æ ¹æ®åŒæ–¹åŒæ„çš„å®‰å…¨ç­‰çº§ï¼Œå»ºç«‹ä¼šè¯å¯†é’¥ï¼Œç„¶ååˆ©ç”¨ç½‘ç«™çš„å…¬é’¥å°†ä¼šè¯å¯†é’¥åŠ å¯†ï¼Œå¹¶ä¼ é€ç»™ç½‘ç«™ã€‚ ï¼ˆ5ï¼‰WebæœåŠ¡å™¨åˆ©ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†å‡ºä¼šè¯å¯†é’¥ã€‚ ï¼ˆ6ï¼‰WebæœåŠ¡å™¨åˆ©ç”¨ä¼šè¯å¯†é’¥åŠ å¯†ä¸å®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡ã€‚","raw":null,"content":null,"categories":[],"tags":[]},{"title":"SpiralMatrix2-59","slug":"2019-04-06-SpiralMatrix2","date":"2019-04-06T08:16:18.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/04/06/2019-04-06-SpiralMatrix2/","link":"","permalink":"http://zehai.info/2019/04/06/2019-04-06-SpiralMatrix2/","excerpt":"","text":"problem Given a positive integer n, generate a square matrix filled with elements from 1 to n2 in spiral order. Example: 1234567&gt;Input: 3&gt;Output:&gt;[[ 1, 2, 3 ],[ 8, 9, 4 ],[ 7, 6, 5 ]&gt;] keyè™½ç„¶æ ‡äº†mediumï¼Œä½†æ˜¯ç¡®å®å¾ˆç®€å•ï¼Œå½¢æˆä¸€ä¸ªå£å­—å‹é—­ç¯ï¼Œä¸€å±‚å±‚å»å¤„ç†å°±å¥½äº†ï¼Œç„¶åå†ä¸»è¦å°±æ˜¯æ§åˆ¶å£å­—å¾ªç¯æ—¶å€™çš„è¾¹ç•Œï¼Œä»¥åŠæœ€åä¸€ä¸ªå…ƒç´ çš„åˆ¤æ–­ solution12345678910111213141516171819202122232425262728public int[][] generateMatrix(int n) &#123; int [][]res &#x3D; new int[n][n]; int left &#x3D; 0; int right &#x3D; n-1; int top &#x3D; 0; int bottom &#x3D; n-1; int index &#x3D; 1; int quit &#x3D; n*n; while(index&lt;&#x3D;quit)&#123; for(int i&#x3D;left;i&lt;&#x3D;right;i++) &#123; res[top][i] &#x3D; (index++); &#125; top++; for(int i&#x3D;top;i&lt;&#x3D;bottom;i++)&#123; res[i][right] &#x3D; (index++); &#125; right--; for(int i&#x3D;right;i&gt;&#x3D;left;i--) &#123; res[bottom][i]&#x3D;(index++); &#125; bottom--; for(int i&#x3D;bottom;i&gt;&#x3D;top;i--) &#123; res[i][left]&#x3D;(index++); &#125; left++; &#125; return res; &#125; perfectno","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"LengthofLastWord","slug":"2019-04-06-LengthofLastWord","date":"2019-04-06T07:50:25.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/04/06/2019-04-06-LengthofLastWord/","link":"","permalink":"http://zehai.info/2019/04/06/2019-04-06-LengthofLastWord/","excerpt":"","text":"problem Given a string s consists of upper/lower-case alphabets and empty space characters &#39; &#39;, return the length of last word in the string. If the last word does not exist, return 0. Note: A word is defined as a character sequence consists of non-space characters only. Example: 12Input: &quot;Hello World&quot;Output: 5 keyè¯¥æ–¹æ³•è°ƒç”¨äº†javaçš„String.split(regex)æ‰€ä»¥åœ¨å¤æ‚åº¦ä¸Šå›å¾ˆé«˜ï¼Œå¤§æ¦‚ä»…ä»…beatäº†6%çš„ç©å®¶ï¼Œä½†è§£å†³å¾ˆå¿«ï¼Œæ­£ç¡®çš„ç®—æ³•æ€ç»´å°±å€’åºéå†ï¼Œæœ€åå¼€å§‹æŸ¥å¾€å‰ï¼Œæœ€åä¸€ä¸ªéç©ºæ ¼æŸ¥åˆ°ç©ºæ ¼ç»“æŸ solution123456789101112//7mspublic int lengthOfLastWord(String s) &#123; if(s.length()&lt;=0)return 0; String[] tmp = s.split(&quot;\\\\s&quot;); int lastIndex = tmp.length-1; if(lastIndex&lt;0) &#123; return 0; &#125;else &#123; return tmp[lastIndex].length(); &#125; &#125; perfect1234567891011121314151617181920212223class Solution &#123; public int lengthOfLastWord(String s) &#123; int n &#x3D; s.length() - 1; int length &#x3D; 0; for(int i &#x3D; n; i &gt;&#x3D; 0; i--) &#123; if(length &#x3D;&#x3D; 0) &#123; if(s.charAt(i) &#x3D;&#x3D; &#39; &#39;) &#123; continue; &#125;else &#123; length++; &#125; &#125;else &#123; if(s.charAt(i) &#x3D;&#x3D; &#39; &#39;) &#123; break; &#125; else &#123; length++; &#125; &#125; &#125; return length; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"easy","slug":"easy","permalink":"http://zehai.info/tags/easy/"}]},{"title":"eventLoop","slug":"2019-04-04-eventLoop","date":"2019-04-04T15:03:46.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/04/04/2019-04-04-eventLoop/","link":"","permalink":"http://zehai.info/2019/04/04/2019-04-04-eventLoop/","excerpt":"","text":"whatEvent Loopæ˜¯ä¸€ä¸ªç¨‹åºç»“æ„ï¼Œç”¨äºç­‰å¾…å’Œå‘é€æ¶ˆæ¯å’Œäº‹ä»¶ a programming construct that waits for and dispatches events or messages in a program. ç®€å•è¯´ï¼Œå°±æ˜¯åœ¨ç¨‹åºä¸­è®¾ç½®ä¸¤ä¸ªçº¿ç¨‹ï¼šä¸€ä¸ªè´Ÿè´£ç¨‹åºæœ¬èº«çš„è¿è¡Œï¼Œç§°ä¸ºâ€ä¸»çº¿ç¨‹â€ï¼›å¦ä¸€ä¸ªè´Ÿè´£ä¸»çº¿ç¨‹ä¸å…¶ä»–è¿›ç¨‹ï¼ˆä¸»è¦æ˜¯å„ç§I/Oæ“ä½œï¼‰çš„é€šä¿¡ï¼Œè¢«ç§°ä¸ºâ€Event Loopçº¿ç¨‹â€ï¼ˆå¯ä»¥è¯‘ä¸ºâ€æ¶ˆæ¯çº¿ç¨‹â€ï¼‰ã€‚ ç”±ä¸Šå›¾å¯ä»¥æ¸…æ¥šçŸ¥é“Nodeçš„å•çº¿ç¨‹æŒ‡çš„æ˜¯ä¸»çº¿ç¨‹ä¸ºå•çº¿ç¨‹ å¼‚æ­¥æ‰§è¡Œ1234567&#x2F;&#x2F; test.jssetTimeout(() &#x3D;&gt; console.log(1));setImmediate(() &#x3D;&gt; console.log(2));process.nextTick(() &#x3D;&gt; console.log(3));&#x2F;&#x2F;å¼‚æ­¥æœ€å¿«Promise.resolve().then(() &#x3D;&gt; console.log(4));(() &#x3D;&gt; console.log(5))();&#x2F;&#x2F;åŒæ­¥ä»»åŠ¡æœ€æ—©æ‰§è¡Œ&#x2F;&#x2F;53412 å¼‚æ­¥åˆ†ä¸ºä¸¤ç§ï¼š æœ¬è½®å¾ªç¯ï¼šprocess.nextTick(),Promise æ¬¡è½®å¾ªç¯:setTimeout(),setInterval,setImmediate æ¯ä¸€æ¬¡å¾ªç¯ä¸­ï¼ŒsetTimeoutç­‰æ¬¡è½®å¾ªç¯åœ¨timersé˜¶æ®µæ‰§è¡Œï¼Œè€Œæœ¬è½®å¾ªç¯å°±åœ¨checké˜¶æ®µæ‰§è¡Œï¼Œæ‰€ä»¥ä¼šå…ˆå±•ç¤º","raw":null,"content":null,"categories":[],"tags":[]},{"title":"æ˜¥èŠ‚12å“","slug":"2019-04-04-æ˜¥èŠ‚12å“","date":"2019-04-04T14:15:52.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/04/04/2019-04-04-æ˜¥èŠ‚12å“/","link":"","permalink":"http://zehai.info/2019/04/04/2019-04-04-%E6%98%A5%E8%8A%8212%E5%93%8D/","excerpt":"","text":"1234567891011121314151617181920212223242526272829303132&#x2F;&#x2F; File: twelve_biubiu.c&#x2F;&#x2F; Permission: CN-2082-2&#x2F;&#x2F; Author: Li.YiYi&#x2F;&#x2F; Dept: PE-362, UG&#x2F;&#x2F; Origin: TI-352132&#x2F;&#x2F; æ˜¥èŠ‚åäºŒå“ biu biu biu!#env &quot;planet_engine&quot;int init() &#123; set_engine_number_mask(ENGINE_ALL); set_funeral_level(FUNERAL_FULL); &#x2F;&#x2F; å…è®¸è¯¯å·®10ç§’ä»¥å†… if (unix_time() &lt; make_unix_time(2082, 1, 28, 23, 59, 60-10)) return ERR_ENGIN_ENV; return engine_check_init(); &#x2F;&#x2F; after compile and before real run&#125;int main() &#123; set_curve(CURVE_NATURAL); &#x2F;&#x2F; è‡ªç„¶æ›²çº¿è€—è´¹ç‡ƒæ–™æœ€å°‘ for (int i :range(0, 12, 1)) &#123; engine_start(); wait_engine(ENGINE_STATE_CHAGNE); sleep(2000); engin_stop(); wait_engine(ENGINE_STATE_CHAGNE); sleep(4000); &#x2F;&#x2F; è¿™ä¸ªæ—¶é•¿åœ¨æ¨¡æ‹Ÿå™¨é‡Œå¬èµ·æ¥æ›´åƒå¿ƒè·³ &#125; return 0;&#125;int final() &#123; engine_ensure_shutdown();&#125;","raw":null,"content":null,"categories":[{"name":"life","slug":"life","permalink":"http://zehai.info/categories/life/"}],"tags":[]},{"title":"å„ç§Javaä¸­é”","slug":"2019-04-04-å„ç§Javaä¸­é”","date":"2019-04-04T13:54:58.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/04/04/2019-04-04-å„ç§Javaä¸­é”/","link":"","permalink":"http://zehai.info/2019/04/04/2019-04-04-%E5%90%84%E7%A7%8DJava%E4%B8%AD%E9%94%81/","excerpt":"","text":"æ‚²è§‚é”ï¼šå…ˆé”åç”¨æ¯æ¬¡è¯»æ•°æ®éƒ½æ‚²è§‚è®¤ä¸ºä¼šè¢«å…¶ä»–æ“ä½œä¿®æ”¹ï¼Œåº”ç”¨äºsynchroized , ReentrantLockï¼Œå› ä¸ºæ‚²è§‚æ‰€ä»¥å¼€é”€å¤§ï¼Œä¼šé˜»å¡å…¶ä»–çº¿ç¨‹ ä¹è§‚é”ï¼šå…ˆç”¨ååˆ¤æ–­æ¯æ¬¡è¯»æ•°æ®ä¹è§‚è®¤ä¸ºæ²¡æœ‰è¢«å…¶ä»–æ“ä½œä¿®æ”¹ï¼Œåº”ç”¨äºjava.util.concurrent.atomic,ä½¿ç”¨ç‰ˆæœ¬å·å’ŒCASç®—æ³•å®ç° é€‚ç”¨äºå¤šè¯»çš„åº”ç”¨ç±»å‹ï¼Œæé«˜ååé‡ å…¬å¹³é”ï¼šå¤šä¸ªçº¿ç¨‹æŒ‰ç”³è¯·æ‰€é¡ºåºå–é”æ—  éå…¬å¹³é”å¤šä¸ªçº¿ç¨‹ä¸æŒ‰ç”³è¯·é¡ºåºå–é”ï¼Œæé«˜ååé‡ å¯å…¥é”å¤–å±‚ä½¿ç”¨é”åï¼Œå†…å±‚ä»å¯ä»¥ä½¿ç”¨ï¼Œè€Œä¸”ä¸ä¼šæ­»é” ä¸å¯é‡å…¥é”ç‹¬äº«é”å…±äº«é”äº’æ–¥é” è¯»å†™é” åˆ†æ®µé” åå‘é” è½»é‡çº§é” é‡é‡çº§é” è‡ªæ—‹é”","raw":null,"content":null,"categories":[{"name":"Java","slug":"Java","permalink":"http://zehai.info/categories/Java/"}],"tags":[{"name":"lock","slug":"lock","permalink":"http://zehai.info/tags/lock/"}]},{"title":"MinStack","slug":"2019-03-24-MinStack","date":"2019-03-24T09:23:55.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/24/2019-03-24-MinStack/","link":"","permalink":"http://zehai.info/2019/03/24/2019-03-24-MinStack/","excerpt":"","text":"problem Design a stack that supports push, pop, top, and retrieving the minimum element in constant time. push(x) â€“ Push element x onto stack. pop() â€“ Removes the element on top of the stack. top() â€“ Get the top element. getMin() â€“ Retrieve the minimum element in the stack. Example: 12345678MinStack minStack &#x3D; new MinStack();minStack.push(-2);minStack.push(0);minStack.push(-3);minStack.getMin(); --&gt; Returns -3.minStack.pop();minStack.top(); --&gt; Returns 0.minStack.getMin(); --&gt; Returns -2.","raw":null,"content":null,"categories":[],"tags":[]},{"title":"FindMinimumInRotatedSortedArrayII","slug":"2019-03-23-FindMinimumInRotatedSortedArrayII","date":"2019-03-23T03:56:47.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/23/2019-03-23-FindMinimumInRotatedSortedArrayII/","link":"","permalink":"http://zehai.info/2019/03/23/2019-03-23-FindMinimumInRotatedSortedArrayII/","excerpt":"","text":"problem Find Minimum in Rotated Sorted Array II Hard Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand. (i.e., [0,1,2,4,5,6,7] might become [4,5,6,7,0,1,2]). Find the minimum element. The array may contain duplicates. Example 1: 12&gt;Input: [1,3,5]&gt;Output: 1 Example 2: 12&gt;Input: [2,2,2,0,1]&gt;Output: 0 Note: This is a follow up problem to Find Minimum in Rotated Sorted Array. Would allow duplicates affect the run-time complexity? How and why? key??? solution12345678910class Solution &#123; public int findMin(int[] nums) &#123; for (int i = 0; i &lt; nums.length - 1; i++) &#123; if (nums[i] &gt; nums[i + 1]) &#123; return nums[i + 1]; &#125; &#125; return nums[0]; &#125;&#125; perfect","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Hard","slug":"Hard","permalink":"http://zehai.info/tags/Hard/"}]},{"title":"FindMinimumInRotatedSortedArray","slug":"2019-03-23-FindMinimumInRotatedSortedArray","date":"2019-03-23T03:53:07.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/23/2019-03-23-FindMinimumInRotatedSortedArray/","link":"","permalink":"http://zehai.info/2019/03/23/2019-03-23-FindMinimumInRotatedSortedArray/","excerpt":"","text":"problem Find Minimum in Rotated Sorted Array Medium Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand. (i.e., [0,1,2,4,5,6,7] might become [4,5,6,7,0,1,2]). Find the minimum element. You may assume no duplicate exists in the array. Example 1: 12&gt;Input: [3,4,5,1,2] &gt;Output: 1 Example 2: 12&gt;Input: [4,5,6,7,0,1,2]&gt;Output: 0 keysolution12345678public int findMin(int[] nums) &#123; for (int i = 0; i &lt; nums.length - 1; i++) &#123; if (nums[i] &gt; nums[i + 1]) &#123; return nums[i + 1]; &#125; &#125; return nums[0]; &#125; perfect12I&#39;m the perfectbut this problem will harder in the next problem","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"å®‰å…¨é˜²èŒƒ","slug":"2019-03-23-å®‰å…¨é˜²èŒƒ","date":"2019-03-23T03:30:43.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/23/2019-03-23-å®‰å…¨é˜²èŒƒ/","link":"","permalink":"http://zehai.info/2019/03/23/2019-03-23-%E5%AE%89%E5%85%A8%E9%98%B2%E8%8C%83/","excerpt":"","text":"åˆ†ç±» XSS æ”»å‡»ï¼šå¯¹ Web é¡µé¢æ³¨å…¥è„šæœ¬ï¼Œä½¿ç”¨ JavaScript çªƒå–ç”¨æˆ·ä¿¡æ¯ï¼Œè¯±å¯¼ç”¨æˆ·æ“ä½œã€‚ CSRF æ”»å‡»ï¼šä¼ªé€ ç”¨æˆ·è¯·æ±‚å‘ç½‘ç«™å‘èµ·æ¶æ„è¯·æ±‚ã€‚ é’“é±¼æ”»å‡»ï¼šåˆ©ç”¨ç½‘ç«™çš„è·³è½¬é“¾æ¥æˆ–è€…å›¾ç‰‡åˆ¶é€ é’“é±¼é™·é˜±ã€‚ HTTPå‚æ•°æ±¡æŸ“ï¼šåˆ©ç”¨å¯¹å‚æ•°æ ¼å¼éªŒè¯çš„ä¸å®Œå–„ï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œå‚æ•°æ³¨å…¥æ”»å‡»ã€‚ è¿œç¨‹ä»£ç æ‰§è¡Œï¼šç”¨æˆ·é€šè¿‡æµè§ˆå™¨æäº¤æ‰§è¡Œå‘½ä»¤ï¼Œç”±äºæœåŠ¡å™¨ç«¯æ²¡æœ‰é’ˆå¯¹æ‰§è¡Œå‡½æ•°åšè¿‡æ»¤ï¼Œå¯¼è‡´åœ¨æ²¡æœ‰æŒ‡å®šç»å¯¹è·¯å¾„çš„æƒ…å†µä¸‹å°±æ‰§è¡Œå‘½ä»¤ã€‚ XSSæ”»å‡»cross-site-scriptingè·¨åŸŸè„šæœ¬æ”»å‡»","raw":null,"content":null,"categories":[{"name":"security","slug":"security","permalink":"http://zehai.info/categories/security/"}],"tags":[]},{"title":"mysqläº‹åŠ¡","slug":"2019-03-23-mysqläº‹åŠ¡","date":"2019-03-23T02:54:00.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/23/2019-03-23-mysqläº‹åŠ¡/","link":"","permalink":"http://zehai.info/2019/03/23/2019-03-23-mysql%E4%BA%8B%E5%8A%A1/","excerpt":"","text":"whatMYSQLäº‹åŠ¡ä¸»è¦ç”¨äºä¿è¯ä¸€ä¸²äº‹æƒ…è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆå°±å›æ»šï¼Œä¾‹å¦‚ä»˜æ¬¾åï¼Œè¦å…ˆå†™å…¥æ”¯ä»˜è®¢å•è¡¨ï¼Œå†ä¸ªäººä¿¡æ¯ä¸­åŠ å…¥ä¼šå‘˜æƒç›Šã€‚è¿™ä¸¤ä¸ªæ“ä½œè¦ä¹ˆé¡ºåºæ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆå°±å›æ»š åŸåˆ™ACID AtomicityåŸå­æ€§ ç¡®ä¿äº‹åŠ¡å†…çš„æ‰€æœ‰æ“ä½œéƒ½æˆåŠŸå®Œæˆï¼Œå¦åˆ™äº‹åŠ¡å°†è¢«ä¸­æ­¢åœ¨æ•…éšœç‚¹ï¼Œä»¥å‰çš„æ“ä½œå°†å›æ»šåˆ°ä»¥å‰çš„çŠ¶æ€ã€‚ Consistencyä¸€è‡´æ€§ æ•°æ®åº“çš„ä¿®æ”¹æ˜¯ä¸€è‡´çš„ Isolationéš”ç¦»æ€§ äº‹åŠ¡æ˜¯å½¼æ­¤ç‹¬ç«‹çš„ Durabilityå¯é æ€§ ç¡®ä¿äº‹åŠ¡æäº¤åï¼Œç»“æœæ°¸ä¹…å­˜åœ¨ éš”ç¦»æ€§ éš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚äº‹åŠ¡éš”ç¦»åˆ†ä¸ºä¸åŒçº§åˆ«ï¼ŒåŒ…æ‹¬ è¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰â€“ä¸ä¸¥æ ¼ è¯»æäº¤ï¼ˆread committedï¼‰ å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰â€“é»˜è®¤çº§åˆ«ï¼ˆé¿å…å¹»è¯»ï¼‰ ä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰â€“æœ€ä¸¥æ ¼ æ²¡æœ‰éš”ç¦»æ€§çš„é—®é¢˜1.è„è¯»12update account set money&#x3D;money+100 where name&#x3D;â€™Bâ€™;update account set money&#x3D;money - 100 where name&#x3D;â€™Aâ€™; å½“æ‰§è¡Œç¬¬ä¸€æ¡è¯­å¥çš„æ—¶å€™ï¼Œäº‹åŠ¡æ²¡æœ‰æäº¤ï¼Œé‚£ä¹ˆæ¥è¯»Bçš„è´¦æˆ·é’±éƒ½å¤šäº†100å— è„è¯»ï¼šè¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ® 2.ä¸å¯é‡å¤è¯»æƒ…æ™¯ï¼šå¤šæ¬¡è¯»åŒä¸€ä¸ªæ•°æ®çš„æ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®è¢«åˆ«äººæ”¹äº†ï¼Œå¯¼è‡´ç»“æœä¸ä¸€è‡´ 3.å¹»è¯»å¹»è¯»å’Œä¸å¯é‡å¤è¯»ä¸€æ ·ï¼Œè¯»å–åˆ°äº†å¦å¤–ä¸€æ¡å·²ç»æäº¤çš„äº‹åŠ¡ï¼Œæ‰€ä¸åŒçš„æ˜¯å®ƒé’ˆå¯¹çš„æ˜¯ä¸€æ‰¹æ•°æ®çš„æ•´ä½“ å®ç°æ–¹å¼è‡ªåŠ¨æ–¹å¼beginTransactionScope(scope, ctx) 1234567const result &#x3D; await app.mysql.beginTransactionScope(async conn &#x3D;&gt; &#123; &#x2F;&#x2F; don&#39;t commit or rollback by yourself await conn.insert(table, row1); await conn.update(table, row2); return &#123; success: true &#125;;&#125;, ctx); &#x2F;&#x2F; if error throw on scope, will auto rollback æ‰‹åŠ¨æ–¹å¼beginTransaction 12345678910const conn &#x3D; await app.mysql.beginTransaction(); &#x2F;&#x2F; åˆå§‹åŒ–äº‹åŠ¡try &#123; await conn.insert(table, row1); &#x2F;&#x2F; ç¬¬ä¸€æ­¥æ“ä½œ await conn.update(table, row2); &#x2F;&#x2F; ç¬¬äºŒæ­¥æ“ä½œ await conn.commit(); &#x2F;&#x2F; æäº¤äº‹åŠ¡&#125; catch (err) &#123; &#x2F;&#x2F; error, rollback await conn.rollback(); &#x2F;&#x2F; ä¸€å®šè®°å¾—æ•è·å¼‚å¸¸åå›æ»šäº‹åŠ¡ï¼ï¼ throw err;&#125; è¡¨è¾¾å¼Literalapp.mysql.literals.now æŸ¥çœ‹æ•°æ®åº“äº‹åŠ¡éš”ç¦»æ€§çº§åˆ« 1select @@tx_isolation;","raw":null,"content":null,"categories":[{"name":"mysql","slug":"mysql","permalink":"http://zehai.info/categories/mysql/"}],"tags":[]},{"title":"bashrc","slug":"2019-03-15-bashrc","date":"2019-03-15T10:44:22.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/15/2019-03-15-bashrc/","link":"","permalink":"http://zehai.info/2019/03/15/2019-03-15-bashrc/","excerpt":"","text":"whereé€šå¸¸åœ¨homeç›®å½•ä¸‹çš„ä¸€ä¸ªéšè—æ–‡ä»¶ï¼Œè®¿é—®å¯ä»¥1vim ~&#x2F;.bashrc whatbash åœ¨æ¯æ¬¡å¯åŠ¨æ—¶éƒ½ä¼šåŠ è½½ .bashrc æ–‡ä»¶çš„å†…å®¹ã€‚æ¯ä¸ªç”¨æˆ·çš„ home ç›®å½•éƒ½æœ‰è¿™ä¸ª shell è„šæœ¬ã€‚å®ƒç”¨æ¥å­˜å‚¨å¹¶åŠ è½½ä½ çš„ç»ˆç«¯é…ç½®å’Œç¯å¢ƒå˜é‡ end12&#x2F;&#x2F;æ›´æ–°ä¿®æ”¹source ~&#x2F;.bashrc","raw":null,"content":null,"categories":[],"tags":[]},{"title":"å®‰è£…mysqlæœåŠ¡ä»¥åŠå¸¸è§é—®é¢˜è§£å†³","slug":"2019-03-14-ubuntuå®‰è£…mysqlæœåŠ¡ä»¥åŠå¸¸è§é—®é¢˜è§£å†³","date":"2019-03-14T06:22:39.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/14/2019-03-14-ubuntuå®‰è£…mysqlæœåŠ¡ä»¥åŠå¸¸è§é—®é¢˜è§£å†³/","link":"","permalink":"http://zehai.info/2019/03/14/2019-03-14-ubuntu%E5%AE%89%E8%A3%85mysql%E6%9C%8D%E5%8A%A1%E4%BB%A5%E5%8F%8A%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/","excerpt":"","text":"å®‰è£…sudo apt-get update sudo apt-get install mysql-server è§£å†³è¿œç¨‹è¿æ¥ tipsæœ¬äººä½¿ç”¨ç¯å¢ƒubuntu16 å®Œæˆå®‰è£…åï¼Œè¿œç¨‹è¿æ¥ä½ ä¼šå‘ç°2003æŠ¥é”™ï¼Œæ­¤æ—¶ï¼Œä½ å¯¹ /etc/mysql/mysql.conf.d/ æ–‡ä»¶å¤¹ä¸­æ‰“å¼€ mysqld.cnfæ–‡ä»¶ä¿®æ”¹å³å¯ ä¿®æ”¹å†…å®¹å°†#bind-address = 127.0.0.1 åŸæœ¬æ²¡æœ‰æ³¨é‡Šï¼Œè¿›è¡Œæ³¨é‡Š ç„¶åä½ é‡æ–°è¿œç¨‹è¿æ¥mysqlç›´æ¥å˜æˆ1130çš„æ‹’ç»è®¿é—®æœåŠ¡ï¼Œæ¥ä¸‹æ¥ä½ è¦åœ¨æœåŠ¡å™¨ç«¯ç™»å½•mysqlï¼Œæ‰§è¡Œ è¿›å…¥æ•°æ®åº“ mysql -u root -p åˆ‡æ¢æ•°æ®åº“, mysql&gt;use mysql; æŸ¥çœ‹rootè´¦å·çš„ç™»å½•æƒé™, mysql&gt;select host, user from user; ä¿®æ”¹ç™»å½•æƒé™ mysql&gt;update user set host = â€˜%â€™ where user = â€˜rootâ€™; åˆ·æ–°,ç”Ÿæ•ˆ,æœ€åä¸€æ­¥,è‡³å…³é‡è¦ mysql&gt;flush privileges;","raw":null,"content":null,"categories":[],"tags":[]},{"title":"SpringbootMQ","slug":"2019-03-13-SpringbootMQ","date":"2019-03-13T13:11:53.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/13/2019-03-13-SpringbootMQ/","link":"","permalink":"http://zehai.info/2019/03/13/2019-03-13-SpringbootMQ/","excerpt":"","text":"what is MQå¦‚æœæƒ³çŸ¥é“MQçš„è¯¦ç»†çŸ¥è¯†å¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—MQ è¿™é‡Œé€‰æ‹©æœ€é‡è¦çš„æä¸€ä¸‹ï¼šMQå³æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”¨æ¥å®ç°ç¨‹åºçš„å¼‚æ­¥å’Œè§£è€¦ï¼Œèµ·åˆ°æ¶ˆæ¯ç¼“å†²ï¼Œæ¶ˆæ¯åˆ†å‘ã€‚é€šä¿—æ¥è®²å°±æ˜¯ä¸€ä¸ªåŒ»é™¢ï¼ˆæœåŠ¡å™¨ï¼‰é‡Œé¢æœ‰å¤šä¸ªåŒ»ç”Ÿï¼ˆçº¿ç¨‹æˆ–è¿›ç¨‹ï¼‰ï¼Œè®©ç—…äººéƒ½æ’é˜Ÿï¼ˆæ¶ˆæ¯ç¼“å†²ï¼‰ï¼Œæœ‰çš„å»Aéƒ¨é—¨ï¼Œæœ‰çš„å»Béƒ¨é—¨ï¼ˆæ¶ˆæ¯åˆ†å‘ï¼‰ã€‚ æˆå‘˜RabbitMQRabbitMQæ˜¯å®ç°AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®Advanced Message Queuing Protocolï¼‰çš„æ¶ˆæ¯ä¸­é—´ä»¶çš„ä¸€ç§ï¼ŒFeatureå°±æ˜¯ç»„ä»¶ä¹‹é—´è§£è€¦ï¼Œç—…äººæ’ä»–çš„é˜Ÿï¼ŒåŒ»ç”Ÿçœ‹ä»–çš„ç—…äººï¼Œè‡³äºæ€ä¹ˆæ’ï¼ŒåŒ»ç”Ÿä¸ç”¨æ“å¿ƒï¼Œè‡³äºæ€ä¹ˆçœ‹ç—…ï¼Œç—…äººä¸ç”¨æ“å¿ƒï¼Œéƒ½äº¤ç»™MQ æœ¯è¯­ï¼šé¢å‘æ¶ˆæ¯ï¼Œé˜Ÿåˆ—ï¼Œè·¯ç”±ï¼ˆç‚¹å¯¹ç‚¹/å‘å¸ƒè®¢é˜…ï¼‰ï¼Œå¯é å®‰å…¨","raw":null,"content":null,"categories":[{"name":"high_availability","slug":"high-availability","permalink":"http://zehai.info/categories/high-availability/"}],"tags":[{"name":"MQ","slug":"MQ","permalink":"http://zehai.info/tags/MQ/"}]},{"title":"Javaé—®é¢˜æ’æŸ¥å·¥å…·","slug":"2019-03-13-Javaé—®é¢˜æ’æŸ¥å·¥å…·","date":"2019-03-13T06:22:53.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/13/2019-03-13-Javaé—®é¢˜æ’æŸ¥å·¥å…·/","link":"","permalink":"http://zehai.info/2019/03/13/2019-03-13-Java%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5%E5%B7%A5%E5%85%B7/","excerpt":"","text":"ä¸€ä¸‹æ–‡å­—æ‘˜è‡ªJAVAå…¬ä¼—å· Linuxå‘½ä»¤ç±»tailæœ€å¸¸ç”¨çš„tail -f 1tail -300f shopbase.log #å€’æ•°300è¡Œå¹¶è¿›å…¥å®æ—¶ç›‘å¬æ–‡ä»¶å†™å…¥æ¨¡å¼ grep12345678910grep forest f.txt #æ–‡ä»¶æŸ¥æ‰¾grep forest f.txt cpf.txt #å¤šæ–‡ä»¶æŸ¥æ‰¾grep &#39;log&#39; &#x2F;home&#x2F;admin -r -n #ç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰ç¬¦åˆå…³é”®å­—çš„æ–‡ä»¶cat f.txt | grep -i shopbase grep &#39;shopbase&#39; &#x2F;home&#x2F;admin -r -n --include *.&#123;vm,java&#125; #æŒ‡å®šæ–‡ä»¶åç¼€grep &#39;shopbase&#39; &#x2F;home&#x2F;admin -r -n --exclude *.&#123;vm,java&#125; #ååŒ¹é…seq 10 | grep 5 -A 3 #ä¸ŠåŒ¹é…seq 10 | grep 5 -B 3 #ä¸‹åŒ¹é…seq 10 | grep 5 -C 3 #ä¸Šä¸‹åŒ¹é…ï¼Œå¹³æ—¶ç”¨è¿™ä¸ªå°±å¦¥äº†cat f.txt | grep -c &#39;SHOPBASE&#39; awk1 åŸºç¡€å‘½ä»¤ 123456awk &#39;&#123;print $4,$6&#125;&#39; f.txtawk &#39;&#123;print NR,$0&#125;&#39; f.txt cpf.txt awk &#39;&#123;print FNR,$0&#125;&#39; f.txt cpf.txtawk &#39;&#123;print FNR,FILENAME,$0&#125;&#39; f.txt cpf.txtawk &#39;&#123;print FILENAME,&quot;NR&#x3D;&quot;NR,&quot;FNR&#x3D;&quot;FNR,&quot;$&quot;NF&quot;&#x3D;&quot;$NF&#125;&#39; f.txt cpf.txtecho 1:2:3:4 | awk -F: &#39;&#123;print $1,$2,$3,$4&#125;&#39; 2 åŒ¹é… 1234awk &#39;&#x2F;ldb&#x2F; &#123;print&#125;&#39; f.txt #åŒ¹é…ldbawk &#39;!&#x2F;ldb&#x2F; &#123;print&#125;&#39; f.txt #ä¸åŒ¹é…ldbawk &#39;&#x2F;ldb&#x2F; &amp;&amp; &#x2F;LISTEN&#x2F; &#123;print&#125;&#39; f.txt #åŒ¹é…ldbå’ŒLISTENawk &#39;$5 ~ &#x2F;ldb&#x2F; &#123;print&#125;&#39; f.txt #ç¬¬äº”åˆ—åŒ¹é…ldb 3 å†…å»ºå˜é‡ NR:NRè¡¨ç¤ºä»awkå¼€å§‹æ‰§è¡Œåï¼ŒæŒ‰ç…§è®°å½•åˆ†éš”ç¬¦è¯»å–çš„æ•°æ®æ¬¡æ•°ï¼Œé»˜è®¤çš„è®°å½•åˆ†éš”ç¬¦ä¸ºæ¢è¡Œç¬¦ï¼Œå› æ­¤é»˜è®¤çš„å°±æ˜¯è¯»å–çš„æ•°æ®è¡Œæ•°ï¼ŒNRå¯ä»¥ç†è§£ä¸ºNumber of Recordçš„ç¼©å†™ã€‚ FNR:åœ¨awkå¤„ç†å¤šä¸ªè¾“å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œåœ¨å¤„ç†å®Œç¬¬ä¸€ä¸ªæ–‡ä»¶åï¼ŒNRå¹¶ä¸ä¼šä»1å¼€å§‹ï¼Œè€Œæ˜¯ç»§ç»­ç´¯åŠ ï¼Œå› æ­¤å°±å‡ºç°äº†FNRï¼Œæ¯å½“å¤„ç†ä¸€ä¸ªæ–°æ–‡ä»¶çš„æ—¶å€™ï¼ŒFNRå°±ä»1å¼€å§‹è®¡æ•°ï¼ŒFNRå¯ä»¥ç†è§£ä¸ºFile Number of Recordã€‚ NF: NFè¡¨ç¤ºç›®å‰çš„è®°å½•è¢«åˆ†å‰²çš„å­—æ®µçš„æ•°ç›®ï¼ŒNFå¯ä»¥ç†è§£ä¸ºNumber of Fieldã€‚ find12345678910111213sudo -u admin find &#x2F;home&#x2F;admin &#x2F;tmp &#x2F;usr -name \\*.log(å¤šä¸ªç›®å½•å»æ‰¾)find . -iname \\*.txt(å¤§å°å†™éƒ½åŒ¹é…)find . -type d(å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•)find &#x2F;usr -type l(å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„ç¬¦å·é“¾æ¥)find &#x2F;usr -type l -name &quot;z*&quot; -ls(ç¬¦å·é“¾æ¥çš„è¯¦ç»†ä¿¡æ¯ eg:inode,ç›®å½•)find &#x2F;home&#x2F;admin -size +250000k(è¶…è¿‡250000kçš„æ–‡ä»¶ï¼Œå½“ç„¶+æ”¹æˆ-å°±æ˜¯å°äºäº†)find &#x2F;home&#x2F;admin f -perm 777 -exec ls -l &#123;&#125; \\; (æŒ‰ç…§æƒé™æŸ¥è¯¢æ–‡ä»¶)find &#x2F;home&#x2F;admin -atime -1 1å¤©å†…è®¿é—®è¿‡çš„æ–‡ä»¶find &#x2F;home&#x2F;admin -ctime -1 1å¤©å†…çŠ¶æ€æ”¹å˜è¿‡çš„æ–‡ä»¶ find &#x2F;home&#x2F;admin -mtime -1 1å¤©å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶find &#x2F;home&#x2F;admin -amin -1 1åˆ†é’Ÿå†…è®¿é—®è¿‡çš„æ–‡ä»¶find &#x2F;home&#x2F;admin -cmin -1 1åˆ†é’Ÿå†…çŠ¶æ€æ”¹å˜è¿‡çš„æ–‡ä»¶ find &#x2F;home&#x2F;admin -mmin -1 1åˆ†é’Ÿå†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶ pgmæ‰¹é‡æŸ¥è¯¢vm-shopbaseæ»¡è¶³æ¡ä»¶çš„æ—¥å¿— 1pgm -A -f vm-shopbase &#39;cat &#x2F;home&#x2F;admin&#x2F;shopbase&#x2F;logs&#x2F;shopbase.log.2017-01-17|grep 2069861630&#39; tsartsaræ˜¯å’±å…¬å¸è‡ªå·±çš„é‡‡é›†å·¥å…·ã€‚å¾ˆå¥½ç”¨, å°†å†å²æ”¶é›†åˆ°çš„æ•°æ®æŒä¹…åŒ–åœ¨ç£ç›˜ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬å¿«é€Ÿæ¥æŸ¥è¯¢å†å²çš„ç³»ç»Ÿæ•°æ®ã€‚å½“ç„¶å®æ—¶çš„åº”ç”¨æƒ…å†µä¹Ÿæ˜¯å¯ä»¥æŸ¥è¯¢çš„å•¦ã€‚å¤§éƒ¨åˆ†æœºå™¨ä¸Šéƒ½æœ‰å®‰è£…ã€‚ 1tsar ##å¯ä»¥æŸ¥çœ‹æœ€è¿‘ä¸€å¤©çš„å„é¡¹æŒ‡æ ‡ 1tsar --live ##å¯ä»¥æŸ¥çœ‹å®æ—¶æŒ‡æ ‡ï¼Œé»˜è®¤äº”ç§’ä¸€åˆ· 1tsar -d 20161218 ##æŒ‡å®šæŸ¥çœ‹æŸå¤©çš„æ•°æ®ï¼Œè²Œä¼¼æœ€å¤šåªèƒ½çœ‹å››ä¸ªæœˆçš„æ•°æ® 1234tsar --memtsar --loadtsar --cpu##å½“ç„¶è¿™ä¸ªä¹Ÿå¯ä»¥å’Œ-då‚æ•°é…åˆæ¥æŸ¥è¯¢æŸå¤©çš„å•ä¸ªæŒ‡æ ‡çš„æƒ…å†µ toptopé™¤äº†çœ‹ä¸€äº›åŸºæœ¬ä¿¡æ¯ä¹‹å¤–ï¼Œå‰©ä¸‹çš„å°±æ˜¯é…åˆæ¥æŸ¥è¯¢vmçš„å„ç§é—®é¢˜äº† 123ps -ef | grep javatop -H -p pid è·å¾—çº¿ç¨‹10è¿›åˆ¶è½¬16è¿›åˆ¶åjstackå»æŠ“çœ‹è¿™ä¸ªçº¿ç¨‹åˆ°åº•åœ¨å¹²å•¥ å…¶ä»–12netstat -nat|awk &#39;&#123;print $6&#125;&#39;|sort|uniq -c|sort -rn #æŸ¥çœ‹å½“å‰è¿æ¥ï¼Œæ³¨æ„close_waitåé«˜çš„æƒ…å†µï¼Œæ¯”å¦‚å¦‚ä¸‹ æ’æŸ¥åˆ©å™¨btraceé¦–å½“å…¶å†²çš„è¦è¯´çš„æ˜¯btraceã€‚çœŸæ˜¯ç”Ÿäº§ç¯å¢ƒ&amp;é¢„å‘çš„æ’æŸ¥é—®é¢˜å¤§æ€å™¨ã€‚ ç®€ä»‹ä»€ä¹ˆçš„å°±ä¸è¯´äº†ã€‚ç›´æ¥ä¸Šä»£ç å¹² æŸ¥çœ‹å½“å‰è°è°ƒç”¨äº†ArrayListçš„addæ–¹æ³•ï¼ŒåŒæ—¶åªæ‰“å°å½“å‰ArrayListçš„sizeå¤§äº500çš„çº¿ç¨‹è°ƒç”¨æ ˆ @OnMethod(clazz = â€œjava.util.ArrayListâ€, method=â€addâ€, location = @Location(value = Kind.CALL, clazz = â€œ/./â€œ, method = â€œ/./â€œ))public static void m(@ProbeClassName String probeClass, @ProbeMethodName String probeMethod, @TargetInstance Object instance, @TargetMethodOrField String method) { 1234567if(getInt(field(&quot;java.util.ArrayList&quot;, &quot;size&quot;), instance) &gt; 479)&#123; println(&quot;check who ArrayList.add method:&quot; + probeClass + &quot;#&quot; + probeMethod + &quot;, method:&quot; + method + &quot;, size:&quot; + getInt(field(&quot;java.util.ArrayList&quot;, &quot;size&quot;), instance)); jstack(); println(); println(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;); println();&#125; } ç›‘æ§å½“å‰æœåŠ¡æ–¹æ³•è¢«è°ƒç”¨æ—¶è¿”å›çš„å€¼ä»¥åŠè¯·æ±‚çš„å‚æ•° @OnMethod(clazz = â€œcom.taobao.sellerhome.transfer.biz.impl.C2CApplyerServiceImplâ€, method=â€navâ€, location = @Location(value = Kind.RETURN))public static void mt(long userId, int current, int relation, String check, String redirectUrl, @Return AnyType result) { 1println(&quot;parameter# userId:&quot; + userId + &quot;, current:&quot; + current + &quot;, relation:&quot; + relation + &quot;, check:&quot; + check + &quot;, redirectUrl:&quot; + redirectUrl + &quot;, result:&quot; + result); } å…¶ä»–åŠŸèƒ½é›†å›¢çš„ä¸€äº›å·¥å…·æˆ–å¤šæˆ–å°‘éƒ½æœ‰ï¼Œå°±ä¸è¯´äº†ã€‚æ„Ÿå…´è¶£çš„è¯·ç§»æ­¥ã€‚https://github.com/btraceio/btrace æ³¨æ„: ç»è¿‡è§‚å¯Ÿï¼Œ1.3.9çš„releaseè¾“å‡ºä¸ç¨³å®šï¼Œè¦å¤šè§¦å‘å‡ æ¬¡æ‰èƒ½çœ‹åˆ°æ­£ç¡®çš„ç»“æœ æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…traceç±»æ—¶èŒƒå›´ä¸€å®šè¦æ§åˆ¶ï¼Œå¦åˆ™ææœ‰å¯èƒ½å‡ºç°è·‘æ»¡CPUå¯¼è‡´åº”ç”¨å¡æ­»çš„æƒ…å†µ ç”±äºæ˜¯å­—èŠ‚ç æ³¨å…¥çš„åŸç†ï¼Œæƒ³è¦åº”ç”¨æ¢å¤åˆ°æ­£å¸¸æƒ…å†µï¼Œéœ€è¦é‡å¯åº”ç”¨ã€‚ GreysGreysæ˜¯@æœç¨çš„å¤§ä½œå§ã€‚è¯´å‡ ä¸ªæŒºæ£’çš„åŠŸèƒ½(éƒ¨åˆ†åŠŸèƒ½å’Œbtraceé‡åˆ): sc -df xxx: è¾“å‡ºå½“å‰ç±»çš„è¯¦æƒ…,åŒ…æ‹¬æºç ä½ç½®å’Œclassloaderç»“æ„ trace class method: ç›¸å½“å–œæ¬¢è¿™ä¸ªåŠŸèƒ½! å¾ˆæ—©å‰å¯ä»¥æ—©JProfilerçœ‹åˆ°è¿™ä¸ªåŠŸèƒ½ã€‚æ‰“å°å‡ºå½“å‰æ–¹æ³•è°ƒç”¨çš„è€—æ—¶æƒ…å†µï¼Œç»†åˆ†åˆ°æ¯ä¸ªæ–¹æ³•ã€‚å¯¹æ’æŸ¥æ–¹æ³•æ€§èƒ½æ—¶å¾ˆæœ‰å¸®åŠ©ï¼Œæ¯”å¦‚æˆ‘ä¹‹å‰è¿™ç¯‡å°±æ˜¯ä½¿ç”¨äº†traceå‘½ä»¤æ¥çš„:http://www.atatech.org/articles/52947ã€‚ å…¶ä»–åŠŸèƒ½éƒ¨åˆ†å’Œbtraceé‡åˆï¼Œå¯ä»¥é€‰ç”¨ï¼Œæ„Ÿå…´è¶£çš„è¯·ç§»æ­¥ã€‚http://www.atatech.org/articles/26247 å¦å¤–ç›¸å…³è”çš„æ˜¯arthasï¼Œä»–æ˜¯åŸºäºGreysçš„ï¼Œæ„Ÿå…´è¶£çš„å†ç§»æ­¥http://mw.alibaba-inc.com/products/arthas/docs/middleware-container/arthas.wiki/home.html?spm=a1z9z.8109794.header.32.1lsoMc javOSizeå°±è¯´ä¸€ä¸ªåŠŸèƒ½classesï¼šé€šè¿‡ä¿®æ”¹äº†å­—èŠ‚ç ï¼Œæ”¹å˜äº†ç±»çš„å†…å®¹ï¼Œå³æ—¶ç”Ÿæ•ˆã€‚ æ‰€ä»¥å¯ä»¥åšåˆ°å¿«é€Ÿçš„åœ¨æŸä¸ªåœ°æ–¹æ‰“ä¸ªæ—¥å¿—çœ‹çœ‹è¾“å‡ºï¼Œç¼ºç‚¹æ˜¯å¯¹ä»£ç çš„ä¾µå…¥æ€§å¤ªå¤§ã€‚ä½†æ˜¯å¦‚æœè‡ªå·±çŸ¥é“è‡ªå·±åœ¨å¹²å˜›ï¼Œçš„ç¡®æ˜¯ä¸é”™çš„ç©æ„å„¿ã€‚ å…¶ä»–åŠŸèƒ½Greyså’Œbtraceéƒ½èƒ½å¾ˆè½»æ˜“åšçš„åˆ°ï¼Œä¸è¯´äº†ã€‚ å¯ä»¥çœ‹çœ‹æˆ‘ä¹‹å‰å†™çš„ä¸€ç¯‡javOSizeçš„ç®€ä»‹http://www.atatech.org/articles/38546å®˜ç½‘è¯·ç§»æ­¥http://www.javosize.com/ JProfilerä¹‹å‰åˆ¤æ–­è®¸å¤šé—®é¢˜è¦é€šè¿‡JProfilerï¼Œä½†æ˜¯ç°åœ¨Greyså’ŒbtraceåŸºæœ¬éƒ½èƒ½æå®šäº†ã€‚å†åŠ ä¸Šå‡ºé—®é¢˜çš„åŸºæœ¬ä¸Šéƒ½æ˜¯ç”Ÿäº§ç¯å¢ƒ(ç½‘ç»œéš”ç¦»)ï¼Œæ‰€ä»¥åŸºæœ¬ä¸æ€ä¹ˆä½¿ç”¨äº†ï¼Œä½†æ˜¯è¿˜æ˜¯è¦æ ‡è®°ä¸€ä¸‹ã€‚å®˜ç½‘è¯·ç§»æ­¥https://www.ej-technologies.com/products/jprofiler/overview.html å¤§æ€å™¨eclipseMATå¯ä½œä¸ºeclipseçš„æ’ä»¶ï¼Œä¹Ÿå¯ä½œä¸ºå•ç‹¬çš„ç¨‹åºæ‰“å¼€ã€‚è¯¦æƒ…è¯·ç§»æ­¥http://www.eclipse.org/mat/ zprofileré›†å›¢å†…çš„å¼€å‘åº”è¯¥æ˜¯æ— äººä¸çŸ¥æ— äººä¸æ™“äº†ã€‚ç®€è€Œè¨€ä¹‹ä¸€å¥è¯:æœ‰äº†zprofilerè¿˜è¦matå¹²å˜›è¯¦æƒ…è¯·ç§»æ­¥zprofiler.alibaba-inc.com javaä¸‰æ¿æ–§ï¼Œå™¢ä¸å¯¹ï¼Œæ˜¯ä¸ƒæŠŠjpsæˆ‘åªç”¨ä¸€æ¡å‘½ä»¤ï¼š 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;java&#x2F;bin&#x2F;jps -mlvV jstackæ™®é€šç”¨æ³•: 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jstack 2815 native+javaæ ˆ: 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jstack -m 2815 jinfoå¯çœ‹ç³»ç»Ÿå¯åŠ¨çš„å‚æ•°ï¼Œå¦‚ä¸‹ 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jinfo -flags 2815 jmapä¸¤ä¸ªç”¨é€” 1.æŸ¥çœ‹å †çš„æƒ…å†µ 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jmap -heap 2815 2.dump 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jmap -dump:live,format&#x3D;b,file&#x3D;&#x2F;tmp&#x2F;heap2.bin 2815 æˆ–è€… 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jmap -dump:format&#x3D;b,file&#x3D;&#x2F;tmp&#x2F;heap3.bin 2815 3.çœ‹çœ‹å †éƒ½è¢«è°å äº†? å†é…åˆzprofilerå’Œbtraceï¼Œæ’æŸ¥é—®é¢˜ç®€ç›´æ˜¯å¦‚è™æ·»ç¿¼ 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jmap -histo 2815 | head -10 jstatjstatå‚æ•°ä¼—å¤šï¼Œä½†æ˜¯ä½¿ç”¨ä¸€ä¸ªå°±å¤Ÿäº† 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jstat -gcutil 2815 1000 jdbæ—¶è‡³ä»Šæ—¥ï¼Œjdbä¹Ÿæ˜¯ç»å¸¸ä½¿ç”¨çš„ã€‚jdbå¯ä»¥ç”¨æ¥é¢„å‘debug,å‡è®¾ä½ é¢„å‘çš„java_homeæ˜¯/opt/taobao/java/ï¼Œè¿œç¨‹è°ƒè¯•ç«¯å£æ˜¯8000.é‚£ä¹ˆsudo -u admin /opt/taobao/java/bin/jdb -attach 8000. å‡ºç°ä»¥ä¸Šä»£è¡¨jdbå¯åŠ¨æˆåŠŸã€‚åç»­å¯ä»¥è¿›è¡Œè®¾ç½®æ–­ç‚¹è¿›è¡Œè°ƒè¯•ã€‚å…·ä½“å‚æ•°å¯è§oracleå®˜æ–¹è¯´æ˜http://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html CHLSDBCHLSDBæ„Ÿè§‰å¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥çœ‹åˆ°æ›´å¥½ç©çš„ä¸œè¥¿ï¼Œä¸è¯¦ç»†å™è¿°äº†ã€‚ æŸ¥è¯¢èµ„æ–™å¬è¯´jstackå’Œjmapç­‰å·¥å…·å°±æ˜¯åŸºäºå®ƒçš„ã€‚ 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;java&#x2F;bin&#x2F;java -classpath &#x2F;opt&#x2F;taobao&#x2F;java&#x2F;lib&#x2F;sa-jdi.jar sun.jvm.hotspot.CLHSDB æ›´è¯¦ç»†çš„å¯è§Rå¤§æ­¤è´´http://rednaxelafx.iteye.com/blog/1847971 plugin of intellij ideakey promoterå¿«æ·é”®ä¸€æ¬¡ä½ è®°ä¸ä½ï¼Œå¤šæ¥å‡ æ¬¡ä½ æ€»èƒ½è®°ä½äº†å§ï¼Ÿ maven helperåˆ†æmavenä¾èµ–çš„å¥½å¸®æ‰‹ã€‚ VM options ä½ çš„ç±»åˆ°åº•æ˜¯ä»å“ªä¸ªæ–‡ä»¶åŠ è½½è¿›æ¥çš„ï¼Ÿ 123-XX:+TraceClassLoadingç»“æœå½¢å¦‚[Loaded java.lang.invoke.MethodHandleImpl$Lazy from D:\\programme\\jdk\\jdk8U74\\jre\\lib\\rt.jar] åº”ç”¨æŒ‚äº†è¾“å‡ºdumpæ–‡ä»¶ 12-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath&#x3D;&#x2F;home&#x2F;admin&#x2F;logs&#x2F;java.hprofé›†å›¢çš„vmå‚æ•°é‡Œè¾¹åŸºæœ¬éƒ½æœ‰è¿™ä¸ªé€‰é¡¹ jaråŒ…å†²çªæŠŠè¿™ä¸ªå•ç‹¬å†™ä¸ªå¤§æ ‡é¢˜ä¸è¿‡åˆ†å§ï¼Ÿæ¯ä¸ªäººæˆ–å¤šæˆ–å°‘éƒ½å¤„ç†è¿‡è¿™ç§çƒ¦äººçš„caseã€‚æˆ‘ç‰¹ä¹ˆä¸‹è¾¹è¿™ä¹ˆå¤šæ–¹æ¡ˆä¸ä¿¡å°±æä¸å®šä½ ? mvn dependency:tree &gt; ~/dependency.txtæ‰“å‡ºæ‰€æœ‰ä¾èµ– mvn dependency:tree -Dverbose -Dincludes=groupId:artifactIdåªæ‰“å‡ºæŒ‡å®šgroupIdå’ŒartifactIdçš„ä¾èµ–å…³ç³» -XX:+TraceClassLoadingvmå¯åŠ¨è„šæœ¬åŠ å…¥ã€‚åœ¨tomcatå¯åŠ¨è„šæœ¬ä¸­å¯è§åŠ è½½ç±»çš„è¯¦ç»†ä¿¡æ¯ -verbosevmå¯åŠ¨è„šæœ¬åŠ å…¥ã€‚åœ¨tomcatå¯åŠ¨è„šæœ¬ä¸­å¯è§åŠ è½½ç±»çš„è¯¦ç»†ä¿¡æ¯ greys:scgreysçš„scå‘½ä»¤ä¹Ÿèƒ½æ¸…æ™°çš„çœ‹åˆ°å½“å‰ç±»æ˜¯ä»å“ªé‡ŒåŠ è½½è¿‡æ¥çš„ tomcat-classloader-locateé€šè¿‡ä»¥ä¸‹urlå¯ä»¥è·çŸ¥å½“å‰ç±»æ˜¯ä»å“ªé‡ŒåŠ è½½çš„curl http://localhost:8006/classloader/locate?class=org.apache.xerces.xs.XSObject ALI-TOMCATå¸¦ç»™æˆ‘ä»¬çš„æƒŠå–œ(æ„Ÿè°¢@åŠ¡è§‚) åˆ—å‡ºå®¹å™¨åŠ è½½çš„jaråˆ—è¡¨ curl http://localhost:8006/classloader/jars åˆ—å‡ºå½“å‰å½“å½“å‰ç±»åŠ è½½çš„å®é™…jaråŒ…ä½ç½®ï¼Œè§£å†³ç±»å†²çªæ—¶æœ‰ç”¨ curl http://localhost:8006/classloader/locate?class=org.apache.xerces.xs.XSObject å…¶ä»–gprefhttp://www.atatech.org/articles/33317 dmesgå¦‚æœå‘ç°è‡ªå·±çš„javaè¿›ç¨‹æ‚„æ— å£°æ¯çš„æ¶ˆå¤±äº†ï¼Œå‡ ä¹æ²¡æœ‰ç•™ä¸‹ä»»ä½•çº¿ç´¢ï¼Œé‚£ä¹ˆdmesgä¸€å‘ï¼Œå¾ˆæœ‰å¯èƒ½æœ‰ä½ æƒ³è¦çš„ã€‚ 1sudo dmesg|grep -i kill|less å»æ‰¾å…³é”®å­—oom_killerã€‚æ‰¾åˆ°çš„ç»“æœç±»ä¼¼å¦‚ä¸‹: 12345[6710782.021013] java invoked oom-killer: gfp_mask&#x3D;0xd0, order&#x3D;0, oom_adj&#x3D;0, oom_scoe_adj&#x3D;0[6710782.070639] [&lt;ffffffff81118898&gt;] ? oom_kill_process+0x68&#x2F;0x140 [6710782.257588] Task in &#x2F;LXC011175068174 killed as a result of limit of &#x2F;LXC011175068174 [6710784.698347] Memory cgroup out of memory: Kill process 215701 (java) score 854 or sacrifice child [6710784.707978] Killed process 215701, UID 679, (java) total-vm:11017300kB, anon-rss:7152432kB, file-rss:1232kB ä»¥ä¸Šè¡¨æ˜ï¼Œå¯¹åº”çš„javaè¿›ç¨‹è¢«ç³»ç»Ÿçš„OOM Killerç»™å¹²æ‰äº†ï¼Œå¾—åˆ†ä¸º854.è§£é‡Šä¸€ä¸‹OOM killerï¼ˆOut-Of-Memory killerï¼‰ï¼Œè¯¥æœºåˆ¶ä¼šç›‘æ§æœºå™¨çš„å†…å­˜èµ„æºæ¶ˆè€—ã€‚å½“æœºå™¨å†…å­˜è€—å°½å‰ï¼Œè¯¥æœºåˆ¶ä¼šæ‰«ææ‰€æœ‰çš„è¿›ç¨‹ï¼ˆæŒ‰ç…§ä¸€å®šè§„åˆ™è®¡ç®—ï¼Œå†…å­˜å ç”¨ï¼Œæ—¶é—´ç­‰ï¼‰ï¼ŒæŒ‘é€‰å‡ºå¾—åˆ†æœ€é«˜çš„è¿›ç¨‹ï¼Œç„¶åæ€æ­»ï¼Œä»è€Œä¿æŠ¤æœºå™¨ã€‚ dmesgæ—¥å¿—æ—¶é—´è½¬æ¢å…¬å¼:logå®é™…æ—¶é—´=æ ¼æ—å¨æ²»1970-01-01+(å½“å‰æ—¶é—´ç§’æ•°-ç³»ç»Ÿå¯åŠ¨è‡³ä»Šçš„ç§’æ•°+dmesgæ‰“å°çš„logæ—¶é—´)ç§’æ•°ï¼š 1date -d &quot;1970-01-01 UTC &#96;echo &quot;$(date +%s)-$(cat &#x2F;proc&#x2F;uptime|cut -f 1 -d&#39; &#39;)+12288812.926194&quot;|bc &#96; seconds&quot; å‰©ä¸‹çš„ï¼Œå°±æ˜¯çœ‹çœ‹ä¸ºä»€ä¹ˆå†…å­˜è¿™ä¹ˆå¤§ï¼Œè§¦å‘äº†OOM-Killeräº†ã€‚ æ–°æŠ€èƒ½getRateLimiteræƒ³è¦ç²¾ç»†çš„æ§åˆ¶QPS? æ¯”å¦‚è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œä½ è°ƒç”¨æŸä¸ªæ¥å£ï¼Œå¯¹æ–¹æ˜ç¡®éœ€è¦ä½ é™åˆ¶ä½ çš„QPSåœ¨400ä¹‹å†…ä½ æ€ä¹ˆæ§åˆ¶ï¼Ÿè¿™ä¸ªæ—¶å€™RateLimiterå°±æœ‰äº†ç”¨æ­¦ä¹‹åœ°ã€‚è¯¦æƒ…å¯ç§»æ­¥http://ifeve.com/guava-ratelimite","raw":null,"content":null,"categories":[],"tags":[]},{"title":"JumpGame","slug":"2019-03-13-JumpGame","date":"2019-03-13T01:52:33.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/13/2019-03-13-JumpGame/","link":"","permalink":"http://zehai.info/2019/03/13/2019-03-13-JumpGame/","excerpt":"","text":"problem Given an array of non-negative integers, you are initially positioned at the first index of the array. Each element in the array represents your maximum jump length at that position. Determine if you are able to reach the last index. Example 1: 123Input: [2,3,1,1,4]Output: trueExplanation: Jump 1 step from index 0 to 1, then 3 steps to the last index. Example 2: 1234Input: [3,2,1,0,4]Output: falseExplanation: You will always arrive at index 3 no matter what. Its maximum jump length is 0, which makes it impossible to reach the last index. keyæœ¬é¢˜æœ‰ä¸¤ä¸ªæ˜“ç†è§£é”™çš„åœ°æ–¹ è¾¾åˆ°æœ€åä¸€ä¸ªindexæˆ–è€…è¶…è¿‡æœ€åä¸€ä¸ªindexæ˜¯å¯ä»¥çš„ ã€2,5,0,0ã€‘ç¬¬ä¸€ä¸ª2å¯ä»¥è·³ä¸¤æ­¥ï¼Œç„¶åæˆ‘ä»¬åœ¨5çš„åŸºç¡€ä¸Šè·³äº”æ­¥ æœ¬é¢˜é‡‡ç”¨è´ªå¿ƒç®—æ³•ï¼Œç®—å‡ºå±€éƒ¨æœ€ä¼˜è§£å°±å¯ä»¥äº†ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è€ƒè™‘dpï¼Œä½†æœ¬é¢˜æ²¡æœ‰è¿™ä¸ªå¿…è¦ solution123456public boolean canJump(int[] nums) &#123; int reach = nums[0]; for(int i = 1; i &lt; nums.length &amp;&amp; reach &gt;= i; i++) if(i + nums[i] &gt; reach) reach = i + nums[i]; return reach &gt;= (nums.length-1) ? true : false; &#125; perfect1I&#39;m the perfect","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"SpiralMatrix","slug":"2019-03-12-SpiralMatrix","date":"2019-03-12T13:33:48.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/12/2019-03-12-SpiralMatrix/","link":"","permalink":"http://zehai.info/2019/03/12/2019-03-12-SpiralMatrix/","excerpt":"","text":"54.problem Given a matrix of m x n elements (m rows, n columns), return all elements of the matrix in spiral order. Example 1: 1234567Input:[ [ 1, 2, 3 ], [ 4, 5, 6 ], [ 7, 8, 9 ]]Output: [1,2,3,6,9,8,7,4,5] Example 2: 1234567Input:[ [1, 2, 3, 4], [5, 6, 7, 8], [9,10,11,12]]Output: [1,2,3,4,8,12,11,10,9,5,6,7] keyå¾ˆç®€å•çš„å¾ªç¯è¾“å‡ºçš„ä¾‹å­ï¼Œä»ã€0,0ã€‘çš„ä½ç½®é¡ºæ—¶é’ˆæ‰«ä¸€åœˆï¼Œç„¶åç¼©å°ä¸€åœˆï¼Œç»§ç»­æ‰«æï¼Œä¸è¿‡æœ‰ä¸€ä¸ªç»†èŠ‚å°±æ˜¯ç¬¬ä¸‰æ¬¡ç¬¬å››å¾ªç¯å‰ï¼Œè¦åˆ¤æ–­ä¸€ä¸‹,é˜²æ­¢æœ€åä¸€å±‚å¾ªç¯åªæœ‰ä¸€è¡Œ solution123456789101112131415161718192021222324252627282930public List&lt;Integer&gt; spiralOrder(int[][] matrix) &#123; List&lt;Integer&gt; ans = new ArrayList&lt;Integer&gt;(); if (matrix.length == 0) return ans; int rs = 0, re = matrix.length - 1;// rowStart rowEnd int cs = 0, ce = matrix[0].length - 1;// columnStart columnEnd while (rs &lt;= re &amp;&amp; cs &lt;= ce) &#123; for (int i = cs; i &lt;= ce; i++) &#123; ans.add(matrix[rs][i]); &#125; for(int j=rs+1;j&lt;=re;j++) &#123; ans.add(matrix[j][ce]); &#125; if(rs&lt;re&amp;&amp;cs&lt;ce) &#123; for(int k=ce-1;k&gt;cs;k--) &#123; ans.add(matrix[re][k]); &#125; for(int l=re;l&gt;rs;l--) &#123; ans.add(matrix[l][cs]); &#125; &#125; rs++; re--; cs++; ce--; &#125; return ans; &#125; perfect1yehh,I&#39;m the perfect","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Medium","slug":"Medium","permalink":"http://zehai.info/tags/Medium/"}]},{"title":"å¦‚ä½•è®¾ç½®hexoçš„favico","slug":"2019-03-12-å¦‚ä½•è®¾ç½®hexoçš„favico","date":"2019-03-12T10:35:17.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/12/2019-03-12-å¦‚ä½•è®¾ç½®hexoçš„favico/","link":"","permalink":"http://zehai.info/2019/03/12/2019-03-12-%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AEhexo%E7%9A%84favico/","excerpt":"","text":"solutionsource ä¸‹æ”¾ç½®32*32çš„favico.iconæ–‡ä»¶å¹¶åœ¨æ ¹ç›®å½•çš„_config.ymlä¸­è®¾ç½® favicon: /favicon.ico","raw":null,"content":null,"categories":[{"name":"others","slug":"others","permalink":"http://zehai.info/categories/others/"}],"tags":[]},{"title":"å¦‚ä½•å°†åŸŸåç»‘å®šåˆ°hexo","slug":"2019-03-12-å¦‚ä½•å°†åŸŸåç»‘å®šåˆ°hexo","date":"2019-03-12T09:44:20.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/12/2019-03-12-å¦‚ä½•å°†åŸŸåç»‘å®šåˆ°hexo/","link":"","permalink":"http://zehai.info/2019/03/12/2019-03-12-%E5%A6%82%E4%BD%95%E5%B0%86%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A%E5%88%B0hexo/","excerpt":"","text":"problemå¾ˆå¤šäººå¯èƒ½éƒ½æœ‰hexoåšå®¢ï¼Œä¼šæœ‰ä¸€ä¸ªgithubname.github.ioçš„åœ°å€ï¼Œç„¶åè‡ªå·±å¯èƒ½æƒ³å»ä¹°ä¸€ä¸ªåŸŸåï¼Œæ–¹ä¾¿è®°å¿†ï¼Œä½†æ˜¯è§£æåè¿Ÿè¿Ÿç”¨ä¸äº†ï¼Œè¯¥æ–‡ç« å°±æ¥è¯¦ç»†æè¿°ä¸€ä¸‹æ­¥éª¤ã€‚ solution1.æ‹¥æœ‰ä¸€ä¸ªgithubname.github.ioå¯ä»¥æ­£å¸¸è®¿é—®çš„åŸŸåï¼Œå¦‚æˆ‘çš„GitHubåšå®¢ï¼šhttps://shawngoethe.github.io 2.è´­ä¹°åŸŸåï¼Œä¸ªäººæ¨èé˜¿é‡Œäº‘ï¼Œé¦–å¹´å¹´è´¹æ¯”è¾ƒä¾¿å®œï¼Œé€‚åˆä¸ªäººæŠ˜è…¾ï¼Œåšå®¢å»ºè®®com,me,info,proï¼ˆä¸“å®¶ï¼‰,mobi(kindleç”µå­ä¹¦çš„æ ¼å¼)ï¼Œå†ä¸æµå¯ä»¥é€‰æ‹©techï¼Œccä¹‹ç±»çš„ï¼Œå›½å¤–å¯ä»¥å‚è€ƒLinostä¹‹ç±»çš„ç½‘é¡µ 3.è´­ä¹°åŸŸåè¿›è¡Œå®åè®¤è¯ï¼Œå¦åˆ™æ— æ³•ä½¿ç”¨ 4.è¿›è¡Œè§£æï¼šè®°å½•ç±»å‹CNAMEï¼ˆè¿›è¡Œè½¬å‘ï¼‰ï¼Œä¸»æœºè®°å½•@ï¼ˆé¿å…ä¸»æœºè®°å½•é€‰æ‹©wwwï¼Œè¾“å…¥åŸŸåè¦å¤šå†™wwwï¼‰ï¼Œè®°å½•å€¼ä¸ºshawngoethe.github.io,TTLé€‰æ‹©10åˆ†é’Ÿå°±å¯ä»¥äº† ä¸Šè¿°æ–¹æ³•å±äºå°†æˆ‘è´­ä¹°çš„zehai.infoè½¬å‘åˆ°äº†shawngoethe.github.io,è¿˜å¯ä»¥â€œè®°å½•ç±»å‹â€é€‰æ‹©â€œAâ€æ¥å¡«å†™IPv4çš„åœ°å€ï¼Œåœ°å€å¯ä»¥é€šè¿‡ping shawngoethe.github.io æ¥è·å¾— 5.ä¿®æ”¹ä»£ç ï¼šå¾ˆå¤šäººå¿½è§†äº†è¦åœ¨æºä»£ç /hexoblog/source/ç›®å½•ä¸‹æ·»åŠ CNAMEæ–‡ä»¶ï¼ˆæ³¨æ„æ²¡æœ‰å°¾ç¼€ï¼‰ï¼Œç„¶ååœ¨è¯¥æ–‡ä»¶ä¸‹å¡«å†™zehai.infoï¼ˆå¯ä»¥å…¼å®¹ï¼Œwww.zehai.info å’Œ zehai.info ä¸¤ç§è®¿é—®æ–¹å¼ï¼Œä½†å¦‚æœå¡«å†™ www.zehai.info åˆ™åªæ”¯æŒ www.zehai.info ä¸€ç§è®¿é—®æ–¹å¼ï¼‰ 6.ç­‰ååˆ†é’Ÿå·¦å³ï¼Œè®©è§£æç”Ÿæ•ˆï¼Œå¥½äº†ï¼Œä½ å¯ä»¥è®¿é—®æˆ‘çš„hexoè·å–æ›´å¤šå†…å®¹","raw":null,"content":null,"categories":[{"name":"others","slug":"others","permalink":"http://zehai.info/categories/others/"}],"tags":[]},{"title":"MaximumSubarray","slug":"2019-03-10-MaximumSubarray","date":"2019-03-10T13:39:50.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/10/2019-03-10-MaximumSubarray/","link":"","permalink":"http://zehai.info/2019/03/10/2019-03-10-MaximumSubarray/","excerpt":"","text":"problem Maximum Subarray Easy Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum. Example: 123Input: [-2,1,-3,4,-1,2,1,-5,4],Output: 6Explanation: [4,-1,2,1] has the largest sum &#x3D; 6. Follow up: If you have figured out the O(n) solution, try coding another solution using the divide and conquer approach, which is more subtle. keyæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå’Œä¸ºç¬¬ä¸€ä½æ•°ï¼Œç„¶åç”¨curSumæ¥ä¿å­˜é€’å¢é‡ ps ansâ€“&gt;answer curâ€“&gt;cursor solution12345678910111213class Solution &#123; public int maxSubArray(int[] nums) &#123; int ans=nums[0], curSum=0; for (int i=0; i&lt;nums.length; i++) &#123; curSum = curSum + nums[i]; ans = Math.max(ans, curSum); curSum = Math.max(0, curSum); &#125; return ans; &#125;&#125; perfect12345678910class Solution &#123; public int maxSubArray(int[] nums) &#123; int dp = nums[0], maxSum=nums[0]; for (int i=1; i&lt;nums.length; i++) &#123; dp = dp&lt;0?nums[i]:nums[i]+dp; maxSum=Math.max(maxSum, dp); &#125; return maxSum; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[]},{"title":"pow(x,n)","slug":"2019-03-10-pow-x-n","date":"2019-03-10T13:10:48.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/10/2019-03-10-pow-x-n/","link":"","permalink":"http://zehai.info/2019/03/10/2019-03-10-pow-x-n/","excerpt":"","text":"problem \\50. Pow(x, n) Medium Implement pow(x, n), which calculates x raised to the power n (xn). Example 1: 12Input: 2.00000, 10Output: 1024.00000 Example 2: 12Input: 2.10000, 3Output: 9.26100 Example 3: 123Input: 2.00000, -2Output: 0.25000Explanation: 2-2 &#x3D; 1&#x2F;22 &#x3D; 1&#x2F;4 &#x3D; 0.25 Note: -100.0 &lt; x &lt; 100.0 n is a 32-bit signed integer, within the range [âˆ’231, 231 âˆ’ 1] solution12345678910111213141516171819202122public double myPow(double x, int n) &#123; long N = n; if (N &lt; 0) &#123; x = 1 / x; N = -N; &#125; double ans = 1; double cur = x;//2 for (long i = N; i &gt; 0; i /= 2) &#123; if (i % 2 == 1) ans = ans * cur; cur = cur * cur; &#125; return ans; &#125;//å·æ‡’æ–¹æ³•public double myPow(double x, int n) &#123; return Math.pow(x, n); &#125; keyå…¶å®å…ˆä½¿ç”¨äº†å·æ‡’çš„æ–¹æ³•ï¼Œè°ƒç”¨Mathåº“çš„powæ–¹æ³•ï¼Œç„¶åå†™è¿‡ä¸€ç‰ˆ 123for(long i=N;i&gt;0;i--) &#123; ans=ans*cur;&#125; è¿™ä¸ªä¼šç›´æ¥æŠ¥è¶…æ—¶çš„é”™è¯¯ï¼Œå› ä¸ºçš„è®¡ç®—é‡ä¼šéå¸¸å¤§ï¼Œåœ¨è®¡ç®—ï¼ˆ-1.00000ï¼Œ-2147483648ï¼‰æ—¶å€™è¶…æ—¶äº†ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ¤æ–­xæ¥é¿å…è¿™ä¸€ä¸ªè¶…æ—¶ï¼Œä½†æ˜¯æˆ‘æƒ³åˆ°äº†ï¼Œå¯ä»¥é€šè¿‡n/2æ¥è¿…é€Ÿå‡å°‘ç›¸ä¹˜çš„æ¬¡æ•°ã€‚æ—¶é—´å¤§æ¦‚æ˜¯8ms perfect1234567891011121314151617181920212223242526272829class Solution &#123; public double findPower(double x,long n)&#123; if(n == Long.valueOf(1)) return x; if(n % 2 == 0)&#123; double half_pow = findPower(x,n/2); return half_pow * half_pow; &#125;else&#123; double half_pow = findPower(x,(n-1)/2); return half_pow * half_pow * x; &#125; &#125; public double myPow(double x, int n) &#123; if( n==0 ) return 1; long n_long = (long) n; if( n &gt; 0 ) return findPower(x,n); x = 1 / x; long n_long_abs = (long) Math.abs((long)n); if(n_long_abs == 1) return x; return findPower(x,n_long_abs); &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[]},{"title":"æˆ‘åœ¨ä¸€ä¸ªä¸å±äºæˆ‘çš„åœ°æ–¹æ¸¸è¡","slug":"2019-03-06-æˆ‘åœ¨ä¸€ä¸ªä¸å±äºæˆ‘çš„åœ°æ–¹æ¸¸è¡","date":"2019-03-06T08:39:50.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/06/2019-03-06-æˆ‘åœ¨ä¸€ä¸ªä¸å±äºæˆ‘çš„åœ°æ–¹æ¸¸è¡/","link":"","permalink":"http://zehai.info/2019/03/06/2019-03-06-%E6%88%91%E5%9C%A8%E4%B8%80%E4%B8%AA%E4%B8%8D%E5%B1%9E%E4%BA%8E%E6%88%91%E7%9A%84%E5%9C%B0%E6%96%B9%E6%B8%B8%E8%8D%A1/","excerpt":"","text":"æˆ‘åœ¨ä¸€ä¸ªä¸å±äºæˆ‘çš„åœ°æ–¹æ¸¸è¡2019å¹´çš„3æœˆ6æ—¥ï¼Œè·ç¦»æˆ‘ä¸Šä¸€ä»½å·¥ä½œç¦»èŒï¼Œå·²ç»37å¤©ï¼Œæ—¥å­è¿‡å¾—è™½ç„¶ä¸å¥½ï¼Œä½†ä¹Ÿä¸ç®—å·®ï¼Œå¥½æ¶ˆæ¯æ˜¯é˜¿lenè¿˜é™ªç€æˆ‘ï¼Œåæ¶ˆæ¯æ˜¯ä¸€ç›´è¿‡ç€å¼‚åœ°æ‹çš„ç”Ÿæ´»ï¼Œä¸çŸ¥é“æ˜¯ä¸ºä»€ä¹ˆï¼Œæ˜¯æˆ‘è¿›å…¥äº†ç„¦è™‘çš„çŠ¶æ€ï¼Œæ¯å¤©çš„æ—¥å¸¸å°±æ˜¯æŠ•ç®€å†ï¼Œæ€è€ƒäººç”Ÿï¼Œå‘å‘†ï¼Œçœ‹upä¸»ç§€æ©çˆ± å…¶å®å›é¡¾å‰ä¸‰æ¬¡çš„æ‰¾å·¥ä½œç»å†ï¼Œå“ªæ¬¡ä¸æ˜¯è§‰å¾—è‡ªå·±å¿«è¦å˜æˆå’¸é±¼äº†ï¼Œç„¶åæ”¶åˆ°äº†ä¸€ä¸¤ä¸ªofferï¼Œä¸è¿‡ä»Šå¹´çš„ä¸åŒç‚¹å°±æ˜¯ï¼Œæœ‰ä¸‰å®¶ï¼Œæˆ‘å·²ç»è¿‡äº†ç”¨äººå•ä½çš„é¢è¯•ï¼Œå´è¢«å¡åœ¨äº†äººåŠ›èµ„æºéƒ¨é—¨çš„å®¡æ ¸ä¸Šï¼Œæˆ‘æ—¶å¸¸æ¨è‡ªå·±çš„å­¦å†ï¼Œå´æ— æ³•å»åŸè°…æ›¾ç»é«˜è€ƒçš„è‡ªå·±ï¼Œå†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œæˆ‘åˆšåˆšä»æ¸…åçš„åŒ—é—¨è¿›å…¥æ ¡å›­ï¼Œä¸‹åˆä¸¤ç‚¹åŠçš„å®¿èˆåŒºï¼Œæ²¡æœ‰ä¸€ç‚¹å™ªéŸ³ï¼Œå¤©ç©ºçš„ä¹Œé¸¦é¸£å«åœ¨ç©ºæ—·çš„æ ¡å›­å›è¡ï¼Œä»¿ä½›ï¼Œåœ¨æ„Ÿå¹ä»Šæ—¥çš„å¥½å¤©æ°”ï¼Œé˜³å…‰é‚£ä¹ˆæ˜äº®ï¼Œæ´’åœ¨å…‰ç§ƒç§ƒçš„æ ‘æä¸Šã€‚ 17å¹´è€ƒç ”å¤ä¹ æœŸé—´åŸ‹ä¸‹æ¥çš„é›·ï¼Œæœ€ç»ˆè¿˜æ˜¯çˆ†ç‚¸äº†ï¼Œ18å¹´ï¼Œ19å¹´ï¼Œ20å¹´ï¼Œä¼¼ä¹æ—¶é—´è¿‡å¾—å¾ˆå¿«ï¼Œæˆ‘ä¸¢å¤±äº†é‚£ä¸€æ¬¡æœºä¼šåï¼Œæˆ‘ä¼¼ä¹å†ä¹Ÿæ²¡æœ‰æœºä¼šå»æŠ•å…¥èº«å¿ƒå»å¤ä¹ ï¼Œæ¯å¤©çš„å¤§è„‘é‡Œæ›´å¤šçš„æ˜¯ï¼Œå¥½ç´¯å•Šï¼Œå¥½çƒ¦å•Šï¼Œä»€ä¹ˆæ—¶å€™å‘å·¥èµ„å•Šã€‚è¶Šç”Ÿæ˜¯æ€€å¿µèµ·æ— å¿§æ— è™‘çš„æœ¬ç§‘ç”Ÿæ´»ï¼Œå¤©å¤©ä¸ç”¨æ‹…å¿ƒæˆ‘æ˜¯è°ï¼Œæˆ‘åœ¨å“ªå„¿ï¼Œå­¦ä»€ä¹ˆï¼Œå¯èƒ½å”¯ä¸€éœ€è¦è´¹ç‚¹è„‘ç»çš„å°±æ˜¯ï¼Œä¸­åˆåƒå•¥ è€Œç°åœ¨ï¼Œæˆ‘èµ°åœ¨ä¸€ä¸ªä¸å±äºæˆ‘çš„ä¸–ç•Œé‡Œï¼Œç†Ÿæ‚‰åˆé™Œç”Ÿï¼Œæˆ‘ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œå› ä¸ºæˆ‘ä¸çŸ¥é“æˆ‘è¦å¹²å˜›ï¼Œå‰æ–¹ä¸€ä¸ªæ˜¯æ‰¾ä¸åˆ°å·¥ä½œçš„å·¥ä½œæ–¹å‘ï¼Œä¸€ä¸ªæ˜¯ä¼šé¥¿æ­»çš„è€ƒç ”æ–¹å‘ï¼Œä¸–ç•Œå¾ˆç²¾å½©ï¼Œæˆ‘å´æ˜¾å¾—é‚£ä¹ˆæ¸ºå°ï¼Œå°±æ·±æ·±æƒ³èµ·æ¥ç”¨äººéƒ¨é—¨å‘ä¿¡æ¯å’Œæˆ‘è¯´ï¼š ä»æŠ€æœ¯å±‚é¢ä¸Šï¼Œæˆ‘è®¤ä¸ºä»å·¥ä½œå¹´é™ä¸Šï¼Œä½ çš„æ°´å¹³æ˜¯å¤Ÿçš„ã€‚å¯¹äºå€™é€‰äººçš„å­¦å†èƒŒæ™¯ä¸Šï¼Œå¤®ä¼æœ‰è‡ªèº«çš„ç—¼ç–¾ï¼Œç”¨äººéƒ¨é—¨çš„è¯è¯­æƒä¸ä¸€å®šå¤§äºäººåŠ›éƒ¨é—¨ï¼Œè¿™ä¸ªä½ ä¹Ÿæ— é¡»ä»‹æ€€ã€‚ å·¥ä½œçš„å‰ä¸‰å¹´å¯¹äºä¸€ä¸ªå·¥ç¨‹å¸ˆæ¥è¯´æ˜¯è‡³å…³é‡è¦çš„ï¼Œå¦‚æœå–œæ¬¢è¿™æ¡è·¯ï¼Œå°±å¤šèŠ±ç‚¹æ—¶é—´ï¼ŒåŠ æ²¹ï¼æ±Ÿæ¹–ä¸å¤§ï¼Œæœ‰ç¼˜å†è§ï¼ ä¸çŸ¥é“æ¥ä¸‹æ¥åº”è¯¥åšä»€ä¹ˆï¼Œæˆ–è®¸è¿™å°±æ˜¯åº”è¯•æ•™è‚²çš„æ‚²å“€ï¼Œæˆ‘ä¹Ÿåªèƒ½è®¸æ„¿ï¼Œä¸‰æœˆä»½èƒ½å¤Ÿæ‹¿åˆ°ä¸€ä¸ªä¸é”™çš„offerï¼Œå…ˆæ´»ä¸‹æ¥ï¼Œæˆ‘æ˜¯å­è‹ï¼Œä¸€ä¸ªå¿«è¦å¾—æŠ‘éƒç—‡çš„äººã€‚","raw":null,"content":null,"categories":[{"name":"mood","slug":"mood","permalink":"http://zehai.info/categories/mood/"}],"tags":[{"name":"diary","slug":"diary","permalink":"http://zehai.info/tags/diary/"}]},{"title":"docker+springboot","slug":"2019-03-05-docker-springboot","date":"2019-03-05T13:26:10.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/05/2019-03-05-docker-springboot/","link":"","permalink":"http://zehai.info/2019/03/05/2019-03-05-docker-springboot/","excerpt":"","text":"whatåœ¨ pom.xml-propertiesä¸­æ·»åŠ  Docker é•œåƒåç§° 123&lt;properties&gt; &lt;docker.image.prefix&gt;springboot&lt;&#x2F;docker.image.prefix&gt;&lt;&#x2F;properties&gt; plugins ä¸­æ·»åŠ  Docker æ„å»ºæ’ä»¶ï¼š 1234567891011121314151617181920212223242526&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;&#x2F;artifactId&gt; &lt;&#x2F;plugin&gt; &lt;!-- Docker maven plugin --&gt; &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;&#x2F;groupId&gt; &lt;artifactId&gt;docker-maven-plugin&lt;&#x2F;artifactId&gt; &lt;version&gt;1.0.0&lt;&#x2F;version&gt; &lt;configuration&gt; &lt;imageName&gt;$&#123;docker.image.prefix&#125;&#x2F;$&#123;project.artifactId&#125;&lt;&#x2F;imageName&gt; &lt;dockerDirectory&gt;src&#x2F;main&#x2F;docker&lt;&#x2F;dockerDirectory&gt; &lt;resources&gt; &lt;resource&gt; &lt;targetPath&gt;&#x2F;&lt;&#x2F;targetPath&gt; &lt;directory&gt;$&#123;project.build.directory&#125;&lt;&#x2F;directory&gt; &lt;include&gt;$&#123;project.build.finalName&#125;.jar&lt;&#x2F;include&gt; &lt;&#x2F;resource&gt; &lt;&#x2F;resources&gt; &lt;&#x2F;configuration&gt; &lt;&#x2F;plugin&gt; &lt;!-- Docker maven plugin --&gt; &lt;&#x2F;plugins&gt;&lt;&#x2F;build&gt; åœ¨ç›®å½•src/main/dockerä¸‹åˆ›å»º Dockerfile æ–‡ä»¶ï¼ŒDockerfile æ–‡ä»¶ç”¨æ¥è¯´æ˜å¦‚ä½•æ¥æ„å»ºé•œåƒã€‚ 1234FROM openjdk:8-jdk-alpineVOLUME &#x2F;tmpADD spring-boot-docker-1.0.jar app.jarENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd&#x3D;file:&#x2F;dev&#x2F;.&#x2F;urandom&quot;,&quot;-jar&quot;,&quot;&#x2F;app.jar&quot;] è¿™ä¸ª Dockerfile æ–‡ä»¶å¾ˆç®€å•ï¼Œæ„å»º Jdk åŸºç¡€ç¯å¢ƒï¼Œæ·»åŠ  Spring Boot Jar åˆ°é•œåƒä¸­ï¼Œç®€å•è§£é‡Šä¸€ä¸‹: FROM ï¼Œè¡¨ç¤ºä½¿ç”¨ Jdk8 ç¯å¢ƒ ä¸ºåŸºç¡€é•œåƒï¼Œå¦‚æœé•œåƒä¸æ˜¯æœ¬åœ°çš„ä¼šä» DockerHub è¿›è¡Œä¸‹è½½ VOLUME ï¼ŒVOLUME æŒ‡å‘äº†ä¸€ä¸ª/tmpçš„ç›®å½•ï¼Œç”±äº Spring Boot ä½¿ç”¨å†…ç½®çš„Tomcatå®¹å™¨ï¼ŒTomcat é»˜è®¤ä½¿ç”¨/tmpä½œä¸ºå·¥ä½œç›®å½•ã€‚è¿™ä¸ªå‘½ä»¤çš„æ•ˆæœæ˜¯ï¼šåœ¨å®¿ä¸»æœºçš„/var/lib/dockerç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¹¶æŠŠå®ƒé“¾æ¥åˆ°å®¹å™¨ä¸­çš„/tmpç›®å½• ADD ï¼Œæ‹·è´æ–‡ä»¶å¹¶ä¸”é‡å‘½å ENTRYPOINT ï¼Œä¸ºäº†ç¼©çŸ­ Tomcat çš„å¯åŠ¨æ—¶é—´ï¼Œæ·»åŠ java.security.egdçš„ç³»ç»Ÿå±æ€§æŒ‡å‘/dev/urandomä½œä¸º ENTRYPOINT è¿™æ · Spring Boot é¡¹ç›®æ·»åŠ  Docker ä¾èµ–å°±å®Œæˆäº†ã€‚","raw":null,"content":null,"categories":[{"name":"docker","slug":"docker","permalink":"http://zehai.info/categories/docker/"}],"tags":[]},{"title":"dockerfile","slug":"2019-03-04-dockerfile","date":"2019-03-04T13:09:55.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/04/2019-03-04-dockerfile/","link":"","permalink":"http://zehai.info/2019/03/04/2019-03-04-dockerfile/","excerpt":"","text":"whaté€šè¿‡dockerfileå†™å…¥ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®å‚æ•°ç­‰ï¼Œæ¥ç”Ÿæˆimageæ–‡ä»¶ï¼Œå¯ä»¥ç±»æ¯”nodeçš„package.jsonæˆ–è€…nginx.confçš„æ–‡ä»¶ format1234567891011121314151617181920## Dockerfileæ–‡ä»¶æ ¼å¼# This dockerfile uses the ubuntu image# VERSION 2 - EDITION 1# Author: docker_user# Command format: Instruction [arguments / command] .. # 1ã€ç¬¬ä¸€è¡Œå¿…é¡»æŒ‡å®š åŸºç¡€é•œåƒä¿¡æ¯FROM ubuntu # 2ã€ç»´æŠ¤è€…ä¿¡æ¯MAINTAINER docker_user docker_user@email.com # 3ã€é•œåƒæ“ä½œæŒ‡ä»¤RUN echo &quot;deb http://archive.ubuntu.com/ubuntu/ raring main universe&quot; &gt;&gt; /etc/apt/sources.listRUN apt-get update &amp;&amp; apt-get install -y nginxRUN echo &quot;\\ndaemon off;&quot; &gt;&gt; /etc/nginx/nginx.conf # 4ã€å®¹å™¨å¯åŠ¨æ‰§è¡ŒæŒ‡ä»¤CMD /usr/sbin/nginx build image1docker build è¿è¡Œè¯¥å‘½ä»¤æ—¶ï¼Œæ ¹æ®dockerfileæ–‡ä»¶åŠä¸Šä¸‹æ–‡æ„å»ºæ–°çš„dockeré•œåƒï¼Œå…¶ä¸­ä¸Šä¸‹æ–‡æ˜¯æŒ‡dockerfileæ‰€åœ¨çš„æœ¬åœ°è·¯å¾„æˆ–è€…ç½‘ç»œè·¯å¾„urlã€‚ ps:dokcer buildæ—¶å€™ï¼Œä¼šåœ¨åå°å®ˆæŠ¤è¿›ç¨‹daemonä¸­è¿›è¡Œï¼Œè€Œä¸æ˜¯cliï¼ˆcommon line interfaceï¼‰ä¸­ï¼Œæ„å»ºå‰ï¼Œæ„å»ºè¿›ç¨‹å°†å…¨éƒ¨å†…å®¹é€’å½’æ”¾åˆ°å®ˆæŠ¤è¿›ç¨‹ï¼Œå°†dockerfileæ–‡ä»¶æ”¾åœ¨ï¼ˆæœ¬å°±åœ¨ç©ºç›®å½•ä¸‹æ„å»ºï¼‰è¯¥ç›®å½•ä¸‹ è¿˜å¯ä»¥é€šè¿‡.dockerignoreçš„æ–‡ä»¶æ¥å¿½ç•¥ä¸Šä¸‹æ–‡ç›®å½•ä¸­çš„éƒ¨åˆ†æ–‡ä»¶å’Œç›®å½•ï¼ŒåŒ.gitignore é€šè¿‡-få‘½ä»¤æŒ‡å®šæ–‡ä»¶ä½ç½®ï¼Œå¦‚ï¼š 1docker buid -f /path/to/dockerfile . image tagé•œåƒæ ‡ç­¾docker build -t ngix/v3 cacheDocker å®ˆæŠ¤è¿›ç¨‹ä¼šä¸€æ¡ä¸€æ¡çš„æ‰§è¡Œ Dockerfile ä¸­çš„æŒ‡ä»¤ï¼Œè€Œä¸”ä¼šåœ¨æ¯ä¸€æ­¥æäº¤å¹¶ç”Ÿæˆä¸€ä¸ªæ–°é•œåƒï¼Œæœ€åä¼šè¾“å‡ºæœ€ç»ˆé•œåƒçš„IDã€‚ç”Ÿæˆå®Œæˆåï¼ŒDocker å®ˆæŠ¤è¿›ç¨‹ä¼šè‡ªåŠ¨æ¸…ç†ä½ å‘é€çš„ä¸Šä¸‹æ–‡ã€‚ Dockerfileæ–‡ä»¶ä¸­çš„æ¯æ¡æŒ‡ä»¤ä¼šè¢«ç‹¬ç«‹æ‰§è¡Œï¼Œå¹¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°é•œåƒï¼ŒRUN cd /tmpç­‰å‘½ä»¤ä¸ä¼šå¯¹ä¸‹æ¡æŒ‡ä»¤äº§ç”Ÿå½±å“ã€‚ Docker ä¼šé‡ç”¨å·²ç”Ÿæˆçš„ä¸­é—´é•œåƒï¼Œä»¥åŠ é€Ÿdocker buildçš„æ„å»ºé€Ÿåº¦ã€‚ example12345678910111213141516171819mkdir mynginxcd mynginxvi Dockerfile//åˆ¶ä½œdokcerfileFROM nginxRUN echo &#x27;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&#x27; &gt; /usr/share/nginx/html/index.html//save &amp;&amp; run this code in mynginxdocker build -t nginx:v1 .//v1 åé¢æœ‰ä¸€ä¸ªç©ºæ ¼å’Œä¸€ä¸ªç‚¹//ç‚¹ä»£è¡¨å½“å‰ç›®å½•//æŸ¥çœ‹imagedokcer images//rundokcer run --name docker_nginx_v1 -d -p 80:80 nginx:v1//docker_nginx_v1ä¸ºå®¹å™¨å//nginx:v1ä¸ºimageå","raw":null,"content":null,"categories":[{"name":"Linux","slug":"Linux","permalink":"http://zehai.info/categories/Linux/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://zehai.info/tags/docker/"}]},{"title":"NoSql-introduction","slug":"2019-03-04-NoSql-introduction","date":"2019-03-04T13:01:07.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/04/2019-03-04-NoSql-introduction/","link":"","permalink":"http://zehai.info/2019/03/04/2019-03-04-NoSql-introduction/","excerpt":"","text":"why nosqlNoSqlå¯ä»¥å¤„ç†ç»“æ„åŒ–ï¼Œéç»“æ„åŒ–çš„æ•°æ®ï¼Œå¯ä»¥æ°´å¹³ä¼¸ç¼©ï¼Œåœ¨å®æ—¶å’Œæ‰¹é‡æ•°æ®åˆ†æä¸­å…·æœ‰ä¼˜åŠ¿ difference","raw":null,"content":null,"categories":[{"name":"database","slug":"database","permalink":"http://zehai.info/categories/database/"}],"tags":[]},{"title":"docker","slug":"2019-03-04-docker","date":"2019-03-04T03:07:16.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/04/2019-03-04-docker/","link":"","permalink":"http://zehai.info/2019/03/04/2019-03-04-docker/","excerpt":"","text":"why docker è§£å†³â€œåœ¨æˆ‘çš„æœºå­ä¸Šå¯ä»¥æ­£å¸¸å·¥ä½œâ€çš„é—®é¢˜ è¿ç»´æ›´å¥½åœ°ç®¡ç†æœåŠ¡ æ›´å¥½åœ°è¿ç§»å’Œæ‹“å±•ï¼ˆä»»æ„å¹³å°è¿è¡Œï¼‰ what is dockerdockerå±äºLinuxå®¹å™¨çš„ä¸€ç§å°è£…ï¼Œå’ŒVMç±»ä¼¼ï¼Œä½†ä»–ä¸åƒVMä¸€æ ·è™šæ‹Ÿåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œè€Œæ˜¯å’Œæ“ä½œç³»ç»Ÿå¹³çº§ï¼Œç¨‹åºè¿è¡Œåœ¨å®¹å™¨é‡Œï¼Œå°±å’Œåœ¨çœŸå®çš„ç‰©ç†æœºä¸Šé¢è¿è¡Œä¸€æ · ç®€å•ä¸€ç‚¹ç†è§£å°±æ˜¯ï¼šç¨‹åºè¿è¡Œåœ¨dockerä¸Šå’ŒçœŸæœºä¸Šå‡ ä¹è¯¯å·®ï¼Œå°†ç¨‹åºåŒ…è£…èµ·æ¥ç®¡ç† åè¯è§£é‡Š daemonï¼šå®ˆæŠ¤è¿›ç¨‹ Clientï¼šå‘½ä»¤è¡Œ imageï¼šé•œåƒï¼Œç”¨æ¥åˆ›å»ºå®¹å™¨ containerï¼šè¿è¡Œç»„ä»¶ï¼Œå¯åŠ¨çš„imageå°±æ˜¯å®¹å™¨ registryï¼šç®¡ç†imageçš„åœ°æ–¹ install #ubuntu $ sudo apt-get install docker-ce docker-ce-cli containerd.io HelloWorld 123sudo docker container run hello-world//ä»–ä¼šå…ˆæ‰¾æœ¬åœ°ï¼Œç„¶åå†å»ä»“åº“ä¸‹è½½//è¯¥è¿‡ç¨‹å°†imageå˜æˆå®¹å™¨ï¼Œå³imageæ–‡ä»¶äº§ç”Ÿcontaineræ–‡ä»¶ å¸¸ç”¨å‘½ä»¤ docker pull image_name//æ‹‰å–é•œåƒ docker images//æœ¬åœ°é•œåƒ docker rmi xxx//remove image docker ps//view what docker is running docker ps -a //ä»¥ä¸‹ä½¿ç”¨cnä»£æ›¿ container_name/container_id docker start|stop|restart cn docker attach cn//å¯åŠ¨åè¿›å…¥å®¹å™¨ dokcer rm cn docker info docker search nginx","raw":null,"content":null,"categories":[{"name":"Linux","slug":"Linux","permalink":"http://zehai.info/categories/Linux/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://zehai.info/tags/docker/"}]},{"title":"LineageOS16.0-RELEASE","slug":"2019-03-02-LineageOS16-0-RELEASE","date":"2019-03-02T12:12:52.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/02/2019-03-02-LineageOS16-0-RELEASE/","link":"","permalink":"http://zehai.info/2019/03/02/2019-03-02-LineageOS16-0-RELEASE/","excerpt":"","text":"16.0æ­£å¼å‘å¸ƒæˆ‘ä»¬ä»å»å¹´å…«æœˆå¼€å§‹ï¼ŒåŠªåŠ›å°†æˆ‘ä»¬LineageOsçš„æ–°ç‰¹æ€§ç§»æ¤åˆ°æ–°ç‰ˆæœ¬çš„å®‰å“ä¸Šï¼Œéå¸¸æ„Ÿè°¢ä¹‹å‰ç‰ˆæœ¬ä¸­çš„å·¥ä½œè€…ä»¬ï¼Œæˆ‘ä»¬æ‰èƒ½å¤Ÿåœ¨è¿™æ¬¡çš„ç‰ˆæœ¬æ–°ç‰¹æ€§ä¸­æŠ•å…¥æ›´å¤šçš„ç²¾åŠ›ï¼Œå°¤å…¶æ˜¯ï¼Œéšç§å®ˆæŠ¤ï¼ˆPrivacy Guardï¼‰å’Œæ’ä»¶ï¼ˆsu addonï¼‰ä¸Šæ”¶åˆ°äº†äº†å¤§é‡çš„æå‡å»ºè®®ã€‚é€šè¿‡å¯¹Styles APIçš„ä¸€äº›ç»†å¾®æ›´æ”¹ï¼Œä»–ç°åœ¨å¯ä»¥å…¼å®¹å®‰å“æš—é»‘æ¨¡å¼çš„é»˜è®¤å®ç°ï¼Œåœ¨æœªæ¥ï¼Œè¶Šæ¥è¶Šå¤šçš„ä¸‰æ–¹åº”ç”¨å°†éµå¾ªç³»ç»Ÿé£æ ¼ï¼Œè¿™æ„å‘³ç€Styles APIå°†å…è®¸åœ¨è·¨åº”ç”¨ç¨‹åºæ—¶è·å¾—æ›´ä¸€è‡´çš„ä½“éªŒã€‚æ­£å¦‚æˆ‘ä»¬å‘å¸ƒå¤å­£ç¬¬äºŒæ¬¡è°ƒç ”ç»“æœé‚£æ ·ï¼Œæˆ‘ä»¬å°†ä»‹ç»Trustçš„æ–°ç‰¹æ€§ï¼Œé¦–å…ˆæ˜¯è®¾å¤‡é”å®šæ—¶é˜»æ­¢æ–°USBè®¾å¤‡è¿æ¥ã€‚è¯·æ³¨æ„ï¼Œç”±äºåŸºäºåº•å±‚ï¼Œæ‰€ä»¥è¿™ä¸ªç‰¹æ€§å¿…é¡»åœ¨æ¯ä¸ªè®¾å¤‡åº•å±‚ä¸­å¯ç”¨ã€‚Trebuchetç°åœ¨è¿˜å¯ä»¥éšè—appä»¥åŠåœ¨æ‰“å¼€appå‰è¿›è¡Œèº«ä»½éªŒè¯ã€‚è¯¥é™åˆ¶ä¹Ÿä»…åœ¨Trebuchetä¸­ï¼Œå¹¶éç³»ç»ŸèŒƒå›´ã€‚æˆ‘ä»¬è®¤ä¸º16.0çš„åˆ†æ”¯å·²ç»è¾¾åˆ°äº†15.1ç‰ˆæœ¬çš„ç‰¹æ€§æµ‹è¯•å¹¶åšå¥½äº†å‘å¸ƒå‡†å¤‡ã€‚éšç€16.0åˆ†æ”¯æˆä¸ºæœ€æ–°æœ€æ´»è·ƒçš„åˆ†æ”¯ï¼Œåœ¨2019.3.1ï¼Œå®ƒå°†å¼€å§‹æ—¥æ›´æ–°æ„å»ºï¼Œå¹¶ä¸”15.1å°†ä¼šç§»åŠ¨åˆ°å‘¨æ›´æ–°ã€‚16.0ç‰ˆæœ¬å°†ä¼šä»å°éƒ¨åˆ†æœºå™¨å¼€å§‹è¿è¡Œï¼Œä¸€äº›å…¶ä»–çš„æœºå­å¦‚æœå‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬ä¹Ÿä¼šåšä¸€äº›å°æ”¹åŠ¨ï¼Œå¼€å§‹æ„å»ºï¼Œå¹¶é€šè¿‡æ”¹åŠ¨æ„å»ºè„šæœ¬æ¥æ›´å¥½åœ°å¤„ç†æˆ‘ä»¬æœ€æ–°æ‰‹æœºçš„ï¼Œç‹¬ç‰¹featureï¼Œä»¥åŠç”±æ­¤äº§ç”Ÿçš„å¤æ‚é—®é¢˜ æ”¯æŒæ›´æ–°åå• Asus BQ Fairphone Google HTC Huawei LeEco Lenovo LG Moto Nextbit Nubia Nvdia OnePlus(my oneplus 5T receive 16.0) Oppo Samsung Sony Wileyfox Wingtech Xiaomi YU ZTE Zuk more å…¶ä»–çƒ­é—¨çš„ROM MoKee] crDroid MIUI Flyme PixelExperience åŸæ–‡ Hello LineageOS 16.0Weâ€™ve been working hard since August to port our unique features to this new version of Android. Thanks to the major cleanup and refactoring done in the previous version, we were able to focus more on features and reliability this time; in particular, both Privacy Guard and the su addon received a sizeable amount of improvements. With some minor changes made to the Styles API, it is now compatible with what will eventually become the default implementation of dark mode in Android. In the future, more and more third party apps will follow the system style, meaning our Styles API will allow you to have a more coherent experience across apps. As we announced when the Summer Survey 2 results were posted, we will be introducing new features to Trust, beginning with the ability to block new USB device connections when device is locked. Please note that this feature has to be enabled on a per-device basis due to the layer at which this was implemented. Trebuchet is also now able to hide apps and require authentication before opening them. Please note that this restriction is limited to Trebuchet and is not system-wide. We feel that the 16.0 branch has reached feature parity with 15.1 and is ready for initial release. With 16.0 being the most recent and most actively-developed branch, on March 1st, 2019 it will begin receiving builds nightly and 15.1 will be moved to weekly builds. LineageOS 16.0 will be launching with a small selection of devices. Additional devices will begin receiving builds as they are ready and after we make minor change to our build scripts to better handle the unique features, and resulting complications, of the most modern devices. Upgrading to LineageOS 16.0 (Optional) Make a backup of your important data Download the build either from download portal or built in Updater app You can export the downloaded package from the Updater app to the sdcard by long-pressing it and then selecting â€œExportâ€ in the popup menu Download proper addons packages (GApps, suâ€¦) for Android 9.0/Lineage OS 16.0 Make sure your recovery and firmware are up to date Format your system partition Follow the â€œInstalling LineageOS from recoveryâ€ section on your deviceâ€™s installation page Please note that if youâ€™re currently on an official build, you DO NOT need to wipe your device. If you are installing from an unofficial build, you MUST wipe data from recovery before installing.","raw":null,"content":null,"categories":[{"name":"phones","slug":"phones","permalink":"http://zehai.info/categories/phones/"}],"tags":[]},{"title":"javaç±»çš„åŠ è½½æœºåˆ¶","slug":"2019-03-02-javaç±»çš„åŠ è½½æœºåˆ¶","date":"2019-03-02T09:41:18.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/02/2019-03-02-javaç±»çš„åŠ è½½æœºåˆ¶/","link":"","permalink":"http://zehai.info/2019/03/02/2019-03-02-java%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/","excerpt":"","text":"å†™åœ¨æœ€å‰é¢ï¼šè¯¥æ–‡ç« ä¸ºç¬”è®°ï¼Œæ¥è‡ªçº¯æ´çš„å¾®ç¬‘ what is the loading of classç±»åŠ è½½å³ï¼š å°†ç¼–è¯‘classæ–‡ä»¶ä¸­çš„äºŒè¿›åˆ¶æ•°æ®è¯»åˆ°å†…å­˜ä¸­æ–¹æ³•åŒºï¼Œç„¶ååœ¨å †åŒºé€šè¿‡java.lang.Classå®ä¾‹åŒ–å¯¹è±¡ï¼Œå¯¹æ–¹æ³•åŒºçš„æ•°æ®è¿›è¡Œæ“ä½œ è¯¥åŠ è½½è¿‡ç¨‹åŒ…å«é¦–æ¬¡ä½¿ç”¨åŠ è½½ï¼Œä»¥åŠé¢„åŠ è½½ åŠ è½½classæ–‡ä»¶çš„æ–¹å¼ æœ¬åœ° ç½‘ç»œ zipï¼Œjaræ–‡ä»¶ä¸­ æ•°æ®åº“ åŠ¨æ€ç¼–è¯‘ ç±»çš„ç”Ÿå‘½å‘¨æœŸ","raw":null,"content":null,"categories":[{"name":"Java","slug":"Java","permalink":"http://zehai.info/categories/Java/"}],"tags":[]},{"title":"ShoppingOffers","slug":"2019-03-02-ShoppingOffers","date":"2019-03-02T03:00:46.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/03/02/2019-03-02-ShoppingOffers/","link":"","permalink":"http://zehai.info/2019/03/02/2019-03-02-ShoppingOffers/","excerpt":"","text":"problem In LeetCode Store, there are some kinds of items to sell. Each item has a price. However, there are some special offers, and a special offer consists of one or more different kinds of items with a sale price. You are given the each itemâ€™s price, a set of special offers, and the number we need to buy for each item. The job is to output the lowest price you have to pay for exactly certain items as given, where you could make optimal use of the special offers. Each special offer is represented in the form of an array, the last number represents the price you need to pay for this special offer, other numbers represents how many specific items you could get if you buy this offer. You could use any of special offers as many times as you want. examples Example 1: 1234567Input: [2,5], [[3,0,5],[1,2,10]], [3,2]Output: 14Explanation: There are two kinds of items, A and B. Their prices are $2 and $5 respectively. In special offer 1, you can pay $5 for 3A and 0BIn special offer 2, you can pay $10 for 1A and 2B. You need to buy 3A and 2B, so you may pay $10 for 1A and 2B (special offer #2), and $4 for 2A. Example 2: 1234567Input: [2,3,4], [[1,1,0,4],[2,2,1,9]], [1,2,1]Output: 11Explanation: The price of A is $2, and $3 for B, $4 for C. You may pay $4 for 1A and 1B, and $9 for 2A ,2B and 1C. You need to buy 1A ,2B and 1C, so you may pay $4 for 1A and 1B (special offer #1), and $3 for 1B, $4 for 1C. You cannot add more items, though only $9 for 2A ,2B and 1C. solution123456789101112131415161718192021222324252627282930313233343536373839404142434445import java.util.ArrayList;import java.util.Arrays;import java.util.List;public class ShoppingOffers &#123; public static void main(String[] args) &#123; /*ä»¥ä¸‹è´´å‡ºæµ‹è¯•æ–¹å¼ï¼Œå› ä¸ºå¯¹ArrayListä¸ç†Ÿæ‚‰ï¼Œå¦‚æœ‰æ›´å¥½çš„æ–¹å¼ï¼Œæ¬¢è¿æŒ‡å‡º*/ List&lt;Integer&gt; price = new ArrayList&lt;Integer&gt;(); List&lt;List&lt;Integer&gt;&gt; special = new ArrayList&lt;List&lt;Integer&gt;&gt;(); List&lt;Integer&gt; needs = new ArrayList&lt;Integer&gt;(); price.add(0, 2);price.add(1, 5); Integer[][] arr = new Integer[][] &#123;&#123;3,0,5&#125;,&#123;1,2,10&#125;&#125;; special.add((List&lt;Integer&gt;)Arrays.asList(arr[0])); special.add((List&lt;Integer&gt;)Arrays.asList(arr[1])); needs.add(0,3);needs.add(1,2); ShoppingOffers so = new ShoppingOffers(); int res = so.shoppingOffers(price, special, needs); System.out.println(res); &#125; public int shoppingOffers(List &lt; Integer &gt; price, List &lt; List &lt; Integer &gt;&gt; special, List &lt; Integer &gt; needs) &#123; return shopping(price, special, needs); &#125; public int shopping(List &lt; Integer &gt; price, List &lt; List &lt; Integer &gt;&gt; special, List &lt; Integer &gt; needs) &#123; int j = 0, res = dot(needs, price); for (List &lt; Integer &gt; s: special) &#123; ArrayList &lt; Integer &gt; clone = new ArrayList &lt; &gt; (needs); for (j = 0; j &lt; needs.size(); j++) &#123; int diff = clone.get(j) - s.get(j); if (diff &lt; 0) break; clone.set(j, diff); &#125; if (j == needs.size()) res = Math.min(res, s.get(j) + shopping(price, special, clone)); &#125; return res; &#125; public int dot(List &lt; Integer &gt; needs, List &lt; Integer &gt; price) &#123; int sum = 0; for (int i = 0; i &lt; needs.size(); i++) &#123; sum += needs.get(i) * price.get(i); &#125; return sum; &#125;&#125; keyæœ¬é¢˜ç›®é‡‡ç”¨åŠ¨æ€è§„åˆ’çš„æ€è·¯ï¼Œæˆ‘ä»¬å¸¦å…¥æµ‹è¯•æ ·ä¾‹1çš„ 1234&gt;Input: [2,5], [[3,0,5],[1,2,10]], [3,2]&gt;å³A&#x3D;$2,B&#x3D;$5&gt;3A&#x3D;5$,1A+2B&#x3D;10$&gt;éœ€è´­ä¹°3A+2B å°è¯• price 1:å•ä¹° 16 2å•ä¹°302å¥—é¤ï¼Œè¿˜å·®2ä¸ªBï¼Œåˆ™å…ˆç®—å‡º2Bçš„resä¸º10ï¼Œå…ˆè¯•305å¥—é¤ï¼ŒAä¹°è¶…äº†ï¼Œåˆ™é€€å‡º305å¥—é¤ï¼Œæ­¤æ—¶è¿˜æœ‰1210å¥—é¤ï¼ŒAä¹°å¤šäº†ï¼Œé€€å‡ºå¥—é¤ï¼Œä¸¤ä¸ªå¥—é¤è¯•å®Œäº†ï¼Œå¾—åˆ°äº†å•ä¹°ä¸¤ä¸ªBï¼Œ$10çš„å¥—é¤ï¼Œæ€»ä»·å°±ä¸º15å…ƒï¼Œ 15ï¼ˆè¦†ç›–16ï¼‰ 3å•ä¹°1210å¥—é¤ï¼Œè¿˜å·®2Aï¼Œ0Bï¼Œè´¹ç”¨ç›®å‰10å…ƒï¼Œå…ˆå•ä¹°2Aï¼Œè´¹ç”¨4å…ƒï¼Œæ€»ä»·14å…ƒï¼Œç„¶åå…ˆå°è¯•305å¥—é¤ï¼Œå‘ç°è¶…ï¼Œç„¶åå†è¯•1210å¥—é¤ï¼Œå‘ç°Bè¶…äº†ï¼Œå¾—åˆ°ç›®å‰æœ€ä½è´¹ç”¨ä¸º14å…ƒ 14ï¼ˆè¦†ç›–15ï¼‰ é—®é¢˜çš„å…³é”®å°±åœ¨äºcloneçš„ç²¾é«“ä¹‹å¤„ï¼Œç”¨æ¥è®°å½•è¿˜éœ€è¦å¤šå°‘é›¶ä»¶çš„ä¸ªæ•°ï¼Œä½¿ç”¨é€’å½’ï¼Œè¿›è¡Œæ“ä½œã€‚å¦‚æœä¸ç¬¦åˆï¼Œï¼ˆå¦‚ä¹°è¶…äº†ï¼‰ç›´æ¥breakåï¼Œé‡æ–°è®¡ç®—cloneï¼Œç›´åˆ°specialæ–¹æ³•éƒ½è¯•å®Œäº†ï¼Œç„¶åæ‰è¿”å›ï¼Œå¦‚æœä¸€ç›´éƒ½æ˜¯breakçš„çŠ¶æ€åˆ™ä¼šè¿”å›å•ä¹°çš„ä»·æ ¼ã€‚ perfect123456789101112131415161718192021222324252627282930313233343536373839404142class Solution &#123; private Integer res; public int shoppingOffers(List&lt;Integer&gt; price, List&lt;List&lt;Integer&gt;&gt; special, List&lt;Integer&gt; needs) &#123; res=Integer.MAX_VALUE; int[] parr=new int[price.size()]; int[] aarr=new int[needs.size()]; for(int i=0;i&lt;parr.length; i++)&#123; parr[i]=price.get(i); aarr[i]=needs.get(i); &#125; findMinimum(special, 0, aarr, parr, 0); return res; &#125; private void findMinimum(List&lt;List&lt;Integer&gt;&gt; special, int curOffer, int[] remain, int[] single, int total)&#123; if(total&gt;=res||curOffer==special.size()) return; int buyNow=buySingle(remain, single, total); if(buyNow&lt;res) res=buyNow; int[] newRemain=remainAfterUse(special.get(curOffer), remain); if(newRemain!=null) findMinimum(special, curOffer, newRemain, single, total+special.get(curOffer).get(remain.length)); findMinimum(special, curOffer+1, remain, single, total); &#125; private int[] remainAfterUse(List&lt;Integer&gt; special, int[] remain)&#123; int[] res=new int[remain.length]; for(int i=0;i&lt;remain.length;i++)&#123; res[i]=remain[i]-special.get(i); if(res[i]&lt;0) return null; &#125; return res; &#125; private int buySingle(int[] remain, int[] single, int total)&#123; for(int i=0; i&lt;remain.length; i++)&#123; total+=remain[i]*single[i]; &#125; return total; &#125; &#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[]},{"title":"Node10å€¼å¾—å…³æ³¨çš„å‡çº§","slug":"2019-02-23-Node10å€¼å¾—å…³æ³¨çš„å‡çº§","date":"2019-02-23T07:12:13.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/02/23/2019-02-23-Node10å€¼å¾—å…³æ³¨çš„å‡çº§/","link":"","permalink":"http://zehai.info/2019/02/23/2019-02-23-Node10%E5%80%BC%E5%BE%97%E5%85%B3%E6%B3%A8%E7%9A%84%E5%8D%87%E7%BA%A7/","excerpt":"","text":"http2ä¼˜åŠ¿ æ›´æœ‰æ•ˆçš„ç½‘ç»œåˆ©ç”¨ç‡ å¼•å…¥ HTTP Header å‹ç¼©å‡å°æŠ¥æ–‡ä½“ç§¯ åœ¨åŒä¸€ä¸ªè¿æ¥ä¸­æ”¯æŒå¤šè·¯å¹¶å‘ æ”¯æŒ Server Push å¤šè·¯å¤ç”¨ï¼ˆMultiplexingï¼‰ç”±äºHTTPè¿æ¥ï¼Œèµ·åˆæœ‰è¦æ±‚é™åˆ¶åŒä¸€åŸŸåä¸‹çš„è¯·æ±‚æœ‰æ•°é‡é™åˆ¶ï¼Œè¶…è¿‡åˆ™è¢«é˜»å¡ï¼Œè€ŒHTTP2å¯ä»¥å‘èµ·å¤šé‡è¯·æ±‚ï¼Œå¦‚åŒæ—¶è¯·æ±‚æ ·å¼æ–‡ä»¶å’Œè„šæœ¬æ–‡ä»¶ äºŒè¿›åˆ¶åˆ†å¸§ HTTP/2 é€šè¿‡è®©æ‰€æœ‰æ•°æ®æµå…±ç”¨åŒä¸€ä¸ªè¿æ¥ï¼Œå¯ä»¥æ›´æœ‰æ•ˆåœ°ä½¿ç”¨ TCP è¿æ¥ï¼Œè®©é«˜å¸¦å®½ä¹Ÿèƒ½çœŸæ­£çš„æœåŠ¡äº HTTP çš„æ€§èƒ½æå‡ã€‚ http2.0çš„æ ¼å¼å®šä¹‰æ›´æ¥è¿‘tcpå±‚çš„æ–¹å¼ï¼Œè¿™å¼ äºŒæœºåˆ¶çš„æ–¹å¼ååˆ†é«˜æ•ˆä¸”ç²¾ç®€ã€‚lengthå®šä¹‰äº†æ•´ä¸ªframeçš„å¼€å§‹åˆ°ç»“æŸï¼Œtypeå®šä¹‰frameçš„ç±»å‹ï¼ˆä¸€å…±10ç§ï¼‰ï¼Œflagsç”¨bitä½å®šä¹‰ä¸€äº›é‡è¦çš„å‚æ•°ï¼Œstream idç”¨ä½œæµæ§åˆ¶ï¼Œå‰©ä¸‹çš„payloadå°±æ˜¯requestçš„æ­£æ–‡äº†ã€‚ server Pushhttp2.0èƒ½é€šè¿‡pushçš„æ–¹å¼å°†å®¢æˆ·ç«¯éœ€è¦çš„å†…å®¹é¢„å…ˆæ¨é€è¿‡å» é¦–éƒ¨å‹ç¼©ï¼ˆHeader Compression) BigInt *fs.mkdir å’Œ fs.mkdirSync æ”¯æŒé€’å½’å‚æ•° CLI Flag è‡ªåŠ¨è¡¥å…¨ Windows å®‰è£…åŒ…ä¼˜åŒ–","raw":null,"content":null,"categories":[],"tags":[]},{"title":"Eggæ”¯æŒJSæ™ºèƒ½æé†’","slug":"2019-02-23-Eggæ”¯æŒJSTSæ™ºèƒ½æé†’","date":"2019-02-23T06:35:30.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/02/23/2019-02-23-Eggæ”¯æŒJSTSæ™ºèƒ½æé†’/","link":"","permalink":"http://zehai.info/2019/02/23/2019-02-23-Egg%E6%94%AF%E6%8C%81JSTS%E6%99%BA%E8%83%BD%E6%8F%90%E9%86%92/","excerpt":"","text":"æœ¬æ–‡ç« æ€è·¯æ¥è‡ªhttps://zhuanlan.zhihu.com/p/56780733 å®šä½å…¶å®ç”±äºEggæœ¬èº«çš„åŠ¨æ€åŠ è½½æœºåˆ¶ï¼Œæ‰€ä»¥JavaScriptå¾ˆéš¾å»åšæ™ºèƒ½æé†’ï¼ˆå¦‚å˜é‡å®šä¹‰æ£€æŸ¥ï¼‰ï¼Œæœ¬æ¬¡å€Ÿé‰´TSçš„åŠ¨æ€ç”Ÿæˆd.tsï¼Œä½¿ç”¨tsçš„Declaration Mergingï¼ˆå£°æ˜åˆå¹¶ï¼‰ç‰¹æ€§ï¼Œè¯»å–JSDocæ³¨é‡Šã€‚ è·å– æ›´æ–°egg-binæ¨¡å— package.json æ·»åŠ  â€œeggâ€: { â€œdeclarationsâ€: true } å®æ“ï¼Œå‡çº§ä¸ªäººGitHubé¡¹ç›®chum,æ‰§è¡Œ npm i egg-bin å°†å…¶ä»4.9.0â€“&gt;4.11.0å¹¶åœ¨package.jsonçš„å°¾éƒ¨åŠ ä¸Šä¸Šè¿°eggçš„kvï¼Œåœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆtpypingæ–‡ä»¶å¤¹ï¼Œå°†appç›®å½•ä¸‹çš„controllerï¼Œmodelï¼Œä»¥åŠæ ¹ç›®å½•ä¸‹çš„indexï¼Œconfigç›®å½•éƒ½è¿›è¡Œäº†tsæ–‡ä»¶ç”Ÿæˆ å…¶å®eggåŸç”Ÿæ”¯æŒJavaScriptï¼Œå¯¹äºTSåªæ˜¯æ”¯æŒä¸æ¨èçš„æ€åº¦ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨TSå»é‡æ„ï¼Œæœ¬æ¬¡æ™ºèƒ½æé†’ï¼Œåº”è¯¥æ˜¯å¯¹JSä¸€ä¸ªåŠ£åŠ¿çš„è¡¥é½ï¼Œè§£å†³æ–¹æ¡ˆä¹Ÿä¼¼ä¹å€Ÿé‰´äº†TSçš„æ–¹å¼ï¼Œä½†åˆä¿ç•™äº†äººä»¬ä¹¦å†™JSçš„ä¹ æƒ¯","raw":null,"content":null,"categories":[{"name":"framework","slug":"framework","permalink":"http://zehai.info/categories/framework/"}],"tags":[{"name":"egg","slug":"egg","permalink":"http://zehai.info/tags/egg/"}]},{"title":"ThreeSum","slug":"2019-02-19-15ThreeSum","date":"2019-02-19T14:34:18.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/02/19/2019-02-19-15ThreeSum/","link":"","permalink":"http://zehai.info/2019/02/19/2019-02-19-15ThreeSum/","excerpt":"","text":"Problem123456789101112131415Given an array nums of n integers, are there elements a, b, c in nums such that a + b + c &#x3D; 0? Find all unique triplets in the array which gives the sum of zero.Note:The solution set must not contain duplicate triplets.Example:Given array nums &#x3D; [-1, 0, 1, 2, -1, -4],A solution set is:[ [-1, 0, 1], [-1, -1, 2]] Solution123456789101112131415161718192021222324252627282930313233343536373839public class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) &#123; Arrays.sort(nums); ArrayList&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;List&lt;Integer&gt;&gt;(); for(int i = 0; i &lt; nums.length - 2; i++)&#123; // è·³è¿‡é‡å¤å…ƒç´  if(i &gt; 0 &amp;&amp; nums[i] == nums[i-1]) continue; // è®¡ç®—2Sum ArrayList&lt;List&lt;Integer&gt;&gt; curr = twoSum(nums, i, 0 - nums[i]); res.addAll(curr); &#125; return res; &#125; private ArrayList&lt;List&lt;Integer&gt;&gt; twoSum(int[] nums, int i, int target)&#123; int left = i + 1, right = nums.length - 1; ArrayList&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;List&lt;Integer&gt;&gt;(); while(left &lt; right)&#123; if(nums[left] + nums[right] == target)&#123; ArrayList&lt;Integer&gt; curr = new ArrayList&lt;Integer&gt;(); curr.add(nums[i]); curr.add(nums[left]); curr.add(nums[right]); res.add(curr); do &#123; left++; &#125;while(left &lt; nums.length &amp;&amp; nums[left] == nums[left-1]); do &#123; right--; &#125; while(right &gt;= 0 &amp;&amp; nums[right] == nums[right+1]); &#125; else if (nums[left] + nums[right] &gt; target)&#123; right--; &#125; else &#123; left++; &#125; &#125; return res; &#125;&#125; Keytipsï¼šå¾ˆä¹…æ²¡æœ‰å†™Javaäº†ï¼ŒèŠ±äº†ç‚¹æ—¶é—´å»æ•´ç†äº†ä¸€äº›çŸ¥è¯†ï¼Œæ‰€ä»¥ä¸Šé¢çš„ç®—æ³•å…¶å®æ˜¯ctrl+vçš„ï¼Œç°åœ¨æ•´ç†ä¸€ä¸‹listç›¸å…³çš„çŸ¥è¯†ï¼š 1.List&lt;List&gt;ä¸ºåµŒå¥—çš„listé›†åˆï¼Œå£°æ˜æ–¹å¼ List&lt;List&gt; list = new Array() or List&lt;List&gt; list = new ArrayList&lt;&gt;();//recomend 2.Listæ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€ŒArrayListæ˜¯Listæ¥å£çš„ä¸€ä¸ªå®ç°ç±» List list = new List();//æ˜¯é”™è¯¯çš„ç”¨æ³• List list = new ArrayList();//listä¼šä¸¢å¤±ArrayListçš„trimToSize()æ–¹æ³• ArrayList list=newArrayList() 3.ç„¶åæ˜å¤©å†å›æ¥é‡æ–°å†™è¿™é“é¢˜","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[]},{"title":"ç¼“å­˜","slug":"2019-02-19-ç¼“å­˜","date":"2019-02-19T12:12:14.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/02/19/2019-02-19-ç¼“å­˜/","link":"","permalink":"http://zehai.info/2019/02/19/2019-02-19-%E7%BC%93%E5%AD%98/","excerpt":"","text":"ç¼“å­˜why é«˜æ€§èƒ½ ä¾‹å¦‚ï¼šæŠŠæŸ¥å®Œçš„å€¼ç¼“å­˜ï¼Œä¸‹æ¬¡ç›´æ¥è®¿é—® é«˜å¹¶å‘ ä¾‹å¦‚ï¼šæŠŠè¯·æ±‚æ’é˜Ÿ differenceï¼ˆvs memcached) ç‰¹å¾ redis memchched æ•°æ®ç»“æ„ æ›´å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œæ›´ä¸°å¯Œçš„æ•°æ®æ“ä½œ é›†ç¾¤ æ”¯æŒ ä¸æ”¯æŒ æ€§èƒ½ å•æ ¸ å¤šæ ¸ redisçº¿ç¨‹æ¨¡å‹redis å†…éƒ¨ä½¿ç”¨æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ file event handlerï¼Œè¿™ä¸ªæ–‡ä»¶äº‹ä»¶å¤„ç†å™¨æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥ redis æ‰å«åšå•çº¿ç¨‹çš„æ¨¡å‹ã€‚å®ƒé‡‡ç”¨ IO å¤šè·¯å¤ç”¨æœºåˆ¶åŒæ—¶ç›‘å¬å¤šä¸ª socketï¼Œæ ¹æ® socket ä¸Šçš„äº‹ä»¶æ¥é€‰æ‹©å¯¹åº”çš„äº‹ä»¶å¤„ç†å™¨è¿›è¡Œå¤„ç†ã€‚ å‡è®¾ä¸€ä¸ª Redis æœåŠ¡å™¨æ­£åœ¨è¿ä½œï¼Œ é‚£ä¹ˆè¿™ä¸ªæœåŠ¡å™¨çš„ç›‘å¬å¥—æ¥å­—çš„ AE_READABLE äº‹ä»¶åº”è¯¥æ­£å¤„äºç›‘å¬çŠ¶æ€ä¹‹ä¸‹ï¼Œ è€Œè¯¥äº‹ä»¶æ‰€å¯¹åº”çš„å¤„ç†å™¨ä¸ºè¿æ¥åº”ç­”å¤„ç†å™¨ã€‚ å¦‚æœè¿™æ—¶æœ‰ä¸€ä¸ª Redis å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·è¿æ¥ï¼Œ é‚£ä¹ˆç›‘å¬å¥—æ¥å­—å°†äº§ç”Ÿ AE_READABLE äº‹ä»¶ï¼Œ è§¦å‘è¿æ¥åº”ç­”å¤„ç†å™¨æ‰§è¡Œï¼š å¤„ç†å™¨ä¼šå¯¹å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚è¿›è¡Œåº”ç­”ï¼Œ ç„¶ååˆ›å»ºå®¢æˆ·ç«¯å¥—æ¥å­—ï¼Œ ä»¥åŠå®¢æˆ·ç«¯çŠ¶æ€ï¼Œ å¹¶å°†å®¢æˆ·ç«¯å¥—æ¥å­—çš„ AE_READABLE äº‹ä»¶ä¸å‘½ä»¤è¯·æ±‚å¤„ç†å™¨è¿›è¡Œå…³è”ï¼Œ ä½¿å¾—å®¢æˆ·ç«¯å¯ä»¥å‘ä¸»æœåŠ¡å™¨å‘é€å‘½ä»¤è¯·æ±‚ã€‚ ä¹‹åï¼Œ å‡è®¾å®¢æˆ·ç«¯å‘ä¸»æœåŠ¡å™¨å‘é€ä¸€ä¸ªå‘½ä»¤è¯·æ±‚ï¼Œ é‚£ä¹ˆå®¢æˆ·ç«¯å¥—æ¥å­—å°†äº§ç”Ÿ AE_READABLE äº‹ä»¶ï¼Œ å¼•å‘å‘½ä»¤è¯·æ±‚å¤„ç†å™¨æ‰§è¡Œï¼Œ å¤„ç†å™¨è¯»å–å®¢æˆ·ç«¯çš„å‘½ä»¤å†…å®¹ï¼Œ ç„¶åä¼ ç»™ç›¸å…³ç¨‹åºå»æ‰§è¡Œã€‚ æ‰§è¡Œå‘½ä»¤å°†äº§ç”Ÿç›¸åº”çš„å‘½ä»¤å›å¤ï¼Œ ä¸ºäº†å°†è¿™äº›å‘½ä»¤å›å¤ä¼ é€å›å®¢æˆ·ç«¯ï¼Œ æœåŠ¡å™¨ä¼šå°†å®¢æˆ·ç«¯å¥—æ¥å­—çš„ AE_WRITABLE äº‹ä»¶ä¸å‘½ä»¤å›å¤å¤„ç†å™¨è¿›è¡Œå…³è”ï¼š å½“å®¢æˆ·ç«¯å°è¯•è¯»å–å‘½ä»¤å›å¤çš„æ—¶å€™ï¼Œ å®¢æˆ·ç«¯å¥—æ¥å­—å°†äº§ç”Ÿ AE_WRITABLE äº‹ä»¶ï¼Œ è§¦å‘å‘½ä»¤å›å¤å¤„ç†å™¨æ‰§è¡Œï¼Œ å½“å‘½ä»¤å›å¤å¤„ç†å™¨å°†å‘½ä»¤å›å¤å…¨éƒ¨å†™å…¥åˆ°å¥—æ¥å­—ä¹‹åï¼Œ æœåŠ¡å™¨å°±ä¼šè§£é™¤å®¢æˆ·ç«¯å¥—æ¥å­—çš„ AE_WRITABLE äº‹ä»¶ä¸å‘½ä»¤å›å¤å¤„ç†å™¨ä¹‹é—´çš„å…³è”ã€‚","raw":null,"content":null,"categories":[{"name":"high_availability","slug":"high-availability","permalink":"http://zehai.info/categories/high-availability/"}],"tags":[]},{"title":"è”åˆç´¢å¼•","slug":"2019-02-19-è”åˆç´¢å¼•","date":"2019-02-19T08:27:23.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/02/19/2019-02-19-è”åˆç´¢å¼•/","link":"","permalink":"http://zehai.info/2019/02/19/2019-02-19-%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95/","excerpt":"","text":"keyå½“å…·å¤‡å¤šä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œå¦‚ï¼šKEY è”åˆç´¢å¼• (a,b,c)ä¸ºç´¢å¼•ï¼Œé™¤(b,c)æ¡ä»¶ç´¢å¼•ä¸ä¼šè§¦å‘è¯¥ç´¢å¼•è¡¨å¤–ï¼Œ(a,b),(a,c),(a,b,c)å‡ä¼šè§¦å‘ä¸Šè¿°è”åˆç´¢å¼•ï¼Œå…·ä½“å¯å‚è§explainçš„keyç±»å‹ï¼Œç†è®ºåº”è¯¥æ˜¾ç¤ºè”ç«‹ç´¢å¼• å¦‚ï¼š EXPLAIN SELECT FROM TABLENAME WHERE a=â€™2222â€™ AND b=â€˜222â€™* å¦‚æœä½ è®¾ç½®å¤šä¸ªå•åˆ—ç´¢å¼•ï¼Œåœ¨explainä¸‹ï¼Œkeyçš„å€¼å°±ä¸ºå…¶å•åˆ—çš„ç´¢å¼•ï¼Œå¦‚ä¸Šè¿°çš„aåˆ—","raw":null,"content":null,"categories":[{"name":"database","slug":"database","permalink":"http://zehai.info/categories/database/"}],"tags":[{"name":"sql","slug":"sql","permalink":"http://zehai.info/tags/sql/"}]},{"title":"æ ‘çš„ååºéå†","slug":"2019-02-19-æ ‘çš„ååºéå†","date":"2019-02-19T07:38:13.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/02/19/2019-02-19-æ ‘çš„ååºéå†/","link":"","permalink":"http://zehai.info/2019/02/19/2019-02-19-%E6%A0%91%E7%9A%84%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86/","excerpt":"","text":"definition1234567891011121314151617181920private static class BinaryNode&lt;AnyType&gt;&#123; BinaryNode(AnyType theElement) &#123; this(theElement, null, null); &#125; BinaryNode(AnyType theElement, BinaryNode&lt;AnyType&gt; lt, BinaryNode&lt;AnyType&gt; rt) &#123; element &#x3D; theElement; left &#x3D; lt; right &#x3D; rt; &#125; AnyType element; BinaryNode&lt;AnyType&gt; left; BinaryNode&lt;AnyType&gt; right;&#125;private BinaryNode&lt;AnyType&gt; root; posOrder123456789public void posOrder(BinaryNode&lt;AnyType&gt; Node) &#123; if (Node != null) &#123; posOrder(Node.left); posOrder(Node.right); System.out.print(Node.element + &quot; &quot;); &#125; &#125; 1234567891011121314151617181920212223242526272829public void posOrder(BinaryNode&lt;AnyType&gt; Node)&#123; Stack&lt;BinaryNode&gt; stack1 &#x3D; new Stack&lt;&gt;(); Stack&lt;Integer&gt; stack2 &#x3D; new Stack&lt;&gt;(); int i &#x3D; 1; while(Node !&#x3D; null || !stack1.empty()) &#123; while (Node !&#x3D; null) &#123; stack1.push(Node); stack2.push(0); Node &#x3D; Node.left; &#125; while(!stack1.empty() &amp;&amp; stack2.peek() &#x3D;&#x3D; i) &#123; stack2.pop(); System.out.print(stack1.pop().element + &quot; &quot;); &#125; if(!stack1.empty()) &#123; stack2.pop(); stack2.push(1); Node &#x3D; stack1.peek(); Node &#x3D; Node.right; &#125; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"algorithm","slug":"algorithm","permalink":"http://zehai.info/categories/algorithm/"}],"tags":[]},{"title":"è¡¨å†…å…³è”","slug":"2019-02-19-è¡¨å†…å…³è”","date":"2019-02-19T07:37:35.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/02/19/2019-02-19-è¡¨å†…å…³è”/","link":"","permalink":"http://zehai.info/2019/02/19/2019-02-19-%E8%A1%A8%E5%86%85%E5%85%B3%E8%81%94/","excerpt":"","text":"Inner Join SELECT column_listFROM t1INNER JOIN t2 ON join_condition1INNER JOIN t3 ON join_condition2â€¦WHERE where_conditions; Example id name parentid 1 åŒ—äº¬å¸‚ 0 2 æµ·æ·€åŒº 1 3 åŒ—äº¬xxå¤§å­¦ 2 select a.name å¸‚,b.name åŒº,c.name åfrom address ajoin address b on b.parentid = a.idjoin address c on c.parentid = b.idjoin address d on d.parentid = c.id","raw":null,"content":null,"categories":[{"name":"database","slug":"database","permalink":"http://zehai.info/categories/database/"}],"tags":[{"name":"sql","slug":"sql","permalink":"http://zehai.info/tags/sql/"}]},{"title":"LongestCommonPrefix","slug":"2019-02-18-LongestCommonPrefix","date":"2019-02-18T14:47:36.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/02/18/2019-02-18-LongestCommonPrefix/","link":"","permalink":"http://zehai.info/2019/02/18/2019-02-18-LongestCommonPrefix/","excerpt":"","text":"Problem Write a function to find the longest common prefix string amongst an array of strings. If there is no common prefix, return an empty string &quot;&quot;. Example 1: 12Input: [&quot;flower&quot;,&quot;flow&quot;,&quot;flight&quot;]Output: &quot;fl&quot; Example 2: 123Input: [&quot;dog&quot;,&quot;racecar&quot;,&quot;car&quot;]Output: &quot;&quot;Explanation: There is no common prefix among the input strings. Note: All given inputs are in lowercase letters a-z. solution12345678910111213141516171819202122232425262728293031323334class Solution &#123; public String longestCommonPrefix(String[] strs) &#123; int minLength = minLength(strs); String same = &quot;&quot;; boolean isSame=false; outer:for(int i=0;i&lt;minLength;i++) &#123; char sameCharacter = strs[0].charAt(i); isSame = false; for(int j=0;j&lt;strs.length;j++) &#123; if(strs[j].charAt(i)==sameCharacter) &#123; isSame = true; &#125;else &#123; isSame = false; break outer; &#125; &#125; if(isSame=true)same+=sameCharacter; &#125; return same; &#125; private int minLength(String[] strs) &#123; // TODO Auto-generated method stub if(strs.length==0) &#123; return 0; &#125; int min = strs[0].length(); for(int i=1;i&lt;strs.length;i++) &#123; if(strs[i].length()&lt;min) &#123; min = strs[i].length(); &#125; &#125; return min; &#125;&#125; keyæ•°å­¦é¢˜ï¼Œæ²¡ä»€ä¹ˆå…³é”®ï¼Œä½†æ˜¯è¿™ä¸ªè§£æ³•ï¼Œè¿˜æ˜¯å­˜åœ¨ä¼˜åŒ–ç©ºé—´ Perfect123456789101112131415161718192021class Solution &#123; public String longestCommonPrefix(String[] strs) &#123; if (strs == null || strs.length == 0) &#123; return &quot;&quot;; &#125; String prefix = strs[0]; for (int i = 1; i &lt; strs.length; ++i) &#123; while (!strs[i].startsWith(prefix)) &#123; prefix = prefix.substring(0, prefix.length() - 1); if (prefix.isEmpty()) &#123; break; &#125; &#125; &#125; return prefix; &#125;&#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[]},{"title":"ReverseInteger","slug":"2019-02-17-ReverseInteger","date":"2019-02-17T04:38:41.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/02/17/2019-02-17-ReverseInteger/","link":"","permalink":"http://zehai.info/2019/02/17/2019-02-17-ReverseInteger/","excerpt":"","text":"ProblemGiven a 32-bit signed integer, reverse digits of an integer. Example 1: Input: 123Output: 321Example 2: Input: -123Output: -321Example 3: Input: 120Output: 21Note:Assume we are dealing with an environment which could only store integers within the 32-bit signed integer range: [âˆ’231, 231 âˆ’ 1]. For the purpose of this problem, assume that your function returns 0 when the reversed integer overflows. Solution1234567891011121314151617181920class Solution &#123; public int reverse(int x) &#123; if (x == 0) &#123; return 0; &#125; int result =0; long result_l = 0; while (x != 0) &#123; result_l = result_l * 10 + x % 10; x = x / 10; &#125; if(result_l &gt;= Integer.MAX_VALUE||result_l &lt;= Integer.MIN_VALUE) &#123; return 0; &#125;else &#123; result = (int) result_l; &#125; return result; &#125;&#125; keys1.å€’åºå¾ˆç®€å•ï¼Œå–ä½™èµ‹ç»™æ–°æ•°å°±å¯ä»¥äº†ï¼Œä¸è¿‡æ³¨æ„JavaScriptæˆ–è€…Pythonçš„intâ€“&gt;floatçš„æƒ…å†µ 2.é¢˜ç›®ä¸‹é¢å…¶å®æç¤ºäº†intçš„èŒƒå›´ï¼Œæ”¹é¢˜ç›®1032ä¸ªæµ‹è¯•æ•°æ®ï¼Œæœ‰å¤§æ¦‚7ä¸ªæ˜¯è¶…èŒƒå›´çš„éªŒè¯æ•°æ®ï¼Œæ‰€ä»¥javaä¸­å¯ä»¥å·§åˆ©ç”¨Integer.MAXæ¥è¿›è¡Œå¤„ç†ã€‚ perfect12345678public int reverse(int x) &#123; long res = 0; while (x != 0) &#123; res = res * 10 + x % 10; x = x / 10; &#125; return (int)res == res ? (int)res : 0; &#125;","raw":null,"content":null,"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://zehai.info/categories/LeetCode/"}],"tags":[{"name":"Easy","slug":"Easy","permalink":"http://zehai.info/tags/Easy/"}]},{"title":"å¦‚ä½•ç”Ÿæˆtagå’Œcategories","slug":"2019-02-17-å¦‚ä½•ç”Ÿæˆtagå’Œcategories","date":"2019-02-17T04:37:23.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/02/17/2019-02-17-å¦‚ä½•ç”Ÿæˆtagå’Œcategories/","link":"","permalink":"http://zehai.info/2019/02/17/2019-02-17-%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90tag%E5%92%8Ccategories/","excerpt":"","text":"12hexo new page tagshexo new page categories","raw":null,"content":null,"categories":[{"name":"others","slug":"others","permalink":"http://zehai.info/categories/others/"}],"tags":[]},{"title":"ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—MQ","slug":"2019-01-24-ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—MQ","date":"2019-01-24T10:24:15.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/01/24/2019-01-24-ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—MQ/","link":"","permalink":"http://zehai.info/2019/01/24/2019-01-24-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97MQ/","excerpt":"","text":"ä»å®ä¹ åˆ°åæ¥çš„ä¸¤ä»½å·¥ä½œä¹Ÿå†™äº†ä¸å°‘çš„é¡¹ç›®ï¼Œåœ¨æœ€è¿‘çš„ä¸€ä»½å·¥ä½œç”¨åˆ°äº†å¤§é‡çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå®¢æœç³»ç»Ÿï¼Œä¼šæœ‰å¤§é‡çš„è®¿å®¢å’¨è¯¢æ¶ˆæ¯ï¼‰ï¼Œè®©æˆ‘é‡æ–°å›é¡¾äº†ä¸€ä¸‹åœ¨å¤§æ•°æ®é¢å‰ï¼Œä¸ºä»€ä¹ˆè¦ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ€ä¹ˆç”¨å¥½æ¶ˆæ¯é˜Ÿåˆ— ç†ç”± è§£è€¦ å¼‚æ­¥ å‰Šå³° è§£è€¦é€šè¿‡ä¸€ä¸ª MQï¼ŒPub/Sub å‘å¸ƒè®¢é˜…æ¶ˆæ¯è¿™ä¹ˆä¸€ä¸ªæ¨¡å‹ï¼Œä¸åŒå¾®æœåŠ¡ä¹‹é—´é€šä¿¡ä¼šæ›´åŠ è§£è€¦ï¼ŒAç»™BCDEFå‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦è€ƒè™‘ä»–ä»¬æ˜¯å¦å®•æœºï¼Œå¦‚ä½•é‡å‘ç­‰ï¼Œåªéœ€è¦å°†ä¿¡æ¯å‘é€åˆ°é˜Ÿåˆ—é‡Œï¼Œè®©ä»–ä»¬è‡ªå·±å»å–å°±å¥½äº† å¼‚æ­¥å‡è®¾ç”¨æˆ·è¯·æ±‚éœ€è¦å†™è¡¨ï¼Œé‚£ä¹ˆå§ä»»åŠ¡æ”¾è¿›é˜Ÿåˆ—é‡Œï¼Œç­‰å¾…å†™å…¥ï¼Œå‰ç«¯å¯ä»¥å…ˆè¿”å›ï¼Œå¯ä»¥å‡å°‘ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ï¼Œæˆ–è€…é‡‡ç”¨å¤šä¸ªæœºå™¨åŒæ—¶å†™æ•°æ®çš„ä¸åŒéƒ¨åˆ†ï¼ŒåŠ å¿«æ•°æ®çš„å¤„ç† å‰Šå³°å°±å’Œå¹³æ—¶ç”¨ç”µä¸€æ ·ï¼Œæ™šä¸Šç”µç½‘çš„å‹åŠ›è‚¯å®šä¼šå¾ˆå¤§ï¼Œå¦‚æœç›´æ¥æŠŠå¤§é‡è¯·æ±‚å‹åˆ°æœåŠ¡å™¨ï¼Œä¼šç›´æ¥å®•æœºï¼Œä½†å¦‚æœæŠŠè¯·æ±‚æ’æˆé˜Ÿåˆ—ï¼Œç„¶åæœåŠ¡å™¨ä»é‡Œé¢é¡ºåºå–ï¼Œè™½ç„¶ä¼šå¢åŠ å»¶è¿Ÿï¼Œä½†æ˜¯ä¸ä¼šå®•æœºï¼Œæ»¡è´Ÿè·è¿ä½œè€Œå·² å®é™…ç”Ÿäº§ç¯å¢ƒå’¨è¯¢ç³»ç»Ÿå¤§è‡´åˆ†ä¸ºï¼šå’¨è¯¢æ ¸å¿ƒï¼Œç«¯æ¨¡å—ï¼Œå¾®ä¿¡æ¨¡å—ï¼Œåˆ†é…æ¨¡å—ç­‰ç­‰ï¼Œè®¿å®¢å‘é€çš„å’¨è¯¢ä¿¡æ¯ï¼ˆwebï¼‰å¯èƒ½å…ˆç»è¿‡ç«¯æ¨¡å—ï¼Œåœ¨å’¨è¯¢æ ¸å¿ƒæ¨¡å—å¤„ç†å‰è¿›å…¥é˜Ÿåˆ—ï¼Œç„¶åï¼Œåˆ†é…æ¨¡å—æ ¹æ®ç”¨æˆ·çš„è®¾ç½®ï¼Œå¦‚æ¥å…¥å®¢æœè¿˜æ˜¯æœºå™¨äººï¼ŒæŒ‰ä»€ä¹ˆæƒé‡è¿›è¡Œåˆ†é…ï¼Œåˆ†é…ç»™å“ªä¸€ä¸ªä¸šåŠ¡ç»„è¿›è¡Œæ“ä½œï¼Œæ¥å‡è½»å’¨è¯¢æ ¸å¿ƒçš„å‹åŠ› ç¼ºç‚¹1.ç³»ç»Ÿå¯ç”¨æ€§é™ä½ï¼ˆMQæŒ‚äº†å’‹æ•´ï¼‰ 2.å¤æ‚åº¦æå‡ï¼ˆæ¶ˆæ¯æ²¡æœ‰é‡å¤æ¶ˆè´¹ï¼Œä¸ä¼šä¸¢å¤±ï¼‰ 3.ä¸€è‡´æ€§é—®é¢˜æœ‰å¾…è§£å†³ ç‰¹æ€§ ActiveMQ RabbitMQ RocketMQ Kafka å•æœºååé‡ ä¸‡çº§ï¼Œæ¯” RocketMQã€Kafka ä½ä¸€ä¸ªæ•°é‡çº§ åŒ ActiveMQ 10 ä¸‡çº§ï¼Œæ”¯æ’‘é«˜åå 10 ä¸‡çº§ï¼Œé«˜ååï¼Œä¸€èˆ¬é…åˆå¤§æ•°æ®ç±»çš„ç³»ç»Ÿæ¥è¿›è¡Œå®æ—¶æ•°æ®è®¡ç®—ã€æ—¥å¿—é‡‡é›†ç­‰åœºæ™¯ topic æ•°é‡å¯¹ååé‡çš„å½±å“ topic å¯ä»¥è¾¾åˆ°å‡ ç™¾/å‡ åƒçš„çº§åˆ«ï¼Œååé‡ä¼šæœ‰è¾ƒå°å¹…åº¦çš„ä¸‹é™ï¼Œè¿™æ˜¯ RocketMQ çš„ä¸€å¤§ä¼˜åŠ¿ï¼Œåœ¨åŒç­‰æœºå™¨ä¸‹ï¼Œå¯ä»¥æ”¯æ’‘å¤§é‡çš„ topic topic ä»å‡ ååˆ°å‡ ç™¾ä¸ªæ—¶å€™ï¼Œååé‡ä¼šå¤§å¹…åº¦ä¸‹é™ï¼Œåœ¨åŒç­‰æœºå™¨ä¸‹ï¼ŒKafka å°½é‡ä¿è¯ topic æ•°é‡ä¸è¦è¿‡å¤šï¼Œå¦‚æœè¦æ”¯æ’‘å¤§è§„æ¨¡çš„ topicï¼Œéœ€è¦å¢åŠ æ›´å¤šçš„æœºå™¨èµ„æº æ—¶æ•ˆæ€§ ms çº§ å¾®ç§’çº§ï¼Œè¿™æ˜¯ RabbitMQ çš„ä¸€å¤§ç‰¹ç‚¹ï¼Œå»¶è¿Ÿæœ€ä½ ms çº§ å»¶è¿Ÿåœ¨ ms çº§ä»¥å†… å¯ç”¨æ€§ é«˜ï¼ŒåŸºäºä¸»ä»æ¶æ„å®ç°é«˜å¯ç”¨ åŒ ActiveMQ éå¸¸é«˜ï¼Œåˆ†å¸ƒå¼æ¶æ„ éå¸¸é«˜ï¼Œåˆ†å¸ƒå¼ï¼Œä¸€ä¸ªæ•°æ®å¤šä¸ªå‰¯æœ¬ï¼Œå°‘æ•°æœºå™¨å®•æœºï¼Œä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œä¸ä¼šå¯¼è‡´ä¸å¯ç”¨ æ¶ˆæ¯å¯é æ€§ æœ‰è¾ƒä½çš„æ¦‚ç‡ä¸¢å¤±æ•°æ® åŸºæœ¬ä¸ä¸¢ ç»è¿‡å‚æ•°ä¼˜åŒ–é…ç½®ï¼Œå¯ä»¥åšåˆ° 0 ä¸¢å¤± åŒ RocketMQ åŠŸèƒ½æ”¯æŒ MQ é¢†åŸŸçš„åŠŸèƒ½æå…¶å®Œå¤‡ åŸºäº erlang å¼€å‘ï¼Œå¹¶å‘èƒ½åŠ›å¾ˆå¼ºï¼Œæ€§èƒ½æå¥½ï¼Œå»¶æ—¶å¾ˆä½ MQ åŠŸèƒ½è¾ƒä¸ºå®Œå–„ï¼Œè¿˜æ˜¯åˆ†å¸ƒå¼çš„ï¼Œæ‰©å±•æ€§å¥½ åŠŸèƒ½è¾ƒä¸ºç®€å•ï¼Œä¸»è¦æ”¯æŒç®€å•çš„ MQ åŠŸèƒ½ï¼Œåœ¨å¤§æ•°æ®é¢†åŸŸçš„å®æ—¶è®¡ç®—ä»¥åŠæ—¥å¿—é‡‡é›†è¢«å¤§è§„æ¨¡ä½¿ç”¨ æ‰€ä»¥ä¸­å°å‹å…¬å¸ï¼Œç”¨ RabbitMQ æ˜¯ä¸é”™çš„é€‰æ‹© å¤§å‹å…¬å¸ï¼ŒåŸºç¡€æ¶æ„ç ”å‘å®åŠ›è¾ƒå¼ºï¼Œç”¨ RocketMQ æ˜¯å¾ˆå¥½çš„é€‰æ‹© å¦‚æœæ˜¯å¤§æ•°æ®é¢†åŸŸçš„å®æ—¶è®¡ç®—ã€æ—¥å¿—é‡‡é›†ç­‰åœºæ™¯ï¼Œç”¨ Kafka æ˜¯ä¸šå†…æ ‡å‡†çš„ï¼Œç»å¯¹æ²¡é—®é¢˜ï¼Œç¤¾åŒºæ´»è·ƒåº¦å¾ˆé«˜ï¼Œç»å¯¹ä¸ä¼šé»„ï¼Œä½•å†µå‡ ä¹æ˜¯å…¨ä¸–ç•Œè¿™ä¸ªé¢†åŸŸçš„äº‹å®æ€§è§„èŒƒã€‚","raw":null,"content":null,"categories":[{"name":"high_availability","slug":"high-availability","permalink":"http://zehai.info/categories/high-availability/"}],"tags":[{"name":"MQ","slug":"MQ","permalink":"http://zehai.info/tags/MQ/"}]},{"title":"é€’å½’ä¼˜åŒ–","slug":"2019-01-23-é€’å½’ä¼˜åŒ–","date":"2019-01-23T03:54:43.000Z","updated":"2021-02-24T13:38:41.000Z","comments":true,"path":"2019/01/23/2019-01-23-é€’å½’ä¼˜åŒ–/","link":"","permalink":"http://zehai.info/2019/01/23/2019-01-23-%E9%80%92%E5%BD%92%E4%BC%98%E5%8C%96/","excerpt":"","text":"é€’å½’ä¼˜åŒ–åŸå› ï¼šåœ¨ Java ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„ Java è™šæ‹Ÿæœºæ ˆã€‚æ ˆå…·æœ‰åå…¥å…ˆå‡ºçš„ç‰¹ç‚¹ï¼Œé€’å½’è°ƒç”¨ä¹Ÿæ˜¯éœ€è¦åè°ƒç”¨çš„æ–¹æ³•å…ˆè¿”å›ï¼Œå› æ­¤ä½¿ç”¨æ ˆæ¥å­˜å‚¨é€’å½’è°ƒç”¨çš„ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯å­˜å‚¨åœ¨æ ˆå¸§ä¸­ï¼Œæ¯ä¸ª Java æ–¹æ³•åœ¨æ‰§è¡Œæ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œç”¨æ¥å­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€å¸¸é‡æ± å¼•ç”¨ç­‰ä¿¡æ¯ã€‚åœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§å…¥æ ˆï¼Œè€Œæ–¹æ³•è¿”å›æ—¶ï¼Œå¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§å‡ºæ ˆã€‚ éšç€æ ˆå¸§frameçš„å¢å¤šï¼Œå°†ä¼šå¯¼è‡´Stack Overflowçš„æŠ¥é”™ï¼Œä¾‹å¦‚ 1234567int f(int i)&#123; if(i == 1 || i == 2) return 1; else return (f(i - 1) + f(i - 2));&#125; è§£å†³æ–¹æ³•1ï¼šé€’å½’â€“&gt;éé€’å½’å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œæ¥ä¿å­˜ä¸­é—´çš„å€¼ï¼Œè€Œä¸æ˜¯å‹å…¥å †æ ˆä¸­ï¼Œ 1234567891011//è´¹æ³¢çº³åˆ—æ•°åˆ—ï¼Œå‰ä¸¤ä½æ˜¯1ï¼Œä¹‹åæ²¡ä½æ•°æ˜¯å‰ä¸¤ä½æ•°çš„å’Œprivate static void fibonacci(int n) &#123; int temp1=1,temp2=1,temp; for (int i = 1; i &lt;=n ; i++) &#123; temp=temp1+temp2; temp1=temp2; temp2=temp; &#125; System.out.println();&#125;//ç²˜è´´äºç½‘ä¸Š è§£å†³åŠæ³•2ï¼šé€’å½’â€“&gt;å°¾é€’å½’å°¾é€’å½’å°±æ˜¯å½“å‡½æ•°åœ¨æœ€åä¸€æ­¥ï¼ˆå°¾éƒ¨ï¼‰è°ƒç”¨è‡ªèº«ï¼Œå¦‚ï¼š 123function f(x)&#123; return g(x);&#125; ä»¥ä¸‹ç®—æ³•æ¥è‡ªé˜®ä¸€å³°æ•™ç¨‹ï¼š 123456function factorial(n) &#123; if (n === 1) return 1; return n * factorial(n - 1);&#125;factorial(5) // 120 è¯¥ç®—æ³•å¹¶éæ˜¯å°¾é€’å½’ï¼Œå› ä¸ºå…¶åœ¨è¿”å›å€¼çš„æ—¶å€™è¿›è¡Œäº†ä¸€ä¸ªä¹˜æ³•æ“ä½œï¼Œæ‰€ä»¥è¿˜æ˜¯æ™®é€šçš„é€’å½’ï¼Œå¤æ‚åº¦ä¸ºO(n)ï¼Œè€Œå¦‚æœæ”¹æˆå°¾é€’å½’ï¼Œåˆ™ï¼š 123456function factorial(n, total) &#123; if (n === 1) return total; return factorial(n - 1, n * total);&#125;factorial(5, 1) // 120 è¯¥ç®—æ³•åªéœ€è¦è®¡ç®— factorial(5,1) factorial(4,5) factorial(3,20) factorial(2,60) factorial(1,120) åœ¨è¿›å…¥æ–°çš„é€’å½’å‡½æ•°æ—¶ï¼Œå°¾é€’å½’ä¸å†éœ€è¦ä½¿ç”¨æ ˆå¸§ä¿å­˜æ•°æ®ï¼Œå…è®¸æŠ›å¼ƒæ—§çš„æ ˆå¸§ï¼Œé‚£ä¹ˆåªéœ€è¦ä¿å­˜ä¸€ä¸ªæ ˆå¸§å³å¯ å‚è€ƒèµ„æ–™ï¼š [é˜®ä¸€å³°å°¾é€’å½’]ï¼ˆhttp://www.ruanyifeng.com/blog/2015/04/tail-call.htmlï¼‰","raw":null,"content":null,"categories":[{"name":"algorithm","slug":"algorithm","permalink":"http://zehai.info/categories/algorithm/"}],"tags":[{"name":"regreesion","slug":"regreesion","permalink":"http://zehai.info/tags/regreesion/"}]}]}