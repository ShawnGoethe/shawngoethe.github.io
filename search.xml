<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[prototype]]></title>
    <url>%2F2021%2F03%2F07%2F2021-03-07-prototype%2F</url>
    <content type="text"><![CDATA[Prototypeå«ä¹‰ï¼šprotoï¼ˆ/ËˆproÊŠtÉ™/ï¼‰åŽŸå§‹, åŽŸåž‹, åŽŸå§‹çš„ ç›®çš„ï¼šè¡¥å……JavaScriptå¯¹äºŽå¯¹è±¡çš„æ”¯æŒï¼Œé€šè¿‡protypeæ¥å®žçŽ°classä¸­çš„method è¿‡ç¨‹ï¼šç†Ÿæ‚‰å®žä¾‹å¯¹è±¡æž„é€ å‡½æ•°åŽŸåž‹ ä¸‰è€…ä¹‹é—´çš„å…³ç³» 1234567//æž„é€ å‡½æ•° åˆ›å»ºå¯¹è±¡function Dog() &#123;&#125;var dog = new Dog();//Person ä¸ºæž„é€ å‡½æ•°,personä¸ºå®žä¾‹å¯¹è±¡dog.name = &#x27;æŸ¯åŸº&#x27;;console.log(dog.name) // æŸ¯åŸº æž„é€ å‡½æ•°é€šè¿‡prototypeè®¿é—®åŽŸåž‹ï¼ˆä¸€ä¸ªç±»çš„å±žæ€§ï¼Œå¯¹è±¡éƒ½å¯ä»¥è®¿é—®ï¼‰ å®žä¾‹å¯¹è±¡é€šè¿‡ _proto_ è®¿é—®åŽŸåž‹ === æž„é€ å‡½æ•°é€šè¿‡prototypeè®¿é—®åŽŸåž‹ï¼ˆåŽŸåž‹ä¹Ÿæœ‰_proto_ï¼‰ å®žä¾‹åŽŸåž‹é€šè¿‡constructorè®¿é—®æž„é€ å‡½æ•°(Dog=== Dog.prototype.constructor) åŽŸåž‹éµå¾ªå‘ä¸ŠåŽŸåˆ™ï¼Œå³æ‰¾ä¸åˆ°å°±ä¸æ–­å‘ä¸Šï¼ˆprototypeï¼‰æŸ¥è¯¢ åŽŸåž‹å› ä¸ºä¸åœå»¶é•¿å½¢æˆé“¾ï¼Œç§°ä½œåŽŸåž‹é“¾ï¼Œä½†æ˜¯ Object.prototype.__proto__ çš„å€¼ä¸º null è·Ÿ Object.prototype æ²¡æœ‰åŽŸåž‹ åŽŸåž‹é“¾å¤§æ¦‚å®žçŽ°äº†ç±»ï¼ˆClassï¼‰ä»¥åŠç»§æ‰¿ï¼ˆExtendï¼‰çš„é—®é¢˜ï¼Œä½†å®ƒå¹¶ä¸æ˜¯å¤åˆ¶ï¼Œæ˜¯å»ºç«‹ä¸€ç§å…³è”ï¼Œé€šè¿‡prototype/_proto_ æ¥è®¿é—®å…¶ä»–å¯¹è±¡çš„å±žæ€§å’Œæ–¹æ³•ï¼Œå±žäºŽå§”æ‰˜/å€Ÿç”¨ Extendä¸€å…±åˆ†ä¸º6ç§ åŽŸåž‹é“¾ç»§æ‰¿ å€Ÿç”¨æž„é€ å‡½æ•°ï¼ˆç»å…¸ç»§æ‰¿ï¼‰ ç»„åˆç»§æ‰¿ åŽŸåž‹å¼ç»§æ‰¿ å¯„ç”Ÿå¼ç»§æ‰¿ å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ åŽŸåž‹é“¾ç»§æ‰¿123456789101112131415function Parent () &#123; this.names = [&#x27;kevin&#x27;, &#x27;daisy&#x27;];&#125;function Child () &#123;&#125;Child.prototype = new Parent();var child1 = new Child();child1.names.push(&#x27;yayu&#x27;);console.log(child1.names); // [&quot;kevin&quot;, &quot;daisy&quot;, &quot;yayu&quot;]var child2 = new Child();console.log(child2.names); // [&quot;kevin&quot;, &quot;daisy&quot;, &quot;yayu&quot;] é—®é¢˜ï¼š å±žæ€§è¢«æ‰€æœ‰childå…±äº« åˆ›å»ºchildå®žä¾‹æ—¶ï¼Œä¸èƒ½å‘parentä¼ å‚ å€Ÿç”¨æž„é€ å‡½æ•°123456789101112131415function Parent (name) &#123; this.name = name;&#125;function Child (name) &#123; Parent.call(this, name);&#125;var child1 = new Child(&#x27;kevin&#x27;);console.log(child1.name); // kevinvar child2 = new Child(&#x27;daisy&#x27;);console.log(child2.name); // daisy æœ‰ç‚¹ï¼š é¿å…å¼•ç”¨ç±»åž‹çš„å±žæ€§è¢«æ‰€æœ‰å®žä¾‹å…±äº« å¯ä»¥åœ¨Childä¸­é—´parentä¼ å‚ ç¼ºç‚¹ï¼š æ–¹æ³•åœ¨æž„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºåŠ¿åŠ›éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³• ç»„åˆç»§æ‰¿ä»¥ä¸Šä¸¤ç§æ–¹æ³•çš„ç»„åˆ,ä¸ºæœ€å¸¸ç”¨çš„ç»§æ‰¿æ–¹å¼ 1234567891011121314151617181920212223242526272829function Parent (name) &#123; this.name = name; this.colors = [&#x27;red&#x27;, &#x27;blue&#x27;, &#x27;green&#x27;];&#125;Parent.prototype.getName = function () &#123; console.log(this.name)&#125;function Child (name, age) &#123; Parent.call(this, name); this.age = age;&#125;Child.prototype = new Parent();Child.prototype.constructor = Child;var child1 = new Child(&#x27;kevin&#x27;, &#x27;18&#x27;);child1.colors.push(&#x27;black&#x27;);console.log(child1.name); // kevinconsole.log(child1.age); // 18console.log(child1.colors); // [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;black&quot;]var child2 = new Child(&#x27;daisy&#x27;, &#x27;20&#x27;);console.log(child2.name); // daisyconsole.log(child2.age); // 20console.log(child2.colors); // [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;]]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>prototype</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dockerMysql]]></title>
    <url>%2F2021%2F02%2F10%2F2021-02-10-dockerMysql%2F</url>
    <content type="text"><![CDATA[link:mysql-docker æ”¯æŒæ ‡ç­¾ 8.0.23, 8.0, 8, latest 5.7.33, 5.7, 5 5.6.51, 5.6 å¿«é€Ÿæ‰‹å†Œ issues: https://github.com/docker-library/mysql/issues æ”¯æŒå¹³å°: (more info) amd64 å‘å¸ƒimage è¯¦æƒ…: repo-info repoâ€™s repos/mysql/ directory (history) (image metadata, transfer size, etc) Image æ›´æ–°: official-images repoâ€™s library/mysql labelofficial-images repoâ€™s library/mysql file (history) æè¿°æ¥æº: docs repoâ€™s mysql/ directory (history) ä»€ä¹ˆæ˜¯ MySQL?MySQL æ˜¯æœ€å—æ¬¢è¿Žçš„ï¼Œå¼€æºçš„æ•°æ®åº“. å‡­å€Ÿè¢«éªŒè¯è¿‡çš„æ€§èƒ½è¡¨çŽ°ï¼Œå¯é æ€§ï¼Œæ˜“ç”¨æ€§, MySQLå·²ç»æˆä¸ºåŸºäºŽwebçš„åº”ç”¨ç¨‹åºçš„ ä¸»è¦é€‰æ‹©,åŒ…æ‹¬å®Œæ•´å¾—ä¸ªäººé¡¹ç›®å’Œç½‘ç«™é¡¹ç›®ï¼ˆç”µå­ä¸Šåˆï¼Œä¿¡æ¯æœåŠ¡ï¼‰,ä¹ŸåŒ…æ‹¬ä¼˜ç§€çš„Facebook Facebook, Twitter, YouTube, Yahoo! å¦‚ä½•ä½¿ç”¨mysql imageåˆ›å»º mysql æœåŠ¡å®žä¾‹å¯åŠ¨ MySQL æ¯”è¾ƒç®€å•: 1$ docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag some-mysql å®¹å™¨åç§° my-secret-pw æ˜¯rootè´¦æˆ·çš„å¯†ç  tag æ˜¯mysqlçš„ç‰ˆæœ¬ é€šè¿‡mysqlå‘½ä»¤è¡Œè¿žæŽ¥mysqlä»¥ä¸‹å‘½ä»¤å¯ä»¥å¯åŠ¨mysqlå®¹å™¨å¹¶è¿è¡Œç»ˆç«¯ï¼Œæ‰§è¡ŒSQLè¯­å¥ 1$ docker run -it --network some-network --rm mysql mysql -hsome-mysql -uexample-user -p some-mysql å®¹å™¨åç§° some-network è¿žæŽ¥ç½‘ç»œï¼ˆæ–¹ä¾¿å®¹å™¨é—´è®¿é—®ï¼‰ ä¹Ÿå¯ä»¥ç›´æŽ¥è¿è¡Œå®¢æˆ·ç«¯ï¼Œè®¿é—®è¿œç¨‹æ•°æ®åº“ 1$ docker run -it --rm mysql mysql -hsome.mysql.host -usome-mysql-user -p æ›´å¤šå‘½ä»¤è¯·è®¿é—® MySQL documentation ä½¿ç”¨docker stack æˆ–docker-composeéƒ¨ç½²ç¤ºä¾‹stack.yml 12345678910111213141516# Use root/example as user/password credentialsversion: &#x27;3.1&#x27;services: db: image: mysql command: --default-authentication-plugin=mysql_native_password restart: always environment: MYSQL_ROOT_PASSWORD: example adminer: image: adminer restart: always ports: - 8080:8080 docker stack deploy -c stack.yml mysql docker-compose -f stack.yml up å¯åŠ¨åŽ, è®¿é—® http://swarm-ip:8080, http://localhost:8080, or http://host-ip:8080 shellè®¿é—®æŸ¥çœ‹ MySQL æ—¥å¿—ä½¿ç”¨ docker exec å¯ä»¥è®©ä½ åœ¨å®¹å™¨å†…æ‰§è¡Œå‘½ä»¤ï¼Œå‘½ä»¤å¦‚ä¸‹ 1$ docker exec -it some-mysql bash å®¹å™¨æ—¥å¿—: 1$ docker logs some-mysql è‡ªå®šä¹‰ MySQL é…ç½®æ–‡ä»¶mysqlé»˜è®¤é…ç½®æ–‡ä»¶åœ¨ /etc/mysql/my.cnf, ä¹Ÿå¯èƒ½æŒ‡å®šäº†é¢å¤–æ–‡ä»¶å¦‚ï¼š /etc/mysql/conf.d or /etc/mysql/mysql.conf.d. è¯·æ£€æŸ¥mysqlimageæœ¬èº«çš„ç›¸å…³æ–‡ä»¶å’Œç›®å½•ä»¥äº†è§£æ›´å¤šä¿¡æ¯ å¦‚æžœ /my/custom/config-file.cnf æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ä»¶æœªçŸ¥å’Œåå­—, ä½ å¯ä»¥è¿™æ ·å¯åŠ¨ä½ çš„mysql å®¹å™¨ 1$ docker run --name some-mysql -v /my/custom:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag ä½ ä¼šå¯åŠ¨ä¸€ä¸ªç”¨ä½ è‡ªå®šä¹‰é…ç½® /etc/mysql/my.cnf and /etc/mysql/conf.d/config-file.cnf, çš„mysqlå®¹å™¨ ä¸ä½¿ç”¨cnf æ–‡ä»¶é…ç½®å¾ˆå¤šé…ç½®éƒ½å¯ä»¥ä¼ ç»™ mysqld. ä½¿ä½ è‡ªå®šä¹‰å®¹å™¨è€Œä¸éœ€è¦ cnf æ–‡ä»¶. å¦‚å½“ä½ æƒ³æ”¹å˜é»˜è®¤ç¼–ç å’ŒæŽ’åºè§„åˆ™ï¼Œä½¿ç”¨ UTF-8 (utf8mb4) åªéœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤: 1$ docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci å¦‚æžœä½ æƒ³çœ‹åˆ°æ‰€æœ‰çš„é…ç½®é¡¹ï¼Œåªéœ€è¦æ‰§è¡Œ: 1$ docker run -it --rm mysql:tag --verbose --help çŽ¯å¢ƒå˜é‡docker run æ—¶ï¼Œå¯ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°è¿›è¡Œé…ç½®. ä¸è¿‡éœ€è¦æ³¨æ„ï¼Œå¦‚æžœä½¿ç”¨å·²ç»åŒ…å«æ•°æ®åº“çš„æ•°æ®ç›®å½•å¯åŠ¨å®¹å™¨ï¼Œä»¥ä¸‹å˜é‡ä¸ä¼šäº§ç”Ÿå½±å“ï¼Œåœ¨å¯åŠ¨æ—¶ï¼Œä»»ä½•é¢„å…ˆå­˜åœ¨çš„æ•°æ®åº“éƒ½ä¿æŒä¸å˜ï¼Œä»»ä½•ä¹‹å‰å­˜åœ¨çš„æ•°æ®åº“åœ¨å®¹å™¨å¯åŠ¨æ—¶å°†ä¿æŒä¸å˜. MYSQL_ROOT_PASSWORDè¯¥å˜é‡æ˜¯å¿…é¡»çš„ï¼Œæ˜¯rootè´¦æˆ·çš„å¯†ç . MYSQL_DATABASEè¯¥å˜é‡å¯é€‰ï¼Œå…è®¸åœ¨å¯åŠ¨æ—¶ï¼ŒæŒ‡å®šæ•°æ®åº“çš„åç§°. å¦‚æžœæä¾›äº†ç”¨æˆ·å/å¯†ç ï¼Œç”¨æˆ·ä¼šè¢«èµ‹äºˆè¶…çº§æƒé™. MYSQL_USER, MYSQL_PASSWORDå¯é€‰å˜é‡ï¼Œç”¨äºŽåˆ›å»ºæ–°ç”¨æˆ·å’Œå¯†ç ï¼Œç”¨æˆ·å°†èŽ·å¾—è¶…çº§ç®¡ç†å‘˜æƒé™ï¼Œä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å¿…é¡»çš„. æ³¨æ„ï¼šä¸éœ€è¦ä½¿ç”¨è¯¥æœºåˆ¶æ¥åˆ›å»ºrootè¶…çº§ç”¨æˆ·ï¼Œé»˜è®¤ä½¿ç”¨ MYSQL_ROOT_PASSWORD æ¥åˆ›å»ºå¯†ç  MYSQL_ALLOW_EMPTY_PASSWORDå¯é€‰å˜é‡ï¼Œè®¾ç½®éžç©ºå€¼ï¼ˆå¦‚yesï¼‰ï¼Œå…è®¸rootç”¨æˆ·æ— å¯†ç å¯åŠ¨å®¹å™¨. æ³¨æ„: é™¤éžä½ çŸ¥é“ä½ åœ¨åšä»€ä¹ˆï¼Œå¦åˆ™ä¸å»ºè®®è®¾ç½®ä¸º yes ,å› ä¸ºè¿™å°†ä½¿mysqlå®žä¾‹å®Œå…¨ä¸å—ä¿æŠ¤,å…è®¸æ‰€æœ‰äººèŽ·å¾—å®Œå…¨çš„è¶…çº§ç”¨æˆ·æƒé™. MYSQL_RANDOM_ROOT_PASSWORDå¯é€‰å˜é‡ï¼Œè®¾ç½®éžç©ºå€¼ï¼ˆå¦‚yesï¼‰,ä½¿ç”¨pwgen , ä¸ºrootç”¨æˆ·éšæœºç”Ÿæˆå¯†ç  .å¯†ç å°†è¢«æ‰“å°. MYSQL_ONETIME_PASSWORDè®¾ç½®ç”¨æˆ· åˆå§‹åŒ–å®ŒæˆåŽè¿‡æœŸï¼Œåœ¨é¦–æ¬¡ç™»å½•æ—¶å€™å¼ºåˆ¶ä¿®æ”¹å¯†ç . ä»»ä½•éžç©ºå€¼å°†æ¿€æ´»è¿™ä¸ªé…ç½®ï¼Œæ³¨æ„ï¼šä»…æ”¯æŒ5.6+ç‰ˆæœ¬ï¼Œä»¥ä¸‹ç‰ˆæœ¬ä¼šæŠ¥é”™ MYSQL_INITDB_SKIP_TZINFOé»˜è®¤ï¼Œentrypointè„šæœ¬è‡ªåŠ¨åŠ è½½CONVERT_TZ()å‡½æ•°éœ€è¦çš„æ—¶åŒºæ•°æ®ï¼Œå¦‚æžœä¸éœ€è¦ï¼Œä»»ä½•éžç©ºå€¼éƒ½å°†ç¦ç”¨æ—¶åŒºåŠ è½½ Docker Secretsé€šè¿‡çŽ¯å¢ƒå˜é‡ä¼ é€’æ•æ„Ÿä¿¡æ¯ï¼Œè¿˜æœ‰å¦ä¸€ç§æ–¹æ³•, _FILE å¯ä»¥é™„åŠ åˆ°å‰é¢åˆ—çš„çŽ¯å¢ƒå˜é‡ï¼Œä½¿å¾—å¯ä»¥ä»Žæ–‡ä»¶ä¸­çš„å˜é‡åˆå§‹åŒ–è„šæœ¬ï¼Œç‰¹åˆ«æ˜¯ï¼Œè¿™å¯ä»¥ç”¨äºŽå­˜åœ¨/run/secrets/&lt;secret_name&gt;ä¸­çš„docker scretsä»ŽåŠ è½½å¯†ç , å¦‚ ï¼š 1$ docker run --name some-mysql -e MYSQL_ROOT_PASSWORD_FILE=/run/secrets/mysql-root -d mysql:tag ç›®å‰ä»…æ”¯æŒï¼š MYSQL_ROOT_PASSWORD, MYSQL_ROOT_HOST, MYSQL_DATABASE, MYSQL_USER, å’ŒMYSQL_PASSWORD. åˆå§‹åŒ–æ–°å®žä¾‹åˆšå¯åŠ¨å®¹å™¨,æŒ‡å®šåå­—çš„æ–°æ•°æ®åº“ä¼šè¢«åˆ›å»ºï¼Œå¹¶ä¸”æ ¹æ®æä¾›çš„å˜é‡åˆå§‹åŒ–. æ­¤å¤–,å®ƒå°†æ‰§è¡Œæ‰©å±•åä¸º.sh, .sql å’Œ .sql.gz ï¼ˆ /docker-entrypoint-initdb.dæ–‡ä»¶å¤¹ä¸­ï¼‰.æ–‡ä»¶å°†æŒ‰ç…§å­—å¹•é¡ºåºæ‰§è¡Œ. ä½ å¯ä»¥è½»æ¾ä½¿ç”¨dumpå¤‡ä»½å¡«å……ï¼Œ. é»˜è®¤æƒ…å†µä¸‹ï¼Œsqlæ–‡ä»¶å°†è¢«ä¿å­˜åœ¨ MYSQL_DATABASE æŒ‡å®šçš„æ•°æ®åº“ä¸­. Caveats//å‘Šè¯«æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œé‡è¦å†…å®¹ï¼šæœ‰å‡ ç§æ–¹å¼åœ¨å®¹å™¨è¿è¡Œæ—¶å­˜å‚¨æ•°æ®. æˆ‘ä»¬æŽ¨è mysql ç”¨æˆ·ç†Ÿæ‚‰å¯ç”¨çš„é€‰é¡¹,åŒ…æ‹¬: è®©dockerä½¿ç”¨è‡ªå·±çš„å†…éƒ¨volume å°†æ•°æ®åº“æ–‡ä»¶å†™å…¥ä¸»æœºç³»ç»Ÿä¸Šçš„ç£ç›˜ï¼ˆè€Œä¸åœ¨å®¹å™¨å†…ï¼‰ä»Žè€Œç®¡ç†æ•°æ®åº“æ•°æ®çš„å­˜å‚¨ã€‚è¿™ä¹Ÿæ˜¯é»˜è®¤çš„é…ç½®ï¼Œä¹Ÿéžå¸¸ç®€å•é€æ˜Žã€‚ç¼ºç‚¹æ˜¯ç›¸æ¯”ç›´æŽ¥éƒ¨ç½²æ‰¾æ–‡ä»¶å›°éš¾. åœ¨ä¸»æœºä¸Šåˆ›å»ºä¸€ä¸ªæ•°æ®ç›®å½•ï¼Œå¹¶å°†å…¶è£…è½½åˆ°å®¹å™¨å†…éƒ¨çš„ä¸€ä¸ªç›®å½•ä¸­ï¼Œä½¿å¾—æ•°æ®åº“æ–‡ä»¶æ”¾ç½®åœ¨ä¸»æœºå·²çŸ¥çš„ä½ç½®ä¸Šï¼Œæ›´è½»æ¾è®¿é—®æ–‡ä»¶ï¼Œç¼ºç‚¹æ˜¯éœ€è¦ç¡®ä¿ç›®å½•å­˜åœ¨ï¼Œä¸”æœ‰æƒé™å’Œå®‰å…¨æœºåˆ¶ Docker æ–‡æ¡£æ˜¯ç†è§£ä¸åŒå­˜å‚¨é€‰é¡¹å’Œå˜é‡çš„æœ€å¥½èµ·æ­¥ï¼Œå¹¶ä¸”æœ‰å¾ˆå¤šåšå®¢è®ºå›è®¨è®ºå¹¶æä¾›å»ºè®®ï¼Œæˆ‘ä»¬å°†ç®€å•å±•ç¤ºåŸºæœ¬è¿‡ç¨‹: åˆ›å»ºæ–‡ä»¶å¤¹åœ¨ä¸»æœºå¦‚ /my/own/datadir. å¯åŠ¨ mysql å®¹å™¨ 1$ docker run --name some-mysql -v /my/own/datadir:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag -v /my/own/datadir:/var/lib/mysql å°† /my/own/datadir ç›®å½•ä»Žä¸»æœºè£…å…¥å®¹å™¨ä¸­ä½œä¸º /var/lib/mysql é»˜è®¤ä¸ä¼ -væƒ…å†µä¸‹ï¼Œmysqlå°†å†™å…¥å…¶ä»–æ•°æ®æ–‡ä»¶. ç›´åˆ°åˆå§‹åŒ–å®Œæˆæ‰æœ‰è¿žæŽ¥å¦‚æžœå®¹å™¨å¯åŠ¨æ²¡æœ‰åˆå§‹åŒ–æ•°æ®åº“ï¼Œåˆ™åˆ›å»ºé»˜è®¤æ•°æ®åº“. åˆå§‹åŒ–å®Œæˆä¹‹å‰ä¸ä¼šæŽ¥å—ä¼ å…¥è¿žæŽ¥. åœ¨ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·å¦‚ docker-composeåŒæ—¶å¯åŠ¨å¤šä¸ªå®¹å™¨æ—¶,è¿™å¯èƒ½ä¼šå¯¼è‡´é—®é¢˜. å¦‚æžœåº”ç”¨å°è¯•è¿žæŽ¥ä¸æä¾›æœåŠ¡çš„mysqlï¼Œéœ€è¦ç»§ç»­é‡è¯•ç­‰å¾…è¿žæŽ¥æˆåŠŸ. å®˜æ–¹ç¤ºä¾‹, è¯¦è§ WordPress or Bonita. çŽ°ç”¨æ•°æ®åº“ä½¿ç”¨å¦‚æžœåœ¨ä¸€ä¸ªæœ‰mysqlæ•°æ®ç›®å½•çš„volumeå¯åŠ¨mqsqlï¼Œåº”çœç•¥ $MYSQL_ROOT_PASSWORDå‘½ä»¤; åŠæ—¶å¡«å†™ä¹Ÿä¸ä¼šç”Ÿæ•ˆ, ä¸”ä¸ä¼šæ›´æ”¹é¢„å…ˆå­˜åœ¨çš„æ•°æ®åº“. ä»¥ä»»æ„ç”¨æˆ·èº«ä»½è¿è¡Œå¦‚æžœä½ æ­£ç¡®è®¾ç½®äº†ç›®å½•æƒé™ï¼Œæˆ–è€…ä½ éœ€è¦ä½¿ç”¨ç‰¹å®šçš„uid/gidè¿è¡Œmysqldï¼Œåˆ™å¯ä»¥é€šè¿‡ --user è®¾ä¸ºä»»æ„å€¼ï¼ˆroot/0å¤–ï¼‰æ¥å®žçŽ°æ‰€éœ€çš„æƒé™/é…ç½®: 1234$ mkdir data$ ls -lnd datadrwxr-xr-x 2 1000 1000 4096 Aug 27 15:54 data$ docker run -v &quot;$PWD/data&quot;:/var/lib/mysql --user 1000:1000 --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag åˆ›å»ºå¤‡ä»½å¤§å¤šæ•°å·¥å…·éƒ½ä¼šæ­£å¸¸å·¥ä½œ,å°½ç®¡ä»–ä»¬çš„ä½¿ç”¨åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½æœ‰ç‚¹å¤æ‚ï¼Œ ä»¥ç¡®ä¿å¯ä»¥è®¿é—®mysqldæœåŠ¡å™¨ï¼Œç¡®ä¿è¿™ä¸€ç‚¹çš„ä¸€ä¸ªç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ docker exec å¹¶ä»ŽåŒä¸€å®¹å™¨è¿è¡Œå·¥å…·ï¼Œå¦‚: 1$ docker exec some-mysql sh -c &#x27;exec mysqldump --all-databases -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#x27; &gt; /some/path/on/your/host/all-databases.sql ä»Žå¤‡ä»½è¿˜åŽŸæ•°æ®1$ docker exec -i some-mysql sh -c &#x27;exec mysql -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#x27; &lt; /some/path/on/your/host/all-databases.sqlwith any relevant licenses for all software contained within.1]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[currying]]></title>
    <url>%2F2021%2F01%2F15%2F2021-01-15-currying%2F</url>
    <content type="text"><![CDATA[æŸ¯é‡ŒåŒ–æ˜¯ä¸€ç§å°†ä½¿ç”¨å¤šä¸ªå‚æ•°çš„ä¸€ä¸ªå‡½æ•°è½¬æ¢æˆä¸€ç³»åˆ—ä½¿ç”¨ä¸€ä¸ªå‚æ•°çš„å‡½æ•°çš„æŠ€æœ¯ 12345678910function add(a, b) &#123; return a + b;&#125;// æ‰§è¡Œ add å‡½æ•°ï¼Œä¸€æ¬¡ä¼ å…¥ä¸¤ä¸ªå‚æ•°å³å¯add(1, 2) // 3// å‡è®¾æœ‰ä¸€ä¸ª curry å‡½æ•°å¯ä»¥åšåˆ°æŸ¯é‡ŒåŒ–var addCurry = curry(add);addCurry(1)(2) // 3]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>currying</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[closure]]></title>
    <url>%2F2021%2F01%2F08%2F2021-01-08-closure%2F</url>
    <content type="text"><![CDATA[å‰ç½®çŸ¥è¯†ï¼šJavaScriptæ˜¯é™æ€ä½œç”¨åŸŸ é—­åŒ…ï¼šè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•° 1234567var a = 1;//æ—¢ä¸æ˜¯fooçš„å±€éƒ¨å˜é‡ï¼Œä¹Ÿä¸æ˜¯fooå‡½æ•°çš„å‚æ•°ï¼Œaä¸ºè‡ªç”±å˜é‡function foo() &#123; console.log(a);&#125;foo();//1 å³ä½¿ä¸Šä¸‹æ–‡è¢«é”€æ¯ï¼Œå®ƒä»ç„¶å­˜åœ¨ï¼Œå› ä¸ºåœ¨ä½œç”¨åŸŸé“¾ä¸Šè¢«å¼•ç”¨äº†ï¼Œæ˜¯jsçš„ä¸€ä¸ªç‰¹æ€§ï¼Œç›®å‰å¦‚PHPï¼ŒJavaä¸ä¼šåŽŸç”Ÿæ”¯æŒ é¢è¯•é¢˜ å¸¸è§çš„æ–°æ‰‹é¢è¯•é¢˜ï¼Œæˆ‘é‡åˆ°è¿‡å¥½å‡ æ¬¡ï¼ˆä½œç”¨åŸŸ+é—­åŒ…è€ƒç‚¹ï¼‰ 123456789101112131415161718192021222324252627var data = [];for (var i = 0; i &lt; 3; i++) &#123; data[i] = function () &#123; console.log(i); &#125;;&#125;data[0]();data[1]();data[2]();//closure var data = [];for (var i = 0; i &lt; 3; i++) &#123; data[i] = (function (i) &#123; return function()&#123; console.log(i); &#125; &#125;)(i);&#125;data[0]();//ä¸ç”¨æ‰¾globalçš„idata[1]();data[2]();]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>closure</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vscodeè®¿é—®æœåŠ¡å™¨æ–‡ä»¶]]></title>
    <url>%2F2021%2F01%2F05%2F2021-01-05-vscoderemote%2F</url>
    <content type="text"><![CDATA[1.install remote ssh in vscode 2.click remote explorer and select ssh targets 3.click remote ssh configure or press F1 and input remote-ssh:Open configuration file 4.selete path ~/.ssh/config,and modify config file if you dont have rsa ,please generate keys before 123456//optionalssh-keygen# passphrase can be empty and then generate keys in `~/.ssh`# put *.pub (public key) to your server (~/.ssh/) and excute `cat id_rsa.pub &gt;&gt; authorized_keys` to merge Previous file# now rsa keys are ready 1234567Host alias HostName 8.888.88.8 User root IdentityFile ~&#x2F;.ssh&#x2F;id_rsa RSAAuthentication yes PubkeyAuthentication yes PasswordAuthentication no Host aliasâ€“&gt;your remote server name hostNameâ€“&gt;server ip Userâ€“&gt;login username IdentityFileâ€“&gt;private key path RSAAuthenticationâ€“&gt;optional PubkeyAuthenticationâ€“&gt;optional PasswordAuthenticationâ€“&gt;no password login 5.login without password ready]]></content>
      <categories>
        <category>skills</category>
      </categories>
      <tags>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-10-16-promiseç”¨æ³•]]></title>
    <url>%2F2020%2F10%2F16%2F2020-10-16-promise%E7%94%A8%E6%B3%95%2F</url>
    <content type="text"><![CDATA[WhatECMAscript 6 åŽŸç”Ÿæä¾›äº† Promise å¯¹è±¡ã€‚ Promise å¯¹è±¡ä»£è¡¨äº†æœªæ¥å°†è¦å‘ç”Ÿçš„äº‹ä»¶ï¼Œç”¨æ¥ä¼ é€’å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚ Promise å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹:1ã€å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚Promise å¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼š pending: åˆå§‹çŠ¶æ€ï¼Œä¸æ˜¯æˆåŠŸæˆ–å¤±è´¥çŠ¶æ€ã€‚ fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚ rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚ åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æžœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯ Promise è¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯ã€Œæ‰¿è¯ºã€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ã€‚ 2ã€ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æžœã€‚Promise å¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»Ž Pending å˜ä¸º Resolved å’Œä»Ž Pending å˜ä¸º Rejectedã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æžœã€‚å°±ç®—æ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹ Promise å¯¹è±¡æ·»åŠ å›žè°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æžœã€‚è¿™ä¸Žäº‹ä»¶ï¼ˆEventï¼‰å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå¦‚æžœä½ é”™è¿‡äº†å®ƒï¼Œå†åŽ»ç›‘å¬ï¼Œæ˜¯å¾—ä¸åˆ°ç»“æžœçš„ã€‚ 1234var promise &#x3D; new Promise(function(resolve, reject) &#123; &#x2F;&#x2F; å¼‚æ­¥å¤„ç† &#x2F;&#x2F; å¤„ç†ç»“æŸåŽã€è°ƒç”¨resolve æˆ– reject&#125;); ä»¥ä¸Šæ¥è‡ª:èœé¸Ÿhttps://www.runoob.com/w3cnote/javascript-promise-object.html Whyå› ä¸ºåœ¨2020å¹´01æœˆ07æ—¥æœ‰ä¸€ç¯‡æ–‡ç« è®²äº†ä½¿ç”¨promiseå®žçŽ°å»¶æ—¶é˜Ÿåˆ—çš„ä¸€é“é¢è¯•é¢˜ï¼Œå› ä¸ºä¹‹å‰å†™ä¸šåŠ¡æ²¡æœ‰ç”¨åˆ°è¿‡æ‰€ä»¥ä¸€ç›´ä»¥ä¸ºç”¨å¤„ä¸å¤§ï¼Œä½†ä»Šå¤©å¯¹æŽ¥é˜¿é‡Œçš„å½•éŸ³æ–‡ä»¶è¯†åˆ«è½¬æ–‡å­—çš„æŽ¥å£ä¸­ï¼Œç¤ºä¾‹ä»£ç æ˜¯ä¸€ä¸ªsetIntervalè½®è¯¢å¾—åˆ°ç»“æžœçš„ä¸€ç§æ–¹å¼ï¼Œä½†æ˜¯ä»–å¸¦æ¥äº†ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ ï¼ï¼æ²¡æœ‰åŠžæ³•è¿”å›žå‰ç«¯è½¬æ–‡å­—çš„ç»“æžœï¼ï¼ å¤§æ¦‚ä»£ç å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051//url:https://help.aliyun.com/document_detail/94242.html?spm=a2c4g.11174283.6.601.15eb7275a8rq00// è¿™æ®µä»£ç ä¼šå¼‚æ­¥æ‰§è¡Œï¼Œå¯ä»¥å¾—åˆ°ç»“æžœï¼Œä½†æ˜¯ç›´æŽ¥ç”¨è¿™ä¸ªä»£ç è¿”å›žç»™å‰ç«¯client.submitTask(taskParams, options).then((response) =&gt; &#123; console.log(response); // æœåŠ¡ç«¯å“åº”ä¿¡æ¯çš„çŠ¶æ€æè¿°StatusTextã€‚ var statusText = response.StatusText; if (statusText != &#x27;SUCCESS&#x27;) &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚å“åº”å¤±è´¥!&#x27;) return; &#125; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚å“åº”æˆåŠŸ!&#x27;); // èŽ·å–å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚ä»»åŠ¡çš„TaskIdï¼Œä»¥ä¾›è¯†åˆ«ç»“æžœæŸ¥è¯¢ä½¿ç”¨ã€‚ var taskId = response.TaskId; /** * ä»¥TaskIdä¸ºæŸ¥è¯¢å‚æ•°ï¼Œæäº¤è¯†åˆ«ç»“æžœæŸ¥è¯¢è¯·æ±‚ã€‚ * ä»¥è½®è¯¢çš„æ–¹å¼è¿›è¡Œè¯†åˆ«ç»“æžœçš„æŸ¥è¯¢ï¼Œç›´åˆ°æœåŠ¡ç«¯è¿”å›žçš„çŠ¶æ€æè¿°ä¸º&quot;SUCCESS&quot;ã€SUCCESS_WITH_NO_VALID_FRAGMENTï¼Œ * æˆ–è€…ä¸ºé”™è¯¯æè¿°ï¼Œåˆ™ç»“æŸè½®è¯¢ã€‚ */ var taskIdParams = &#123; TaskId : taskId &#125;; var timer = setInterval(() =&gt; &#123; client.getTaskResult(taskIdParams).then((response) =&gt; &#123; console.log(&#x27;è¯†åˆ«ç»“æžœæŸ¥è¯¢å“åº”ï¼š&#x27;); console.log(response); var statusText = response.StatusText; if (statusText == &#x27;RUNNING&#x27; || statusText == &#x27;QUEUEING&#x27;) &#123; // ç»§ç»­è½®è¯¢ï¼Œæ³¨æ„é—´éš”å‘¨æœŸã€‚ &#125; else &#123; if (statusText == &#x27;SUCCESS&#x27; || statusText == &#x27;SUCCESS_WITH_NO_VALID_FRAGMENT&#x27;) &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«æˆåŠŸï¼š&#x27;); var sentences = response.Result; console.log(sentences); &#125; else &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«å¤±è´¥!&#x27;); &#125; // é€€å‡ºè½®è¯¢ clearInterval(timer); &#125; &#125;).catch((error) =&gt; &#123; console.error(error); // å¼‚å¸¸æƒ…å†µï¼Œé€€å‡ºè½®è¯¢ã€‚ clearInterval(timer); &#125;); &#125;, 10000); &#125;).catch((error) =&gt; &#123; console.error(error); &#125;);&#125; Howä½¿ç”¨promiseè¿›è¡ŒåŒ…è£¹ï¼Œç­‰åˆ°promiseå†…éƒ¨çš„å‡½æ•°å–åˆ°äº†ç»“æžœåœ¨è¿”å›ž 12345678if (statusText == &#x27;SUCCESS&#x27; || statusText == &#x27;SUCCESS_WITH_NO_VALID_FRAGMENT&#x27;) &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«æˆåŠŸï¼š&#x27;); var sentences = response.Result; console.log(sentences); //è¿™é‡Œæ–°å¢žresolve&#125; else &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«å¤±è´¥!&#x27;);&#125; å¤–å±‚é€šè¿‡å¦‚ä¸‹ä»£ç å®žçŽ° 1234var promise &#x3D; new Promise(function(resolve, reject) &#123; &#x2F;&#x2F; å¼‚æ­¥å¤„ç† &#x2F;&#x2F; å¤„ç†ç»“æŸåŽã€è°ƒç”¨resolve æˆ– reject&#125;); 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465async function getWords() &#123; return new Promise((resolve, reject) =&gt; &#123; client .submitTask(taskParams, options) .then(response =&gt; &#123; console.log(response); // æœåŠ¡ç«¯å“åº”ä¿¡æ¯çš„çŠ¶æ€æè¿°StatusTextã€‚ const statusText = response.StatusText; if (statusText != &#x27;SUCCESS&#x27;) &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚å“åº”å¤±è´¥!&#x27;); &#125; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚å“åº”æˆåŠŸ!&#x27;); // èŽ·å–å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚ä»»åŠ¡çš„TaskIdï¼Œä»¥ä¾›è¯†åˆ«ç»“æžœæŸ¥è¯¢ä½¿ç”¨ã€‚ const taskId = response.TaskId; /** * ä»¥TaskIdä¸ºæŸ¥è¯¢å‚æ•°ï¼Œæäº¤è¯†åˆ«ç»“æžœæŸ¥è¯¢è¯·æ±‚ã€‚ * ä»¥è½®è¯¢çš„æ–¹å¼è¿›è¡Œè¯†åˆ«ç»“æžœçš„æŸ¥è¯¢ï¼Œç›´åˆ°æœåŠ¡ç«¯è¿”å›žçš„çŠ¶æ€æè¿°ä¸º&quot;SUCCESS&quot;ã€SUCCESS_WITH_NO_VALID_FRAGMENTï¼Œ * æˆ–è€…ä¸ºé”™è¯¯æè¿°ï¼Œåˆ™ç»“æŸè½®è¯¢ã€‚ */ const taskIdParams = &#123; TaskId: taskId, &#125;; const timer = setInterval(() =&gt; &#123; client .getTaskResult(taskIdParams) .then(response =&gt; &#123; console.log(&#x27;è¯†åˆ«ç»“æžœæŸ¥è¯¢å“åº”ï¼š&#x27;); console.log(response); const statusText = response.StatusText; if (statusText == &#x27;RUNNING&#x27; || statusText == &#x27;QUEUEING&#x27;) &#123; // ç»§ç»­è½®è¯¢ï¼Œæ³¨æ„é—´éš”å‘¨æœŸã€‚ &#125; else &#123; if ( statusText == &#x27;SUCCESS&#x27; || statusText == &#x27;SUCCESS_WITH_NO_VALID_FRAGMENT&#x27; ) &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«æˆåŠŸï¼š&#x27;); let sentences = &#x27;&#x27;; for (const s of response.Result.Sentences) &#123; sentences += s.Text; &#125; console.log(response.Result); resolve(sentences);//**é‡ç‚¹**// // return sentences; &#125; else &#123; console.log(&#x27;å½•éŸ³æ–‡ä»¶è¯†åˆ«å¤±è´¥!&#x27;); &#125; // é€€å‡ºè½®è¯¢ clearInterval(timer); &#125; &#125;) .catch(error =&gt; &#123; console.error(error); // å¼‚å¸¸æƒ…å†µï¼Œé€€å‡ºè½®è¯¢ã€‚ clearInterval(timer); &#125;); &#125;, 10000); &#125;) .catch(error =&gt; &#123; console.error(error); &#125;); &#125;); &#125; return await getWords();//è¿”å›žå‰ç«¯ï¼Œç¿»è¯‘ç»“æžœ å¦å¤–è®°å½•ä¸€ä»¶äº‹æƒ…ï¼Œå·¦ä¾§å•å…ƒå›¾æ ‡åœ°å€ï¼šhttps://fontawesome.com/v4.7.0/icons/]]></content>
  </entry>
  <entry>
    <title><![CDATA[NodeJS]]></title>
    <url>%2F2020%2F09%2F27%2F2020-09-27-NodeJS%2F</url>
    <content type="text"><![CDATA[https://github.com/theanarkh/understand-nodejs æ–‡æ¡£è¿˜æ˜¯ä¸é”™çš„]]></content>
  </entry>
  <entry>
    <title><![CDATA[Jupyter]]></title>
    <url>%2F2020%2F09%2F25%2F2020-09-25-Jupyter%2F</url>
    <content type="text"><![CDATA[whatJupiter = Julia + Python + R Jupyter notebookï¼ˆhttp://jupyter.org/ï¼‰ æ˜¯ä¸€ç§ Web åº”ç”¨ï¼Œèƒ½è®©ç”¨æˆ·å°†è¯´æ˜Žæ–‡æœ¬ã€æ•°å­¦æ–¹ç¨‹ã€ä»£ç å’Œå¯è§†åŒ–å†…å®¹å…¨éƒ¨ç»„åˆåˆ°ä¸€ä¸ªæ˜“äºŽå…±äº«çš„æ–‡æ¡£ä¸­ã€‚ why å°†ä»£ç å’Œæ–‡æ¡£ç»“åˆåœ¨ä¸€èµ·ï¼Œæ›´ç›´è§‚çš„ç¼–å†™äººå·¥æ™ºèƒ½ï¼Œå¤§æ•°æ®çš„ä»£ç  åˆ†å—è¿è¡Œ ç›´æŽ¥è¿è¡Œshellä¸éœ€è¦åˆ‡æ¢çŽ¯å¢ƒ so on how Download images 12$docker pull jupyter jupyter&#x2F;scipy-notebook:latest$docker run -itd --rm -p 1000:8888 -e JUPYTER_ENABLE_LAB&#x3D;yes -v &#x2F;home&#x2F;zehai&#x2F;jupyter:&#x2F;home&#x2F;jovyan&#x2F;work --name jupyter jupyter&#x2F;scipy-notebook:latest docker logs -f containerâ€™s ID and find token 12345To access the notebook, open this file in a browser: file:&#x2F;&#x2F;&#x2F;home&#x2F;jovyan&#x2F;.local&#x2F;share&#x2F;jupyter&#x2F;runtime&#x2F;nbserver-6-open.htmlOr copy and paste one of these URLs: http:&#x2F;&#x2F;896bb1e66101:8888&#x2F;?token&#x3D;fda8565a9b5cd5b8c621b45322ee72f716fd7ddea089fb51 or http:&#x2F;&#x2F;127.0.0.1:8888&#x2F;?token&#x3D;fda8565a9b5cd5b8c621b45322ee72f716fd7ddea089fb51 more info visit official docs enjoy (pics powered by cherevero)]]></content>
  </entry>
  <entry>
    <title><![CDATA[chevereto]]></title>
    <url>%2F2020%2F09%2F15%2F2020-09-15-Chevereto%2F</url>
    <content type="text"><![CDATA[whatTo solve some problems some web only use markdown and canâ€™t upload pictures,such as v2ex.com some pics you donâ€™t want to give it to others for long time,such as your interesting story give your blogâ€™s can speed when download bigger pics and so on Picture Bed can offer you a excellent platform to share your pictures and protect them, however it has a problem that you need a server to run the service,even though you can use ä¸ƒç‰›äº‘,alioss,weibo for free. whyChevereto is aim what I find dockerhub has chevereto images Combined with ShareX (only for windowsðŸ˜¢),chevereto can write markdown essay easily it has api ,you can make it stronger Chevereto Free v1.2.2 now Something others you can discover by yourself howChevereto is a php project , I use docker to run it 12345678910docker pull nmtan/chevereto:latest//use docker-compose.yml(next block)// or docker run docker run -it --name chevereto -d -p 8000:80 -v &quot;/home/xxx/images&quot;:/var/www/html/images -e &quot;CHEVERETO_DB_HOST=127.0.0.1&quot; -e &quot;CHEVERETO_DB_USERNAME=root&quot; -e &quot;CHEVERETO_DB_PASSWORD=rootpass&quot; -e &quot;CHEVERETO_DB_NAME=chevereto&quot; -e &quot;CHEVERETO_DB_PREFIX=chv_&quot; nmtan/chevereto//-v save photos in server instead of container//-e mysql:5.7.31 host,username,password,db_name(db must exist first)//open chrome and input 127.0.0.1:8000 12345678910111213141516171819202122232425262728293031323334353637383940414243&#x2F;&#x2F;this is docker-compose.ymlversion: &#39;3&#39;services: db: image: mariadb volumes: - .&#x2F;database:&#x2F;var&#x2F;lib&#x2F;mysql:rw restart: always networks: - private environment: MYSQL_ROOT_PASSWORD: xxxxx MYSQL_DATABASE: xxxxx MYSQL_USER: xxxxx MYSQL_PASSWORD: xxxxx chevereto: depends_on: - db image: nmtan&#x2F;chevereto restart: always networks: - private environment: CHEVERETO_DB_HOST: db CHEVERETO_DB_USERNAME: xxxxxx CHEVERETO_DB_PASSWORD: xxxxx CHEVERETO_DB_NAME: xxxxx CHEVERETO_DB_PREFIX: chv_ volumes: - .&#x2F;images:&#x2F;var&#x2F;www&#x2F;html&#x2F;images:rw - .&#x2F;php.ini:&#x2F;usr&#x2F;local&#x2F;etc&#x2F;php&#x2F;php.ini:ro ports: - 8080:80networks: private:&#x2F;&#x2F; start commandnohup docker-compose up &amp;&gt; run.log &amp;disown You maybe run into a stone wall when you first visit 127.0.0.1:8000 Before you can use docker exec -it chevereto bash into container /var/www/html no permission write phots to /home/xxx/images,you can use chmod -R 777 /home/xxx/images no permission update chevereto from 1.1.4 to1.2.2 ,no update possible: /app/install/update/temp/ path,that is no temp folder in /app/install/update/ under version 1.2.0,you can mkdir temp and then chmod -R 777 ./temp and then refresh the webpage ,the prics bed will update successfully So , you can use ip address to visit your chevereto . However , we usually use domain name such as example.com to visit web, a https isn ecessary as well 1.Use aliyun to apply a free ssl license for a domain name such as pics.example.com 2.Download pem and keys to your server and put it in nginx conf folder 3.Use the conf as follows 12345678910111213141516171819202122232425262728293031323334server &#123; listen 80; server_name pics.example.com; return 301 https:&#x2F;&#x2F;pics.example.com$request_uri; &#125; server &#123; listen 443 ssl; server_name pics.example.com; gzip on; ssl_certificate cert&#x2F;xxxxxx9_pics.example.com.pem; # pem&#39;s filename ssl_certificate_key cert&#x2F;xxxxxx9_pics.example.com.key;# key&#39;s filename location &#x2F; &#123; proxy_redirect off; proxy_pass http:&#x2F;&#x2F;dockername; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-Ssl on; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header X-Frame-Options SAMEORIGIN; client_max_body_size 100m; client_body_buffer_size 128k; proxy_buffer_size 4k; proxy_buffers 4 32k; proxy_busy_buffers_size 64k; proxy_temp_file_write_size 64k; &#125; &#125; And then you can visit https://pics.example.com Thatâ€˜s my story that building pics bed ,and hope to help you. 2020-09-28 append use picgoï¼Œupload pictures in typora to chevereto GitHub download picgo,mac use .dmp,and then install it open æ’ä»¶è®¾ç½®,search chevereto and install chevereto 1.0.0 Open å›¾åºŠè®¾ç½®&gt;Chevereto Uploader and put in params, Url is your upload service ip/domain Key is chevereto api in Dashboard&gt;Settings&gt;API&gt;API v1 key param is not in use now 12Url:https:&#x2F;&#x2F;example.com&#x2F;api&#x2F;1&#x2F;uploadKey:xxx Click ç¡®å®š and è®¾ä¸ºé»˜è®¤å›¾åº“ make sure server is on PicGoè®¾ç½®&gt;è®¾ç½®Server&gt;ç‚¹å‡»è®¾ç½®,if it is on ,noting should be done and then we modify config in typaro Open Typora and open â€˜preferences&gt;Images` Choose Upload images in when Insert and check apply above rules to local images and apply above rules to online images in option, and I suggest you check both of them to approve all pics managed by chevereto Choose PicGo.app in images Uploader and click Test Uploader to test your upload pictures automatically for more information ,youcan visit PicGo and PicGo-Core Upload your pictures in personal album instead of visitorsâ€™ albulm Chevereto API thanks Chevereto ShareX ioioxâ€™s blog dana5hawâ€™s blog]]></content>
      <categories>
        <category>Chevereto</category>
      </categories>
      <tags>
        <tag>pictureBed</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitMQ]]></title>
    <url>%2F2020%2F09%2F14%2F2020-09-14-RabbitMQ%2F</url>
    <content type="text"><![CDATA[whatMQ-message queue ä¸‰è¶³é¼Žç«‹ rocketmqâ€‹â€‹ -Made by Java åžåé‡é«˜ä¸€äº› é˜¿é‡Œä¸­é—´ä»¶ rabbitmq -Made by Erlang Kafka- ä»¥åŽæœ‰æ›´å¤šçš„äº†è§£å†è¡¥å……æ€§èƒ½/åŠŸèƒ½å·®è· whyåŠŸèƒ½ï¼šè§£è€¦(åŒæ–¹é€šè¿‡mqäº¤äº’)ã€å¼‚æ­¥ã€å‰Šå³° åº”ç”¨ï¼š é˜¿é‡ŒåŒ11 é—®é¢˜ï¼š å¤„ç†å¥½æ–°å¢žçš„å¤æ‚æ€§ å¤„ç†å¥½ç³»ç»Ÿå¯ç”¨æ€§ howä¹‹æ‰€ä»¥é€‰æ‹©rabbitmqæ˜¯å› ä¸ºrocketmqçš„nameserveræ‰€éœ€è¦çš„å†…å­˜å¤ªå¤§äº†ï¼Œæ›´ä½•å†µbokerï¼Œå¯¹äºŽ1C2Gçš„ä¹žä¸æœºå™¨æ¥è¯´æ ¹æœ¬è·‘ä¸èµ·æ¥ 1.docker runBecause of rocketmq need more than 123456789docker pull rabbitmq:managementdocker run -dit --name rabbitmq -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin -p 15672:15672 -p 5672:5672 rabbitmq:management--name containername-e RABBITMQ_DEFAULT_USER å‚æ•°ç”¨æˆ·åï¼Œå¯†ç åŒç†-p ç«¯å£æ˜ å°„ï¼Œä¸»æœºï¼šå®¹å™¨ï¼Œ15672-UIï¼Œ5672-servicerabbitmq:management image&#x27;s name 2.Usage1.open chrome and input â€˜localhost:15672â€™ or â€˜192.168.1.1:15672â€™ then you can touch rabbitmq UI Overviewâ€“the queued msg, msg rate in your server, some global counts, your nodes stats (if u use the above method,you only see one node in the screen ),you also can build a cluster with more nodes Connectionsâ€“ Channelsâ€“ Exchangesâ€“direct,fanout,headers,match,trace,topic Quesesâ€“ Adminâ€“users management with passport &amp;&amp; permission 2.use 5672 in your code 12345678amqp.connect(&#123; protocol: &#x27;amqp&#x27;, hostname: &#x27;example.com&#x27;,//localhost port: &#x27;5672&#x27;, username: &#x27;admin&#x27;, password: &#x27;xxx&#x27;, vhost: &#x27;/&#x27;,//important &#125;) more in official docsâ€“&gt; Iâ€™m doc or some blogsâ€“&gt;Iâ€™m blog or my GitHubâ€“&gt;click here]]></content>
      <categories>
        <category>MQ</category>
      </categories>
      <tags>
        <tag>basic</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[EventLoop Source]]></title>
    <url>%2F2020%2F07%2F24%2F2020-07-23-EventLoop2%2F</url>
    <content type="text"><![CDATA[eventLoopä¹‹å‰ä¹Ÿæœ‰è¿‡ç« èŠ‚nodeæ•´ç†Node.js æœ‰çœ‹åˆ°çŸ³å¢¨æŠ€æœ¯æ–‡æ¡£ cnodeæŠ€æœ¯æ–‡æ¡£ï¼Œä½œè€…ï¼šyouth7 è®°å½•ä»¥ä¸‹çŸ¥è¯†ç‚¹ï¼š nodejsçš„eventæ˜¯åŸºäºŽlibuvï¼Œæµè§ˆå™¨çš„event loopåˆ™åœ¨html5çš„è§„èŒƒä¸­æ˜Žç¡®å®šä¹‰ï¼Œä¸¤ä¸ªäº‹ç‰©æœ‰æ˜Žæ˜¾çš„åŒºåˆ« process.nextTick()åœ¨6ä¸ªé˜¶æ®µç»“æŸçš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œ eventLoop timers æ‰§è¡ŒsetTimeout() å’Œ setInterval()ä¸­åˆ°æœŸçš„callback I/O callbacks ä¸Šä¸€è½®å¾ªçŽ¯ä¸­æœ‰å°‘æ•°çš„I/Ocallbackä¼šè¢«å»¶è¿Ÿåˆ°è¿™ä¸€è½®çš„è¿™ä¸€é˜¶æ®µæ‰§è¡Œ idle, prepare ä»…å†…éƒ¨ä½¿ç”¨ poll æœ€ä¸ºé‡è¦çš„é˜¶æ®µï¼Œæ‰§è¡ŒI/O callbackï¼Œåœ¨é€‚å½“çš„æ¡ä»¶ä¸‹ä¼šé˜»å¡žåœ¨è¿™ä¸ªé˜¶æ®µ check æ‰§è¡ŒsetImmediateçš„callback close callbacks æ‰§è¡Œcloseäº‹ä»¶çš„callbackï¼Œä¾‹å¦‚socket.on(&quot;close&quot;,func) 123456789101112131415161718 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€&gt;â”‚ timers â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ I/O callbacks â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ idle, prepare â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ incoming: â”‚â”‚ â”‚ poll â”‚&lt;â”€â”€â”€â”€â”€â”¤ connections, â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ data, etc. â”‚â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ check â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â””â”€â”€â”¤ close callbacks â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657# /deps/uv/src/unix/core.cint uv_run(uv_loop_t* loop, uv_run_mode mode) &#123; int timeout; int r; int ran_pending; r = uv__loop_alive(loop); // if(uv_has_active_hanles||uv_has_active_reqs || lop-&gt;closing_handles!=NULL)retrun true if (!r) uv__update_time(loop); while (r != 0 &amp;&amp; loop-&gt;stop_flag == 0) &#123; uv__update_time(loop); // main uv__run_timers(loop);//timer phase ran_pending = uv__run_pending(loop);//IO callback pharse uv__run_idle(loop);//idle phase uv__run_prepare(loop);// prepare phase // main end timeout = 0; if ((mode == UV_RUN_ONCE &amp;&amp; !ran_pending) || mode == UV_RUN_DEFAULT) timeout = uv_backend_timeout(loop); uv__io_poll(loop, timeout);//poll phase uv__run_check(loop);//check phase uv__run_closing_handles(loop);//closing pharse if (mode == UV_RUN_ONCE) &#123; /* UV_RUN_ONCE implies forward progress: at least one callback must have * been invoked when it returns. uv__io_poll() can return without doing * I/O (meaning: no callbacks) when its timeout expires - which means we * have pending timers that satisfy the forward progress constraint. * * UV_RUN_NOWAIT makes no guarantees about progress so it&#x27;s omitted from * the check. */ // UV_RUN_ONCE è‡³å°‘æœ‰ä¸€ä¸ªå›žè°ƒæ‰§è¡Œ,ä¸ç„¶è¯¥å¾ªçŽ¯å°±ç©ºè½¬äº†ï¼Œæ»¡è¶³å‰è¿›è¦æ±‚ // è¿™ä¹Ÿæ˜¯[æ–‡ç« ](https://zehai.info/2020/04/10/2020-04-10-eventloop/)ä¸­å†™åˆ°ï¼š // pollä¸ºç©ºï¼Œeventloopå°†æ£€æŸ¥timeræ˜¯å¦æœ‰å¿«åˆ°çš„ï¼Œå¦‚æžœéœ€è¦æ‰§è¡Œï¼Œeventloopå°†è¦è¿›å…¥timersé˜¶æ®µæ¥é¡ºåºæ‰§è¡Œtimer callback uv__update_time(loop); uv__run_timers(loop); &#125; r = uv__loop_alive(loop); if (mode == UV_RUN_ONCE || mode == UV_RUN_NOWAIT) break; &#125; /* The if statement lets gcc compile it to a conditional store. Avoids * dirtying a cache line. */ if (loop-&gt;stop_flag != 0) loop-&gt;stop_flag = 0; return r;&#125; timers phaseæ‰§è¡ŒsetTimeout() å’Œ setInterval()ä¸­åˆ°æœŸçš„callback 123456789101112131415161718192021void uv__run_timers(uv_loop_t* loop) &#123; struct heap_node* heap_node; uv_timer_t* handle; for (;;) &#123; heap_node = heap_min(timer_heap(loop)); if (heap_node == NULL) break; // å–å‡ºå †ä¸­æœ€å¿«è¦è¢«æ‰§è¡Œçš„timer // #define container_of(ptr, type, member) // ((type *) ((char *) (ptr) - offsetof(type, member))) // æ²¡çœ‹æ‡‚ handleæ˜¯æ€Žä¹ˆç”Ÿæˆçš„ handle = container_of(heap_node, uv_timer_t, heap_node); if (handle-&gt;timeout &gt; loop-&gt;time)//æ‰§è¡Œæ—¶é—´å¤§äºŽeventloopå¾ªçŽ¯ä¸€æ¬¡æ—¶é—´ï¼Œé€€å‡ºphaseä¸‹æ¬¡å†è¯´ break; uv_timer_stop(handle);// remove handle uv_timer_again(handle);// å¤šæ¬¡é‡å¤çš„timerå†å¡žè¿›åŽ» handle-&gt;timer_cb(handle);// invoke callback &#125;&#125; I/O callbacksä¸Šä¸€è½®å¾ªçŽ¯ä¸­æœ‰å°‘æ•°çš„I/Ocallbackä¼šè¢«å»¶è¿Ÿåˆ°è¿™ä¸€è½®çš„è¿™ä¸€é˜¶æ®µæ‰§è¡Œ 123456789101112131415161718192021//deps/uv/src/unix/core.cstatic int uv__run_pending(uv_loop_t* loop) &#123; QUEUE* q; QUEUE pq; uv__io_t* w; if (QUEUE_EMPTY(&amp;loop-&gt;pending_queue))//isEmpty return 0; QUEUE_MOVE(&amp;loop-&gt;pending_queue, &amp;pq);//move while (!QUEUE_EMPTY(&amp;pq)) &#123; q = QUEUE_HEAD(&amp;pq);//find QUEUE_REMOVE(q);//pop QUEUE_INIT(q); w = QUEUE_DATA(q, uv__io_t, pending_queue); w-&gt;cb(loop, w, POLLOUT);//unitl queue empty &#125; return 1;&#125; Idle and prepare phase/ loop / void uv__run_idle(uv_loop_t* loop); void uv__run_check(uv_loop_t* loop); void uv__run_prepare(uv_loop_t* loop); 12345678910111213void uv__run_##name(uv_loop_t* loop) &#123; uv_##name##_t* h; QUEUE queue; QUEUE* q; QUEUE_MOVE(&amp;loop-&gt;name##_handles, &amp;queue);//QUEUE_MOVE while (!QUEUE_EMPTY(&amp;queue)) &#123;//util empty q = QUEUE_HEAD(&amp;queue);//pop h = QUEUE_DATA(q, uv_##name##_t, queue);//element-&gt;handle QUEUE_REMOVE(q);//remove QUEUE_INSERT_TAIL(&amp;loop-&gt;name##_handles, q);//insert tail h-&gt;name##_cb(h);//callback &#125;&#125; !!!poll phase!!!æœ€ä¸ºé‡è¦çš„é˜¶æ®µï¼Œæ‰§è¡ŒI/O callbackï¼Œåœ¨é€‚å½“çš„æ¡ä»¶ä¸‹ä¼šé˜»å¡žåœ¨è¿™ä¸ªé˜¶æ®µ å¯è§pollé˜¶æ®µçš„ä»»åŠ¡å°±æ˜¯é˜»å¡žç­‰å¾…ç›‘å¬çš„äº‹ä»¶æ¥ä¸´ï¼Œç„¶åŽæ‰§è¡Œå¯¹åº”çš„callbackï¼Œå…¶ä¸­é˜»å¡žæ˜¯å¸¦æœ‰è¶…æ—¶æ—¶é—´çš„ï¼Œä»¥ä¸‹å‡ ç§æƒ…å†µéƒ½ä¼šä½¿å¾—è¶…æ—¶æ—¶é—´ä¸º0 uv_runå¤„äºŽUV_RUN_NOWAITæ¨¡å¼ä¸‹ uv_stop()è¢«è°ƒç”¨ æ²¡æœ‰æ´»è·ƒçš„handleså’Œrequest æœ‰æ´»è·ƒçš„idle handles æœ‰ç­‰å¾…å…³é—­çš„handles å¦‚æžœä¸Šè¿°éƒ½ä¸ç¬¦åˆï¼Œåˆ™è¶…æ—¶æ—¶é—´ä¸ºè·ç¦»çŽ°åœ¨æœ€è¿‘çš„timerï¼›å¦‚æžœæ²¡æœ‰timeråˆ™pollé˜¶æ®µä¼šä¸€ç›´é˜»å¡žä¸‹åŽ» ä¸ªäººç†è§£nodejsçš„æœåŠ¡ï¼Œå¤§éƒ¨åˆ†æ—¶é—´ä¼šè¢«é˜»å¡žåœ¨è¿™ä¸ªé˜¶æ®µï¼Œè€Œä¸åŽ»æ‰§è¡Œclosing 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195// ä¸è¡Œäº†ï¼Œçœ‹ä¸æ‡‚äº†void uv__io_poll(uv_loop_t* loop, int timeout) &#123; struct pollfd events[1024]; struct pollfd pqry; struct pollfd* pe; struct poll_ctl pc; QUEUE* q; uv__io_t* w; uint64_t base; uint64_t diff; int have_signals; int nevents; int count; int nfds; int i; int rc; int add_failed; if (loop-&gt;nfds == 0) &#123; assert(QUEUE_EMPTY(&amp;loop-&gt;watcher_queue)); return; &#125; while (!QUEUE_EMPTY(&amp;loop-&gt;watcher_queue)) &#123;//until watcher queue empty q = QUEUE_HEAD(&amp;loop-&gt;watcher_queue); QUEUE_REMOVE(q); QUEUE_INIT(q); w = QUEUE_DATA(q, uv__io_t, watcher_queue); assert(w-&gt;pevents != 0); assert(w-&gt;fd &gt;= 0); assert(w-&gt;fd &lt; (int) loop-&gt;nwatchers); pc.events = w-&gt;pevents; pc.fd = w-&gt;fd; add_failed = 0; if (w-&gt;events == 0) &#123; pc.cmd = PS_ADD; if (pollset_ctl(loop-&gt;backend_fd, &amp;pc, 1)) &#123; if (errno != EINVAL) &#123; assert(0 &amp;&amp; &quot;Failed to add file descriptor (pc.fd) to pollset&quot;); abort(); &#125; /* Check if the fd is already in the pollset */ pqry.fd = pc.fd; rc = pollset_query(loop-&gt;backend_fd, &amp;pqry); switch (rc) &#123; case -1: assert(0 &amp;&amp; &quot;Failed to query pollset for file descriptor&quot;); abort(); case 0: assert(0 &amp;&amp; &quot;Pollset does not contain file descriptor&quot;); abort(); &#125; /* If we got here then the pollset already contained the file descriptor even though * we didn&#x27;t think it should. This probably shouldn&#x27;t happen, but we can continue. */ add_failed = 1; &#125; &#125; if (w-&gt;events != 0 || add_failed) &#123; /* Modify, potentially removing events -- need to delete then add. * Could maybe mod if we knew for sure no events are removed, but * content of w-&gt;events is handled above as not reliable (falls back) * so may require a pollset_query() which would have to be pretty cheap * compared to a PS_DELETE to be worth optimizing. Alternatively, could * lazily remove events, squelching them in the mean time. */ pc.cmd = PS_DELETE; if (pollset_ctl(loop-&gt;backend_fd, &amp;pc, 1)) &#123; assert(0 &amp;&amp; &quot;Failed to delete file descriptor (pc.fd) from pollset&quot;); abort(); &#125; pc.cmd = PS_ADD; if (pollset_ctl(loop-&gt;backend_fd, &amp;pc, 1)) &#123; assert(0 &amp;&amp; &quot;Failed to add file descriptor (pc.fd) to pollset&quot;); abort(); &#125; &#125; w-&gt;events = w-&gt;pevents; &#125; assert(timeout &gt;= -1); base = loop-&gt;time; count = 48; /* Benchmarks suggest this gives the best throughput. */ for (;;) &#123; nfds = pollset_poll(loop-&gt;backend_fd, events, ARRAY_SIZE(events), timeout); /* Update loop-&gt;time unconditionally. It&#x27;s tempting to skip the update when * timeout == 0 (i.e. non-blocking poll) but there is no guarantee that the * operating system didn&#x27;t reschedule our process while in the syscall. */ SAVE_ERRNO(uv__update_time(loop)); if (nfds == 0) &#123; assert(timeout != -1); return; &#125; if (nfds == -1) &#123; if (errno != EINTR) &#123; abort(); &#125; if (timeout == -1) continue; if (timeout == 0) return; /* Interrupted by a signal. Update timeout and poll again. */ goto update_timeout; &#125; have_signals = 0; nevents = 0; assert(loop-&gt;watchers != NULL); loop-&gt;watchers[loop-&gt;nwatchers] = (void*) events; loop-&gt;watchers[loop-&gt;nwatchers + 1] = (void*) (uintptr_t) nfds; for (i = 0; i &lt; nfds; i++) &#123; pe = events + i; pc.cmd = PS_DELETE; pc.fd = pe-&gt;fd; /* Skip invalidated events, see uv__platform_invalidate_fd */ if (pc.fd == -1) continue; assert(pc.fd &gt;= 0); assert((unsigned) pc.fd &lt; loop-&gt;nwatchers); w = loop-&gt;watchers[pc.fd]; if (w == NULL) &#123; /* File descriptor that we&#x27;ve stopped watching, disarm it. * * Ignore all errors because we may be racing with another thread * when the file descriptor is closed. */ pollset_ctl(loop-&gt;backend_fd, &amp;pc, 1); continue; &#125; /* Run signal watchers last. This also affects child process watchers * because those are implemented in terms of signal watchers. */ if (w == &amp;loop-&gt;signal_io_watcher) have_signals = 1; else w-&gt;cb(loop, w, pe-&gt;revents); nevents++; &#125; if (have_signals != 0) loop-&gt;signal_io_watcher.cb(loop, &amp;loop-&gt;signal_io_watcher, POLLIN); loop-&gt;watchers[loop-&gt;nwatchers] = NULL; loop-&gt;watchers[loop-&gt;nwatchers + 1] = NULL; if (have_signals != 0) return; /* Event loop should cycle now so don&#x27;t poll again. */ if (nevents != 0) &#123; if (nfds == ARRAY_SIZE(events) &amp;&amp; --count != 0) &#123; /* Poll for more events but don&#x27;t block this time. */ timeout = 0; continue; &#125; return; &#125; if (timeout == 0) return; if (timeout == -1) continue;update_timeout: assert(timeout &gt; 0); diff = loop-&gt;time - base; if (diff &gt;= (uint64_t) timeout) return; timeout -= diff; &#125;&#125; check phaseè§idle prepare closeå…³é—­handle 12345678910111213static void uv__run_closing_handles(uv_loop_t* loop) &#123; uv_handle_t* p; uv_handle_t* q; p = loop-&gt;closing_handles; loop-&gt;closing_handles = NULL; while (p) &#123; q = p-&gt;next_closing; uv__finish_close(p); p = q; &#125;&#125; where is process.nextTick12345678910111213141516171819202122232425262728293031323334353637383940//lib/internal/process/task_queues.js// `nextTick()` will not enqueue any callback when the process is about to// exit since the callback would not have a chance to be executed.// æ„æ€å°±æ˜¯nextTickåœ¨è¿›ç¨‹å¿«è¦ç»“æŸæ—¶ä¸ä¼šæŽ’é˜Ÿcallback,å› ä¸ºæ²¡æœ‰æœºä¼šæ‰§è¡Œ// ä½ ä»¬çœ‹å¼•ç”¨çš„æ–‡æ¡£å§ï¼Œæˆ‘çœ‹ä¸ä¸‹åŽ»äº†ðŸ˜­// ä¸»è¦çš„æ€è·¯æ˜¯JSæ‰§è¡Œprocess.nexTick()ï¼Œç„¶åŽå°†callbackäº¤ç»™c++æ‰§è¡Œfunction nextTick(callback) &#123; if (typeof callback !== &#x27;function&#x27;) throw new ERR_INVALID_CALLBACK(callback); if (process._exiting) return; let args; switch (arguments.length) &#123; case 1: break; case 2: args = [arguments[1]]; break; case 3: args = [arguments[1], arguments[2]]; break; case 4: args = [arguments[1], arguments[2], arguments[3]]; break; default: args = new Array(arguments.length - 1); for (let i = 1; i &lt; arguments.length; i++) args[i - 1] = arguments[i]; &#125; if (queue.isEmpty()) setHasTickScheduled(true); const asyncId = newAsyncId(); const triggerAsyncId = getDefaultTriggerAsyncId(); const tickObject = &#123; [async_id_symbol]: asyncId, [trigger_async_id_symbol]: triggerAsyncId, callback, args &#125;; if (initHooksExist()) emitInit(asyncId, &#x27;TickObject&#x27;, triggerAsyncId, tickObject); queue.push(tickObject);//å°è£…callback push //è¿›å…¥c&#125; question1.setTimeout vs setImmediate phaseæ‰§è¡Œé¡ºåº expireè®¾ç½®0æ˜¯ä¸æ˜¯ç«‹åˆ»æ‰§è¡Œ 1234567setTimeout(() =&gt; &#123; console.log(&#x27;setTimeout&#x27;)&#125;, 0)setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate&#x27;)&#125;) setTimeout/setInterval çš„ç¬¬äºŒä¸ªå‚æ•°å–å€¼èŒƒå›´æ˜¯ï¼š[1, 2^31 - 1]ï¼Œå¦‚æžœè¶…è¿‡è¿™ä¸ªèŒƒå›´åˆ™ä¼šåˆå§‹åŒ–ä¸º 1ï¼Œå³ setTimeout(fn, 0) === setTimeout(fn, 1)ã€‚ setTimeout çš„å›žè°ƒå‡½æ•°åœ¨ timer é˜¶æ®µæ‰§è¡Œï¼ŒsetImmediate çš„å›žè°ƒå‡½æ•°åœ¨ check é˜¶æ®µæ‰§è¡Œï¼Œevent loop çš„å¼€å§‹ä¼šå…ˆæ£€æŸ¥ timer é˜¶æ®µï¼Œä½†æ˜¯åœ¨å¼€å§‹ä¹‹å‰åˆ° timer é˜¶æ®µä¼šæ¶ˆè€—ä¸€å®šæ—¶é—´ï¼Œæ‰€ä»¥å°±ä¼šå‡ºçŽ°ä¸¤ç§æƒ…å†µï¼š timer å‰çš„å‡†å¤‡æ—¶é—´è¶…è¿‡ 1msï¼Œæ»¡è¶³ loop-&gt;time &gt;= 1ï¼Œåˆ™æ‰§è¡Œ timer é˜¶æ®µï¼ˆsetTimeoutï¼‰çš„å›žè°ƒå‡½æ•° timer å‰çš„å‡†å¤‡æ—¶é—´å°äºŽ 1msï¼Œåˆ™å…ˆæ‰§è¡Œ check é˜¶æ®µï¼ˆsetImmediateï¼‰çš„å›žè°ƒå‡½æ•°ï¼Œä¸‹ä¸€æ¬¡ event loop æ‰§è¡Œ timer é˜¶æ®µï¼ˆsetTimeoutï¼‰çš„å›žè°ƒå‡½æ•° åœ¨ä¸¾ä¾‹ï¼š 12345678910setTimeout(() =&gt; &#123; console.log(&#x27;setTimeout&#x27;)&#125;, 0)setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate&#x27;)&#125;)const start = Date.now()while (Date.now() - start &lt; 10);//å‡†å¤‡æ—¶é—´è¶…è¿‡1msï¼Œåˆ™ç›´æŽ¥æ‰§è¡Œtimer 2.setTimeout vs setImmediate 212345678910111213const fs = require(&#x27;fs&#x27;)fs.readFile(__filename, () =&gt; &#123; setTimeout(() =&gt; &#123; console.log(&#x27;setTimeout&#x27;) &#125;, 0) setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate&#x27;) &#125;)&#125;)//setImmediate//setTimeout åœ¨å¼•ç”¨ä¸€ä¸‹å®˜æ–¹å¯¹äºŽcheck phaseçš„ä»‹ç» This phase allows a person to execute callbacks immediately after the poll phase has completed. If the poll phase becomes idle and scripts have been queued with setImmediate(), the event loop may continue to the check phase rather than waiting. setImmediate() is actually a special timer that runs in a separate phase of the event loop. It uses a libuv API that schedules callbacks to execute after the poll phase has completed. Generally, as the code is executed, the event loop will eventually hit the poll phase where it will wait for an incoming connection, request, etc. However, if a callback has been scheduled with setImmediate() and the poll phase becomes idle, it will end and continue to the check phase rather than waiting for poll events. fs.readFile çš„å›žè°ƒå‡½æ•°æ‰§è¡Œå®ŒåŽï¼š æ³¨å†Œ setTimeout çš„å›žè°ƒå‡½æ•°åˆ° timer é˜¶æ®µ æ³¨å†Œ setImmediate çš„å›žè°ƒå‡½æ•°åˆ° check é˜¶æ®µ event loop ä»Ž pool é˜¶æ®µå‡ºæ¥ç»§ç»­å¾€ä¸‹ä¸€ä¸ªé˜¶æ®µæ‰§è¡Œï¼Œæ°å¥½æ˜¯ check é˜¶æ®µï¼Œæ‰€ä»¥ setImmediate çš„å›žè°ƒå‡½æ•°å…ˆæ‰§è¡Œ æœ¬æ¬¡ event loop ç»“æŸåŽï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡ event loopï¼Œæ‰§è¡Œ setTimeout çš„å›žè°ƒå‡½æ•° æ‰€ä»¥ï¼Œåœ¨ I/O Callbacks ä¸­æ³¨å†Œçš„ setTimeout å’Œ setImmediateï¼Œæ°¸è¿œéƒ½æ˜¯ setImmediate å…ˆæ‰§è¡Œã€‚ 3.process.nextTick()123456789101112setInterval(() =&gt; &#123; console.log(&#x27;setInterval&#x27;)&#125;, 100)process.nextTick(function tick () &#123; process.nextTick(tick)&#125;)//notesetImmediate(function immediate () &#123; console.log(&#x27;111&#x27;);//ä¼šç›´æŽ¥æ‰“å°å‡ºå¾ˆå¤šæ¬¡111 setImmediate(immediate)&#125;) è¿è¡Œç»“æžœï¼šsetInterval æ°¸è¿œä¸ä¼šæ‰“å°å‡ºæ¥ã€‚ //è¿™ä¸ªåœ¨nodeå®˜æ–¹æ–‡æ¡£ä¹Ÿæœ‰ç›¸å…³çš„æè¿° //æˆ‘åœ¨è¿™é‡Œä¹Ÿè¿›è¡Œäº†ç¬”è®°è®°å½• //å…è®¸ç”¨æˆ·å¤„ç†errorsï¼Œæ¸…ç†ä¸éœ€è¦çš„èµ„æºï¼Œäº‹ä»¶å¾ªçŽ¯å‰ å°è¯•é‡æ–°è¿žæŽ¥ //æœ‰æ—¶æœ‰å¿…è¦åœ¨eventloopç»§ç»­ä¹‹å‰ï¼Œåœ¨call stack unwoundä¹‹åŽï¼Œè®©callbackæ‰§è¡Œ è§£é‡Šï¼šprocess.nextTick ä¼šæ— é™å¾ªçŽ¯ï¼Œå°† event loop é˜»å¡žåœ¨ microtask é˜¶æ®µï¼Œå¯¼è‡´ event loop ä¸Šå…¶ä»– macrotask é˜¶æ®µçš„å›žè°ƒå‡½æ•°æ²¡æœ‰æœºä¼šæ‰§è¡Œã€‚//è¿™æ®µè§£é‡Šæ˜¯å‰ç«¯çš„ï¼ŒåŽç«¯æ˜¯æ²¡æœ‰microtaskçš„å®žé™…é˜Ÿåˆ—çš„ è§£å†³æ–¹æ³•é€šå¸¸æ˜¯ç”¨ setImmediate æ›¿ä»£ process.nextTickï¼Œå¦‚ä¸‹ï¼š 1234567setInterval(() =&gt; &#123; console.log(&#x27;setInterval&#x27;)&#125;, 100)setImmediate(function immediate () &#123; setImmediate(immediate)&#125;) è¿è¡Œç»“æžœï¼šæ¯ 100ms æ‰“å°ä¸€æ¬¡ setIntervalã€‚ è§£é‡Šï¼šprocess.nextTick å†…æ‰§è¡Œ process.nextTick ä»ç„¶å°† tick å‡½æ•°æ³¨å†Œåˆ°å½“å‰ microtask çš„å°¾éƒ¨ï¼Œæ‰€ä»¥å¯¼è‡´ microtask æ°¸è¿œæ‰§è¡Œä¸å®Œï¼› setImmediate å†…æ‰§è¡Œ setImmediate ä¼šå°† immediate å‡½æ•°æ³¨å†Œåˆ°ä¸‹ä¸€æ¬¡ event loop çš„ check é˜¶æ®µï¼Œè€Œä¸æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„ check é˜¶æ®µï¼Œæ‰€ä»¥ç»™äº† event loop ä¸Šå…¶ä»– macrotask æ‰§è¡Œçš„æœºä¼šã€‚ å†çœ‹ä¸ªä¾‹å­ï¼š 12345678910111213setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate1&#x27;) setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate2&#x27;) &#125;) process.nextTick(() =&gt; &#123; console.log(&#x27;nextTick&#x27;) &#125;)&#125;)setImmediate(() =&gt; &#123; console.log(&#x27;setImmediate3&#x27;)&#125;) è¿è¡Œç»“æžœï¼š 1234setImmediate1setImmediate3nextTicksetImmediate2 æ³¨æ„ï¼šå¹¶ä¸æ˜¯è¯´ setImmediate å¯ä»¥å®Œå…¨æ›¿ä»£ process.nextTickï¼Œprocess.nextTick åœ¨ç‰¹å®šåœºæ™¯ä¸‹è¿˜æ˜¯æ— æ³•è¢«æ›¿ä»£çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å°±æƒ³å°†ä¸€äº›æ“ä½œæ”¾åˆ°æœ€è¿‘çš„ microtask é‡Œæ‰§è¡Œã€‚ 4.promise12345const promise = Promise.resolve() .then(() =&gt; &#123; return promise &#125;)promise.catch(console.error) è¿è¡Œç»“æžœï¼š 123456TypeError: Chaining cycle detected for promise #&lt;Promise&gt; at &lt;anonymous&gt; at process._tickCallback (internal/process/next_tick.js:188:7) at Function.Module.runMain (module.js:667:11) at startup (bootstrap_node.js:187:16) at bootstrap_node.js:607:3 è§£é‡Šï¼špromise.then ç±»ä¼¼äºŽ process.nextTickï¼Œéƒ½ä¼šå°†å›žè°ƒå‡½æ•°æ³¨å†Œåˆ° microtask é˜¶æ®µã€‚ä¸Šé¢ä»£ç ä¼šå¯¼è‡´æ­»å¾ªçŽ¯ï¼Œç±»ä¼¼å‰é¢æåˆ°çš„ï¼š 123process.nextTick(function tick () &#123; process.nextTick(tick)&#125;) å†çœ‹ä¸ªä¾‹å­ï¼š 123456789const promise = Promise.resolve()promise.then(() =&gt; &#123; console.log(&#x27;promise&#x27;)&#125;)process.nextTick(() =&gt; &#123; console.log(&#x27;nextTick&#x27;)&#125;) è¿è¡Œç»“æžœï¼š 12nextTickpromise è§£é‡Šï¼špromise.then è™½ç„¶å’Œ process.nextTick ä¸€æ ·ï¼Œéƒ½å°†å›žè°ƒå‡½æ•°æ³¨å†Œåˆ° microtaskï¼Œä½†ä¼˜å…ˆçº§ä¸ä¸€æ ·ã€‚process.nextTick çš„ microtask queue æ€»æ˜¯ä¼˜å…ˆäºŽ promise çš„ microtask queue æ‰§è¡Œã€‚ 5.promiseæ‰§è¡Œé¡ºåº1234567891011121314setTimeout(() =&gt; &#123; console.log(1)&#125;, 0)new Promise((resolve, reject) =&gt; &#123; console.log(2) for (let i = 0; i &lt; 10000; i++) &#123; i === 9999 &amp;&amp; resolve() &#125; console.log(3)&#125;).then(() =&gt; &#123; console.log(4)&#125;)console.log(5) è¿è¡Œç»“æžœï¼š 1234523541 è§£é‡Šï¼šPromise æž„é€ å‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥å…ˆæ‰“å° 2ã€3ï¼Œç„¶åŽæ‰“å° 5ï¼ŒæŽ¥ä¸‹æ¥ event loop è¿›å…¥æ‰§è¡Œ microtask é˜¶æ®µï¼Œæ‰§è¡Œ promise.then çš„å›žè°ƒå‡½æ•°æ‰“å°å‡º 4ï¼Œç„¶åŽæ‰§è¡Œä¸‹ä¸€ä¸ª macrotaskï¼Œæ°å¥½æ˜¯ timer é˜¶æ®µçš„ setTimeout çš„å›žè°ƒå‡½æ•°ï¼Œæ‰“å°å‡º 1ã€‚ 6.ç»¼åˆ12345678910111213141516171819202122232425setImmediate(() =&gt; &#123; console.log(1) setTimeout(() =&gt; &#123; console.log(2) &#125;, 100) setImmediate(() =&gt; &#123; console.log(3) &#125;) process.nextTick(() =&gt; &#123; console.log(4) &#125;)&#125;)process.nextTick(() =&gt; &#123; console.log(5) setTimeout(() =&gt; &#123; console.log(6) &#125;, 100) setImmediate(() =&gt; &#123; console.log(7) &#125;) process.nextTick(() =&gt; &#123; console.log(8) &#125;)&#125;)console.log(9) è¿è¡Œç»“æžœï¼š 123456789958174362 process.nextTickã€setTimeout å’Œ setImmediate çš„ç»„åˆï¼Œè¯·è¯»è€…è‡ªå·±æŽ¨ç†å§ã€‚ other source codesetTimeout()12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849//lib/timers/promises.js//setTimeout(function()&#123;&#125;,expire)function setTimeout(after, value, options = &#123;&#125;) &#123; const args = value !== undefined ? [value] : value; if (options == null || typeof options !== &#x27;object&#x27;) &#123; return PromiseReject( new ERR_INVALID_ARG_TYPE( &#x27;options&#x27;, &#x27;Object&#x27;, options)); &#125; const &#123; signal, ref = true &#125; = options; if (signal !== undefined &amp;&amp; (signal === null || typeof signal !== &#x27;object&#x27; || !(&#x27;aborted&#x27; in signal))) &#123; return PromiseReject( new ERR_INVALID_ARG_TYPE( &#x27;options.signal&#x27;, &#x27;AbortSignal&#x27;, signal)); &#125; if (typeof ref !== &#x27;boolean&#x27;) &#123; return PromiseReject( new ERR_INVALID_ARG_TYPE( &#x27;options.ref&#x27;, &#x27;boolean&#x27;, ref)); &#125; // TODO(@jasnell): If a decision is made that this cannot be backported // to 12.x, then this can be converted to use optional chaining to // simplify the check. if (signal &amp;&amp; signal.aborted) return PromiseReject(lazyDOMException(&#x27;AbortError&#x27;)); return new Promise((resolve, reject) =&gt; &#123; const timeout = new Timeout(resolve, after, args, false, true); if (!ref) timeout.unref(); insert(timeout, timeout._idleTimeout); if (signal) &#123; signal.addEventListener(&#x27;abort&#x27;, () =&gt; &#123; if (!timeout._destroyed) &#123; // eslint-disable-next-line no-undef clearTimeout(timeout); reject(lazyDOMException(&#x27;AbortError&#x27;)); &#125; &#125;, &#123; once: true &#125;); &#125; &#125;);&#125;]]></content>
      <categories>
        <category>Node</category>
      </categories>
      <tags>
        <tag>source</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®—æ³•å›¾è§£]]></title>
    <url>%2F2020%2F06%2F08%2F2020-06-08-%E7%AE%97%E6%B3%95%E5%9B%BE%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[1. ç®—æ³•ç®€ä»‹1.1 äºŒåˆ†Why: å¤æ‚åº¦O(n)â€”&gt;O(logn) ä½¿ç”¨é™åˆ¶ï¼šæœ‰åºæ•°ç»„ 1.2 å¤§Oè¡¨ç¤ºæŒ‡å‡ºç®—æ³•è¿è¡Œæ—¶é—´çš„å¢žé€Ÿï¼Œç®—æ³•éœ€è¦åšçš„å°±æ˜¯æŠŠO(n^2)ä¼˜åŒ–åˆ°O(n)ç­‰ 2. é€‰æ‹©æŽ’åº2.1 æ•°ç»„ é“¾è¡¨æ•°ç»„ï¼šè¿žç»­ç‰©ç†ç©ºé—´ï¼Œå¯éšæœºè®¿é—®ï¼Œå¢žåˆ æ•°æ®å¤æ‚åº¦é«˜ é“¾è¡¨ï¼šåˆ†æ•£æ— åŠ›ç©ºé—´ï¼Œä¸å¯éšæœºè®¿é—®ï¼ˆåªèƒ½é¡ºåºï¼‰ï¼Œå¢žåˆ æ•°æ®å¤æ‚åº¦ä½Ž æ•°ç»„ é“¾è¡¨ è¯»æ”¹ O(1) O(n) å¢žåˆ  O(n) O(1) æ ¹æ®äº’ç›¸ç‰¹æ€§ï¼Œé€‰æ‹©åˆé€‚çš„æ–¹å¼ï¼Œå¦‚é¢‘ç¹å¢žåˆ ç”¨é“¾è¡¨ï¼Œåä¹‹ç”¨æ•°ç»„ 2.2 é€‰æ‹©æŽ’åºå¤æ‚åº¦ï¼šO(n^2) éåŽ†n ä¸ªå…ƒç´ é€‰æ‹© æœ€å°/å¤§çš„ï¼ŒéåŽ†n-1ä¸ªå…ƒç´ é€‰æ‹© æœ€å°/å¤§çš„ 3. é€’å½’ç±»æ¯”ï¼šå¥—å¨ƒ :call_me_hand: æ€§èƒ½å’Œæ˜“è¯»ä¸å¯å…¼å¾— é¿å…æ­»å¾ªçŽ¯ï¼ å°¾é€’å½’å¯ä»¥è§£å†³éƒ¨åˆ†æ€§èƒ½é—®é¢˜ é€’å½’è°ƒç”¨æ ˆæ˜¯æ€§èƒ½é™ä½Žçš„åŽŸå› ï¼Œéµå¾ªFIFO 4. å¿«æŽ’æ ¸å¿ƒï¼šåˆ†è€Œæ²»ä¹‹divide and conquerï¼Œå¿«æŽ’åªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªåº”ç”¨ æ€æƒ³ï¼šé€’å½’çš„ä¸€ç§åº”ç”¨ å¿«æŽ’ï¼ˆé€’å½’ï¼‰æ˜¯ä¸€ç§å‡½æ•°å¼ç¼–ç¨‹ å¿«æŽ’é€šè¿‡åŸºå‡†å€¼ï¼ˆå¯ä»¥é€‰ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰è¿›è¡Œåˆ†è€Œæ²»ä¹‹ 5. æ•£åˆ—è¡¨å®žçŽ°æ–¹å¼ï¼šæ•°ç»„ï¼Œéžé“¾è¡¨ï¼Œæ£€ç´¢å€¼keyç±»ä¼¼æ•°ç»„çš„ä¸‹è¡¨ï¼Œå¯ç›´æŽ¥è®¿é—®value åº”ç”¨ï¼šDNSï¼Œé˜»æ­¢é‡å¤æ•°æ®(ç±»seté›†)ï¼Œä½œç¼“å­˜ï¼ˆæœåŠ¡å™¨ç«¯ï¼‰ å¤æ‚åº¦ æ•£åˆ—å¹³å‡ æ•£åˆ—æœ€ç³Ÿ æ•°ç»„ é“¾è¡¨ æŸ¥æ‰¾ 1 n 1 n æ’å…¥åˆ é™¤ 1 n n 1 è£…å¡«å› å­ï¼ˆ0.4ï¼‰=æ•£åˆ—å…ƒç´ ï¼ˆ4ï¼‰/ä½ç½®æ€»æ•°ï¼ˆ10ï¼‰ é¿å…å†²çªï¼š1.è‰¯å¥½çš„æ•£åˆ—å‡½æ•°ï¼ˆå‡åŒ€åˆ†å¸ƒï¼‰ 2.è¾ƒä½Žçš„è£…å¡«å› å­ï¼ˆ&lt;0.7ï¼‰ å°†æ»¡æ—¶å€™ï¼š1.ç”³è¯·ä¸¤å€äºŽåŽŸæ¥çš„ æ–°ç©ºé—´ 2.hashæ‰€æœ‰å…ƒç´ åˆ°æ–°ç©ºé—´ å†²çªè§£å†³ï¼š å¼€æ”¾åœ°å€ï¼ˆæœ€ç®€å•å°±æ˜¯å†²çªé¡ºå»¶ä¸‹ä¸€ä½ï¼Œç›´åˆ°ä¸ºç©ºï¼‰ æ‹‰é“¾å‘ï¼ˆæŒ‡åœ¨æŸä¸ªä½å­ä¸Šå†æ‹‰ä¸€æ¡é“¾è¡¨ï¼ŒéžðŸ‘–æ‹‰é“¾ï¼‰ 6.BFSå¹¿åº¦ä¼˜å…ˆæœç´¢breadth first searchï¼Œè§£å†³æ— åŠ æƒæœ€çŸ­è·¯å¾„é—®é¢˜ä¹‹ä¸€ åº”ç”¨ï¼šå›½é™…è·³æ£‹ï¼Œæ‹¼å†™æ£€æŸ¥ï¼Œäººé™…å…³ç³»ç½‘ç»œ 7. Dijkstraæ­£åŠ æƒæœ‰å‘æ— çŽ¯å›¾çš„è§£å†³ç®—æ³• æœ€çŸ­æ—¶é—´å†…åˆ°è¾¾çš„èŠ‚ç‚¹ æ›´æ–°è¯¥èŠ‚ç‚¹ä¸´æŽ¥èŠ‚ç‚¹çš„å¼€é”€ é‡å¤ è®¡ç®—æœ€ç»ˆè·¯å¾„ è§£å†³çŽ¯ï¼š è´ŸåŠ æƒï¼šbellman ford algorithm 8. Greedyæ¯æ­¥æœ€ä¼˜â€“&gt;å…¨å±€æœ€ä¼˜ï¼Œå¾—åˆ°è¿‘ä¼¼æ­£ç¡®çš„ç»“æžœ 9.DPåˆ—å‡ºæ‰€æœ‰å¯èƒ½ 10. Kæœ€é‚»è¿‘ç®—æ³•11.nextæ ‘è§£å†³äº†äºŒåˆ†æŸ¥æ‰¾ä¸­ï¼Œæ’å…¥åˆ é™¤O(n)é™ä½Žåˆ°O(log n)ï¼Œä½†æ˜¯é™ä½Žäº†éšæœºè®¿é—®èƒ½åŠ› æ ‘åŒ…æ‹¬ï¼šäºŒå‰æ ‘ï¼Œå¹³è¡¡äºŒå‰æ ‘ï¼ŒBæ ‘ B+æ ‘ï¼Œï¼Œçº¢é»‘æ ‘ åå‘ç´¢å¼•ï¼šæ•£åˆ—è¡¨ï¼Œç”¨äºŽåˆ›å»ºæœç´¢å¼•æ“Žâ€”&gt;åº”ç”¨ï¼šå‚…é‡Œå¶å˜æ¢ å¹¶è¡Œç®—æ³•ï¼Œå•æœºå¹¶è¡Œoråˆ†å¸ƒå¼ï¼Œåº”ç”¨ï¼šmapreduceï¼Œmap-&gt;æ˜ å°„ ï¼Œreduce-&gt;å½’å¹¶ å¸ƒéš†è¿‡æ»¤å™¨ï¼šåºžå¤§çš„æ•£åˆ—è¡¨ï¼ˆå¦‚è°·æ­Œçš„ä¸Šäº¿æ¡ï¼‰ï¼Œé€šå¸¸ä½¿ç”¨rediså®žçŽ°ï¼Œæ˜¯ä¸€ç§æ¦‚çŽ‡åž‹æ•°æ®ç»“æž„ï¼ˆå¶å°”å‡ºé”™ï¼‰ï¼Œä½¿ç”¨ç†ç”±ï¼Œå­˜å‚¨ç©ºé—´å°‘ hyperLogLogï¼šç±»ä¼¼å¸ƒéš†ï¼Œæ˜¯ä¸ªæ—¥å¿— SHAç®—æ³• æ•£åˆ—çš„ä¸€ç§åº”ç”¨ åˆ¤æ–­ä¸¤ä¸ªï¼ˆè¶…å¤§ï¼‰æ–‡ä»¶æ˜¯å¦ç›¸åŒï¼ˆæ•£åˆ—å€¼ç›¸åŒï¼‰ SHAï¼ˆç”¨æˆ·è¾“å…¥å¯†ç ï¼‰ï¼Ÿ== æ•°æ®åº“å­˜å‚¨çš„SHAå€¼ï¼Œä¸”æ‹–åº“åŽæ— æ³•è¿˜åŽŸå¯†ç  SHAæ˜¯ä¸€ç³»åˆ—ç®—æ³•çš„ç»Ÿç§°ï¼ŒåŒ…æ‹¬SHA-0 ,SHA-1 SHA-2 SHA-3 bcrypt etc SHAå…¨å±€æ•æ„Ÿï¼ˆæ”¹åŠ¨å±€éƒ¨ï¼Œæ•´ä½“å…¨å˜ï¼‰ï¼ŒSIMhashå±€éƒ¨æ•æ„Ÿï¼ˆå±€éƒ¨æ”¹å˜ï¼Œæ•£åˆ—å€¼å±€éƒ¨æ”¹å˜ï¼‰ï¼ŒåŽè€…ç”¨äºŽåˆ¤æ–­ç½‘é¡µæ˜¯å¦å·²ç»æœé›†ï¼Œä½œä¸šæ˜¯å¦æŠ„è¢­ï¼Œç›¸ä¼¼åº¦æŸ¥è¯¢ diffie-hellmanå¯†é’¥äº¤æ¢ åŒæ–¹æ— éœ€çŸ¥é“åŠ å¯†ç®—æ³•ï¼Œç ´è§£éš¾åº¦å¤§ å…¬é’¥ä¸Žç§é’¥ï¼ŒclientèŽ·å–å…¬é’¥åŽï¼Œ1.ä½¿ç”¨å…¬é’¥åŠ å¯† 2.æœåŠ¡å™¨ç«¯ä½¿ç”¨ç§é’¥è§£å¯† çº¿æ€§è§„åˆ’ï¼šsimplexç®—æ³•]]></content>
      <categories>
        <category>Books</category>
      </categories>
      <tags>
        <tag>ç®—æ³•å›¾è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-05-25-FirstUniqueCharacterInAString]]></title>
    <url>%2F2020%2F05%2F30%2F2020-05-25-FirstUniqueCharacterInAString%2F</url>
    <content type="text"><![CDATA[Leetcode-6412345678910Given a string, find the first non-repeating character in it and return it&#39;s index. If it doesn&#39;t exist, return -1.Examples:s &#x3D; &quot;leetcode&quot;return 0.s &#x3D; &quot;loveleetcode&quot;,return 2.Note: You may assume the string contain only lowercase letters. solution12345678910111213141516&#x2F;** * @param &#123;string&#125; s * @return &#123;number&#125; *&#x2F;var firstUniqChar &#x3D; function(s) &#123; for(var i&#x3D;0;i&lt;s.length;i++)&#123; var flag &#x3D; false; for(var j&#x3D;0;j&lt;s.length;j++)&#123; if(i&#x3D;&#x3D;j)continue; if(s[i]&#x3D;&#x3D;s[j])flag&#x3D;true; &#125; if(!flag)return i; &#125; return -1;&#125;; 123456789101112131415161718class Solution &#123; public int firstUniqChar(String s) &#123; HashMap&lt;Character, Integer&gt; count &#x3D; new HashMap&lt;Character, Integer&gt;(); int n &#x3D; s.length(); &#x2F;&#x2F; build hash map : character and how often it appears for (int i &#x3D; 0; i &lt; n; i++) &#123; char c &#x3D; s.charAt(i); count.put(c, count.getOrDefault(c, 0) + 1); &#125; &#x2F;&#x2F; find the index for (int i &#x3D; 0; i &lt; n; i++) &#123; if (count.get(s.charAt(i)) &#x3D;&#x3D; 1) return i; &#125; return -1; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[monit]]></title>
    <url>%2F2020%2F05%2F13%2F2020-05-13-%E7%9B%91%E6%8E%A7%E8%BD%AF%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[ç›‘æŽ§ åŽç«¯prometheus vs zabbix å…ˆå¯¹ä¸¤è€…çš„å„è‡ªç‰¹ç‚¹è¿›è¡Œä¸€ä¸‹å¯¹æ¯”ï¼š Zabbix Prometheus åŽç«¯ç”¨ C å¼€å‘ï¼Œç•Œé¢ç”¨ PHP å¼€å‘ï¼Œå®šåˆ¶åŒ–éš¾åº¦å¾ˆé«˜ã€‚ åŽç«¯ç”¨ golang å¼€å‘ï¼Œå‰ç«¯æ˜¯ Grafanaï¼ŒJSON ç¼–è¾‘å³å¯è§£å†³ã€‚å®šåˆ¶åŒ–éš¾åº¦è¾ƒä½Žã€‚ é›†ç¾¤è§„æ¨¡ä¸Šé™ä¸º 10000 ä¸ªèŠ‚ç‚¹ã€‚ æ”¯æŒæ›´å¤§çš„é›†ç¾¤è§„æ¨¡ï¼Œé€Ÿåº¦ä¹Ÿæ›´å¿«ã€‚ æ›´é€‚åˆç›‘æŽ§ç‰©ç†æœºçŽ¯å¢ƒã€‚ æ›´é€‚åˆäº‘çŽ¯å¢ƒçš„ç›‘æŽ§ï¼Œå¯¹ OpenStackï¼ŒKubernetes æœ‰æ›´å¥½çš„é›†æˆã€‚ ç›‘æŽ§æ•°æ®å­˜å‚¨åœ¨å…³ç³»åž‹æ•°æ®åº“å†…ï¼Œå¦‚ MySQLï¼Œå¾ˆéš¾ä»ŽçŽ°æœ‰æ•°æ®ä¸­æ‰©å±•ç»´åº¦ã€‚ ç›‘æŽ§æ•°æ®å­˜å‚¨åœ¨åŸºäºŽæ—¶é—´åºåˆ—(TSDB)çš„æ•°æ®åº“å†…ï¼Œä¾¿äºŽå¯¹å·²æœ‰æ•°æ®è¿›è¡Œæ–°çš„èšåˆã€‚ å®‰è£…ç®€å•ï¼Œzabbix-server ä¸€ä¸ªè½¯ä»¶åŒ…ä¸­åŒ…æ‹¬äº†æ‰€æœ‰çš„æœåŠ¡ç«¯åŠŸèƒ½ã€‚ å®‰è£…ç›¸å¯¹å¤æ‚ï¼Œç›‘æŽ§ã€å‘Šè­¦å’Œç•Œé¢éƒ½åˆ†å±žäºŽä¸åŒçš„ç»„ä»¶ã€‚ å›¾å½¢åŒ–ç•Œé¢æ¯”è¾ƒæˆç†Ÿï¼Œç•Œé¢ä¸ŠåŸºæœ¬ä¸Šèƒ½å®Œæˆå…¨éƒ¨çš„é…ç½®æ“ä½œã€‚ ç•Œé¢ç›¸å¯¹è¾ƒå¼±ï¼Œå¾ˆå¤šé…ç½®éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚ å‘å±•æ—¶é—´æ›´é•¿ï¼Œå¯¹äºŽå¾ˆå¤šç›‘æŽ§åœºæ™¯ï¼Œéƒ½æœ‰çŽ°æˆçš„è§£å†³æ–¹æ¡ˆã€‚ 2015 å¹´åŽå¼€å§‹å¿«é€Ÿå‘å±•ï¼Œä½†å‘å±•æ—¶é—´è¾ƒçŸ­ï¼Œæˆç†Ÿåº¦ä¸åŠ Zabbixã€‚ ç”±äºŽæœ€åŽæ•²å®šäº†Prometheusæ–¹æ¡ˆï¼Œå¯¹äºŽzabbixå°±äº‘è¯„æµ‹äº†ï¼Œæ¬¢è¿ŽæŒ‡æ­£ è™½ç„¶å›¾å½¢åŒ–ç•Œé¢å¼±åŒ–ï¼Œå¾ˆå¤šé…ç½®èµ°ymlæ–‡ä»¶ï¼Œä½†å›¾å½¢åŒ–ç•Œé¢çœŸçš„æ²¡æœ‰å¿…è¦ æ—¶åºæ•°æ®åº“ï¼Œé«˜å¹¶å‘ä¸‹å¥½äºŽmysqlï¼ˆä¸ç„¶å¹²å˜›å¼€å‘tsdbåº”å¯¹ç›‘æŽ§åœºæ™¯ï¼‰ promæ”¯æŒpullå’Œpushæ¨¡åž‹ï¼Œå¯ä»¥æ”¯æŒk8sï¼Œswarmç­‰æœåŠ¡å‘çŽ° å‰ç«¯Performanceï¼ŸwebVitalsï¼Ÿä»¥åŽç”¨åˆ°å†è¡¥å…… ä¸»è¦å…³æ³¨æ€§èƒ½ï¼Œpvï¼Œredirectï¼Œerrç­‰é—®é¢˜ é¡µé¢æ˜¯å¦å¯ç”¨é˜¿é‡Œäº‘-äº‘ç›‘æŽ§æŽ§åˆ¶å° å¯æä¾›ç½‘å€ç›‘æŽ§ï¼ŒåŒ…æ‹¬cookie, headers ç­‰è‡ªå®šä¹‰çš„ç®€å•é…ç½®ï¼Œè¿›è¡Œç”µè¯ï¼Œé‚®ä»¶ï¼ŒçŸ­ä¿¡ï¼Œæ—ºæ—ºç­‰æŠ¥è­¦]]></content>
      <categories>
        <category>monit</category>
      </categories>
      <tags>
        <tag>intro</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Node.JSv14]]></title>
    <url>%2F2020%2F04%2F22%2F2020-04-22-Node14%2F</url>
    <content type="text"><![CDATA[newmodä»Šå¤©çœ‹åˆ°Node Currentæ›´æ–°äº†14çš„ç‰ˆæœ¬ï¼Œçœ‹çœ‹éƒ½æœ‰äº›ä»€ä¹ˆä¸œè¥¿ å‰ç½®äº†è§£äº†ä¸€ä¸‹docä¸­æåˆ°çš„semverï¼Œæ˜¯ä¸€ä¸ªè¯­ä¹‰åŒ–ç‰ˆæœ¬semantic versioningï¼Œå®žçŽ°ç‰ˆæœ¬å’Œç‰ˆæœ¬è§„èŒƒçš„è§£æžï¼Œè®¡ç®—ï¼Œæ¯”è¾ƒï¼Œç”¨ä»¥è§£å†³åœ¨å¤§åž‹é¡¹ç›®ä¸­å¯¹ä¾èµ–çš„ç‰ˆæœ¬å¤±åŽ»æŽ§åˆ¶çš„é—®é¢˜ï¼ŒNode.js çš„åŒ…ç®¡ç†å·¥å…· npm ä¹Ÿå®Œå…¨åŸºäºŽ Semantic Versioning æ¥ç®¡ç†ä¾èµ–çš„ç‰ˆæœ¬ã€‚ å‚è€ƒèµ„æ–™ï¼šsemverï¼šè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒåœ¨ Node.js ä¸­çš„å®žçŽ° deprecationssermverå¼ƒç”¨ä¸€éƒ¨åˆ†åŠŸèƒ½ (SEMVER-MAJOR) crypto: move pbkdf2 without digest to EOL (James M Snell) (SEMVER-MAJOR) fs: deprecate closing FileHandle on garbage collection (James M Snell) (SEMVER-MAJOR) http: move OutboundMessage.prototype.flush to EOL (James M Snell) (SEMVER-MAJOR) lib: move GLOBAL and root aliases to EOL (James M Snell) (SEMVER-MAJOR) os: move tmpDir() to EOL (James M Snell) (SEMVER-MAJOR) src: remove deprecated wasm type check (Clemens Backes) (SEMVER-MAJOR) stream: move _writableState.buffer to EOL (James M Snell) (SEMVER-MINOR) doc: deprecate process.mainModule (Antoine du HAMEL) (SEMVER-MINOR) doc: deprecate process.umask() with no arguments (Colin Ihrig) ECMAScript Modulesåœ¨ v13 ä¸­ï¼Œéœ€è¦è°ƒç”¨ --experimental-modules æ¥å¼€å¯ ESM module æ”¯æŒï¼Œ è€Œä¸”è¿˜ä¼šæœ‰è­¦å‘Šï¼Œä½†ç›®å‰å·²ç»ç§»é™¤è­¦å‘Šï¼ˆè¿˜æ˜¯éœ€è¦æ‰‹åŠ¨å¼€å¯ï¼‰ä»åœ¨å®žéªŒä¸­ï¼Œä½†æ˜¯å…¶å·²ç»éžå¸¸å®Œå–„ï¼Œç§»é™¤è­¦å‘Šè¿ˆå‘äº†stableçš„é‡è¦ä¸€æ­¥ New V8 ArrayBuffer APIv8ä¸å†æ”¯æŒå¤šä¸ªArrayBufferæŒ‡å‘ç›¸åŒçš„base address Toolchain and Compiler Upgrades//æ²¡çœ‹æ‡‚ (SEMVER-MAJOR) build: update macos deployment target to 10.13 for 14.x (AshCripps) #32454 (SEMVER-MAJOR) doc: update cross compiler machine for Linux armv7 (Richard Lau) #32812 (SEMVER-MAJOR) doc: update Centos/RHEL releases use devtoolset-8 (Richard Lau) #32812 (SEMVER-MAJOR) doc: remove SmartOS from official binaries (Richard Lau) #32812 (SEMVER-MAJOR) win: block running on EOL Windows versions (JoÃ£o Reis) #31954 It is expected that there will be an ABI mismatch on ARM between the Node.js binary and native addons. Native addons are only broken if they interact with std::shared_ptr. This is expected to be fixed in a later version of Node.js 14. Update to V8 8.1Others cli, report: move â€“report-on-fatalerror to stable (Colin Ihrig) deps: upgrade to libuv 1.37.0 (Colin Ihrig) fs: add fs/promises alias module]]></content>
      <categories>
        <category>Node</category>
      </categories>
      <tags>
        <tag>14</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeWeek2]]></title>
    <url>%2F2020%2F04%2F19%2F2020-04-19-LeetCodeWeek1%2F</url>
    <content type="text"><![CDATA[Problem Product of Array Except SelfGiven an array nums of n integers where n &gt; 1, return an array output such that output[i] is equal to the product of all the elements of nums except nums[i]. Example: 12Input: [1,2,3,4]Output: [24,12,8,6] Constraint: Itâ€™s guaranteed that the product of the elements of any prefix or suffix of the array (including the whole array) fits in a 32 bit integer. Note: Please solve it without division and in O(n). Follow up:Could you solve it with constant space complexity? (The output array does not count as extra space for the purpose of space complexity analysis.) keysolution1234567891011121314151617181920212223242526272829&#x2F;&#x2F;3msclass Solution &#123; public int[] productExceptSelf(int[] nums) &#123; int sum &#x3D;1; int hasZero &#x3D;0; for(int num :nums)&#123; if(num!&#x3D;0)&#123; sum*&#x3D;num; &#125;else&#123; hasZero++; &#125; &#125; for(int i&#x3D;0;i&lt;nums.length;i++)&#123; if(hasZero&gt;&#x3D;2)&#123; nums[i]&#x3D;0; &#125;else if(hasZero&#x3D;&#x3D;1)&#123; if(nums[i]&#x3D;&#x3D;0)&#123; nums[i]&#x3D;sum; &#125;else&#123; nums[i]&#x3D;0; &#125; &#125;else&#123; nums[i]&#x3D;sum&#x2F;nums[i]; &#125; &#125; return nums; &#125;&#125; 1234567891011121314151617&#x2F;&#x2F;1msclass Solution &#123; public int[] productExceptSelf(int[] nums) &#123; int n &#x3D; nums.length; int[] left &#x3D; new int[n]; left[0] &#x3D; 1; for (int i &#x3D; 1; i &lt; n; i++) &#123; left[i] &#x3D; left[i-1] * nums[i-1]; &#125; int product &#x3D; 1; for (int i &#x3D; n - 1; i &gt;&#x3D; 0; i--) &#123; left[i] *&#x3D; product; product *&#x3D; nums[i]; &#125; return left; &#125;&#125; Problem-678Valid Parenthesis StringMedium Given a string containing only three types of characters: â€˜(â€˜, â€˜)â€™ and â€˜*â€™, write a function to check whether this string is valid. We define the validity of a string by these rules: Any left parenthesis &#39;(&#39; must have a corresponding right parenthesis &#39;)&#39;. Any right parenthesis &#39;)&#39; must have a corresponding left parenthesis &#39;(&#39;. Left parenthesis &#39;(&#39; must go before the corresponding right parenthesis &#39;)&#39;. &#39;*&#39; could be treated as a single right parenthesis &#39;)&#39; or a single left parenthesis &#39;(&#39; or an empty string. An empty string is also valid. Example 1: 12Input: &quot;()&quot;Output: True Example 2: 12Input: &quot;(*)&quot;Output: True Example 3: 12Input: &quot;(*))&quot;Output: True Note: The string size will be in the range [1, 100]. keysolution123456789101112131415161718192021222324class Solution &#123; public boolean checkValidString(String s) &#123; if (s.length() == 0) return true; int left = 0;int star=0; char[] c = s.toCharArray(); for (char i : c) &#123; switch (i) &#123; case &#x27;(&#x27;: left++; break; case &#x27;)&#x27;: left--; break; case &#x27;*&#x27;: star++; break; default: break; &#125; &#125; if (left == 0 || left - star == 0 || left + star == 0) return true; return false; &#125;&#125; Brute Force12345678910111213141516171819202122232425262728293031323334 class Solution &#123; boolean ans = false; public boolean checkValidString(String s) &#123; solve(new StringBuilder(s), 0); return ans; &#125; public void solve(StringBuilder sb, int i) &#123; if (i == sb.length()) &#123; ans |= valid(sb); &#125; else if (sb.charAt(i) == &#x27;*&#x27;) &#123; for (char c: &quot;() &quot;.toCharArray()) &#123; sb.setCharAt(i, c); solve(sb, i+1); if (ans) return; &#125; sb.setCharAt(i, &#x27;*&#x27;); &#125; else solve(sb, i + 1); &#125; public boolean valid(StringBuilder sb) &#123; int bal = 0; for (int i = 0; i &lt; sb.length(); i++) &#123; char c = sb.charAt(i); if (c == &#x27;(&#x27;) bal++; if (c == &#x27;)&#x27;) bal--; if (bal &lt; 0) break; &#125; return bal == 0; &#125;&#125; Dynamic Programming123456789101112131415161718192021222324252627282930313233class Solution &#123; public boolean checkValidString(String s) &#123; int n = s.length(); if (n == 0) return true; boolean[][] dp = new boolean[n][n]; for (int i = 0; i &lt; n; i++) &#123; if (s.charAt(i) == &#x27;*&#x27;) dp[i][i] = true; if (i &lt; n-1 &amp;&amp; (s.charAt(i) == &#x27;(&#x27; || s.charAt(i) == &#x27;*&#x27;) &amp;&amp; (s.charAt(i+1) == &#x27;)&#x27; || s.charAt(i+1) == &#x27;*&#x27;)) &#123; dp[i][i+1] = true; &#125; &#125; for (int size = 2; size &lt; n; size++) &#123; for (int i = 0; i + size &lt; n; i++) &#123; if (s.charAt(i) == &#x27;*&#x27; &amp;&amp; dp[i+1][i+size] == true) &#123; dp[i][i+size] = true; &#125; else if (s.charAt(i) == &#x27;(&#x27; || s.charAt(i) == &#x27;*&#x27;) &#123; for (int k = i+1; k &lt;= i+size; k++) &#123; if ((s.charAt(k) == &#x27;)&#x27; || s.charAt(k) == &#x27;*&#x27;) &amp;&amp; (k == i+1 || dp[i+1][k-1]) &amp;&amp; (k == i+size || dp[k+1][i+size])) &#123; dp[i][i+size] = true; &#125; &#125; &#125; &#125; &#125; return dp[0][n-1]; &#125;&#125; Greedy123456789101112class Solution &#123; public boolean checkValidString(String s) &#123; int lo = 0, hi = 0; for (char c: s.toCharArray()) &#123; lo += c == &#x27;(&#x27; ? 1 : -1; hi += c != &#x27;)&#x27; ? 1 : -1; if (hi &lt; 0) break; lo = Math.max(lo, 0); &#125; return lo == 0; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŒä¸€å®¿ä¸»æœºä¸‹dockeräº’ç›¸è®¿é—®]]></title>
    <url>%2F2020%2F04%2F16%2F2020-04-16-%E5%90%8C%E4%B8%80%E5%AE%BF%E4%B8%BB%E6%9C%BA%E4%B8%8Bdocker%E4%BA%92%E7%9B%B8%E8%AE%BF%E9%97%AE%2F</url>
    <content type="text"><![CDATA[whatè¯¥æ–‡æ¡£è§£å†³ï¼šdockerä¸‹ï¼Œaltermanageræ”¶ä¸åˆ°prometheusæ¶ˆæ¯ äº‹å› ï¼Œæˆ‘åœ¨ä¸€ä¸ªå®¿ä¸»æœºä¸‹å»ºç«‹äº†å¤šä¸ªdockerå®¹å™¨ node-exporter prometheus grafana alertmanager timonwong/prometheus-webhook-dingtalk è¿™äº›æœåŠ¡ä¹‹é—´ä¼šæœ‰ä¸€äº›äº’ç›¸è®¿é—®ï¼Œå¦‚prometheuså¯ä»¥å‘é€æ•°æ®ç»™alertmanageræ¥å‘é€æŠ¥è­¦ä¿¡æ¯ï¼Œalertmanageré€šè¿‡è§„åˆ™å¤„ç†å¯ä»¥å‘é€é‚®ä»¶ï¼Œå‘é€é’‰é’‰ç­‰æ–¹å¼å‘ŠçŸ¥ç”¨æˆ·ï¼Œé—®é¢˜å°±å‡ºåœ¨prometheusçš„ymlé…ç½®æ–‡æ¡£ä¸­ï¼š 1234567891011alerting: alertmanagers: - static_configs: - targets: [&#x27;localhost:9002&#x27;] ###############ä¿®æ”¹åŽï¼šalerting: alertmanagers: - static_configs: - targets: [&#x27;10.10.10.10:9002&#x27;] é—®é¢˜å‡ºåœ¨äº†prometheusçš„é…ç½®ä¸­è®¿é—®äº†localhostç«¯å£ï¼Œä½†è¿™ä¸ªå¹¶ä¸æ˜¯è®¿é—®å®¿ä¸»æœºçš„9002çš„ç«¯å£ï¼Œè€Œæ˜¯è®¿é—®çš„æ˜¯dockerå†…éƒ¨çš„9002ç«¯å£ æ‰¾åˆ°é—®é¢˜åŽï¼Œä½¿ç”¨äº†å®¿ä¸»æœºip+portçš„æ–¹å¼è¿›è¡Œè®¿é—® howæŸ¥è¯¢äº†èµ„æ–™åŽï¼Œå‘çŽ°è§£å†³è¯¥é—®é¢˜çš„æ–¹æ³•æœ‰ï¼š å®¿ä¸»ipï¼športè®¿é—® å®¹å™¨ipè®¿é—® linkå»ºç«‹é€šä¿¡ç½‘ç»œ(å•å‘ï¼Œä¸æŽ¨è)â€“link xxx user-defined networksï¼ˆdocker dns server/bridgeï¼‰ å‰ä¸¤ç§ä¸å¤ªæŽ¨èï¼Œå› ä¸ºå¦‚æžœå®¹å™¨ipæ›´æ”¹æˆ–è€…å®¿ä¸»æœºipæ›´æ”¹å°±éœ€è¦æ›´æ–°é…ç½®æ–‡æ¡£ï¼Œç¬¬ä¸‰ç§æ–¹æ³•ä¸å¤ªæŽ¨èï¼Œrun æ—¶å€™linkåªæ˜¯å•å‘çš„å»ºç«‹è¿žæŽ¥ï¼Œç¬¬å››ç§docker network createï¼š 1234&#x2F;&#x2F;åˆ›å»ºç½‘ç»œdocker network create -d bridge my-bridge-network&#x2F;&#x2F;runæ—¶å€™åŠ å…¥ç½‘ç»œdocker run -it --network test-network --network-alias mysql -e MYSQL_ROOT_PASSWORD&#x3D;123 mysql:5.7]]></content>
      <categories>
        <category>Question</category>
      </categories>
      <tags>
        <tag>æ•´ç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodeæ•´ç†]]></title>
    <url>%2F2020%2F04%2F10%2F2020-04-10-eventloop%2F</url>
    <content type="text"><![CDATA[Whateventloopä½¿å¾—å•çº¿ç¨‹æœºåˆ¶çš„nodeå®žçŽ°éžé˜»å¡žI/Oçš„æœºåˆ¶ï¼Œå°†ä»»åŠ¡é€šè¿‡libuvåˆ†å‘ç»™çº¿ç¨‹æ± åŽï¼Œäº¤ç”±ç³»ç»Ÿå†…æ ¸å®Œæˆï¼ˆå¤šçº¿ç¨‹ï¼‰ï¼Œå®ŒæˆåŽå†…æ ¸é€šçŸ¥nodejsï¼Œå°†å›žè°ƒæ”¾å…¥pollé˜Ÿåˆ—æ‰§è¡Œ å¯åŠ¨nodejsæ—¶ï¼Œeventloopåˆå§‹åŒ–ï¼Œè¿›ç¨‹ä¼šè¾“å…¥å¾ˆå¤šscriptï¼ŒåŒ…æ‹¬ï¼š async API calls å®šæ—¶å™¨ process.nextTick() eventloopæœ‰å…­ä¸ªé˜Ÿåˆ— timers pending callbacks idle,prepare poll(connections,data,etc) check close callbacks è¿™äº›é˜Ÿåˆ—è¢«ç§°ä½œphase,æ¯ä¸ªphaseéƒ½æ˜¯ä¸€ä¸ªå¯ä»¥æ”¾callbackçš„FIFOé˜Ÿåˆ—ï¼Œå½“è¿›å…¥ä¸€ä¸ªphaseæ—¶ï¼Œé˜Ÿåˆ—å°†æ‰§è¡Œå®Œphaseä¸­çš„callbackæˆ–è€…æ‰§è¡Œæœ€å¤§æ•°ç›®çš„callbackåŽå°†è¿›å…¥å¦ä¸€ä¸ªphase timersï¼šæ‰§è¡Œå®šæ—¶å™¨ï¼ŒåŒ…æ‹¬setTimeoutï¼ŒsetInerval pending callbacks æ‰§è¡Œå»¶è¿Ÿåˆ°ä¸‹ä¸€ä¸ªå¾ªçŽ¯çš„I/O callback idleï¼Œprepare å¤„ç†ç³»ç»Ÿå†…éƒ¨ pollï¼šæ£€æŸ¥æ–°çš„I/Oäº‹ä»¶ï¼Œæ‰§è¡ŒI/Oå›žè°ƒ,nodeä¼šé€‚å½“çš„åœ¨æ­¤é˜»å¡ž check:setImmediate() closeï¼šå…³é—­å›žè°ƒå‡½æ•°ï¼Œå¦‚ï¼šsocket.on(â€˜closeâ€™,foo()) DetailTimersè®¾å®šå»¶è¿ŸåŽï¼Œtimersä¼šåœ¨è§„å®šçš„æ—¶é—´æ‰§è¡Œï¼Œä½†å­˜åœ¨æƒ…å†µå»¶è¿Ÿï¼Œå¦‚poll phaseæ‰§è¡Œå›žè°ƒï¼Œè¶…è¿‡äº†timerè®¾å®šçš„æ—¶é—´ã€‚å› ä¸ºpollå¿…é¡»å®Œæˆä¸€ä¸ªä»»åŠ¡åŽæ‰å¯ä»¥æ£€æŸ¥æœ€è¿‘çš„å®šæ—¶å™¨ï¼Œæ²¡åˆ°æ—¶é—´å°±æ‰§è¡Œä¸‹ä¸€ä¸ªcallbackï¼Œæ‰§è¡ŒcallbackæœŸé—´æ— æ³•ä¸­æ–­ å¯ä»¥å¾—å‡ºç»“è®ºï¼špollæŽ§åˆ¶ç€å®šæ—¶å™¨ä½•æ—¶æ‰§è¡Œ å¦å¤–ä¸ºäº†é˜²æ­¢poll phase å˜æˆæ¶æ±‰ï¼Œlibuv åˆ¶å®šäº†ä¸€ä¸ªä¾èµ–äºŽç³»ç»Ÿçš„ç¡¬æ€§æœ€å¤§å€¼ï¼Œæ¥åœæ­¢è½®è¯¢èŽ·å–æ›´å¤šäº‹ä»¶ pending callbacksè¯¥é˜Ÿåˆ—åœ¨ç³»ç»Ÿé”™è¯¯æ—¶æ‰§è¡Œå›žè°ƒï¼ˆå¦‚TCP errï¼‰ï¼Œå¦‚TCP socketå°è¯•é‡è¿žæ”¶åˆ°äº†ECONNREFUSEDï¼Œç³»ç»Ÿéœ€è¦è¿™äº›é”™è¯¯æŠ¥å‘Šï¼Œé‚£è¿™ä¸ªé”™è¯¯æŠ¥å‘Šå›žè°ƒå°±ä¼šæ”¾åœ¨pending callbacksä¸­ç­‰å¾…è¢«æ‰§è¡Œ pollæœ€é‡è¦çš„é˜¶æ®µï¼Œpollä¸»è¦åŒ…å«ä¸¤ä¸ªåŠŸèƒ½ï¼š è®¡ç®—é˜»å¡žå’Œè½®è¯¢çš„IOæ—¶é—´ æ‰§è¡Œpoll é˜Ÿåˆ—é‡Œçš„events å½“eventloopè¿›å…¥pollé˜¶æ®µï¼Œå¹¶æ²¡æœ‰timersçš„æ—¶å€™ pollä¸ä¸ºç©ºï¼Œé¡ºåºåŒæ­¥æ‰§è¡Œä»»åŠ¡ï¼Œç›´åˆ°ä¸ºç©ºæˆ–è¾¾åˆ°å¤„ç†æ•°é‡ä¸Šé™ pollä¸ºç©ºï¼šå¦‚æžœæœ‰setImmediate()ï¼Œåˆ™è¿›å…¥check phaseï¼Œåä¹‹å°±åœ¨pollç­‰å®¢äºº ä¸€ä½†pollä¸ºç©ºï¼Œeventloppå°†ä¼šæ£€æŸ¥è®¡æ—¶å™¨æ˜¯å¦æœ‰å¿«åˆ°çš„ï¼Œå¦‚æžœæœ‰éœ€è¦æ‰§è¡Œçš„ï¼Œeventloopå°†è¦è¿›å…¥timersé˜¶æ®µæ¥é¡ºåºæ‰§è¡Œtimer callback checkè¿™ä¸ªphaseå¯ä»¥åœ¨pollæ‰§è¡Œå®Œæˆæ—¶å¼€å§‹æ‰§è¡ŒsetImmediate()å›žè°ƒã€‚ä»–å…¶å®žæ˜¯ç‰¹æ®Šçš„å®šæ—¶å™¨é˜Ÿåˆ—ï¼Œä½¿ç”¨libuv APIåœ¨pollå®Œæˆçš„é˜¶æ®µæ‰§è¡Œï¼ˆè¿™ä¹Ÿæ˜¯ä»–å­˜åœ¨çš„åŽŸå› ï¼‰ã€‚ close callbackssocket.desroy()ç­‰æ‰§è¡Œå…³é—­eventæ—¶å€™ä¼šè¿›å…¥è¯¥phaseï¼Œå¦åˆ™ä¼šè¢«process.nextTick()è§¦å‘ setImmedate() vs setTimeout()ç›¸ä¼¼å´åˆä¸åŒ setImmediate()æ˜¯pollæ‰§è¡Œå®ŒæˆåŽæ‰§è¡Œçš„script setTimeout()æ˜¯å®šæ—¶æ‰§è¡Œçš„ æ‰§è¡Œå“ªä¸ªæ”¶åˆ°ä¸Šä¸‹æ–‡çš„çº¦æŸï¼Œå¦‚æžœä¸¤ä¸ªéƒ½è¢«ä¸»æ¨¡å—è°ƒç”¨ï¼Œé‚£ä¹ˆè¿›ç¨‹æ€§èƒ½å°†ä¼šæ”¶åˆ°çº¦æŸï¼ˆå½±å“å…¶ä»–appè¿è¡Œï¼‰ 1234567891011121314151617181920212223242526272829303132without IOsetTimeout(() &#x3D;&gt; &#123; console.log(&#39;timeout&#39;);&#125;, 0);setImmediate(() &#x3D;&gt; &#123; console.log(&#39;immediate&#39;);&#125;);&#x2F;&#x2F;$ node timeout_vs_immediate.jstimeoutimmediate$ node timeout_vs_immediate.jsimmediatetimeoutwith IO&#x2F;&#x2F; timeout_vs_immediate.jsconst fs &#x3D; require(&#39;fs&#39;);fs.readFile(__filename, () &#x3D;&gt; &#123; setTimeout(() &#x3D;&gt; &#123; console.log(&#39;timeout&#39;); &#125;, 0); setImmediate(() &#x3D;&gt; &#123; console.log(&#39;immediate&#39;); &#125;);&#125;);&#x2F;&#x2F;immediatetimeout setImmediate()å¥½å¤„åœ¨äºŽï¼Œå¦‚æžœæœ‰IOæ—¶ä¼šæ¯”setTimeoutå…ˆæ‰§è¡Œ process.nextTick()å®ƒæ˜¯ä¸ªå¼‚æ­¥APIï¼Œå¹¶æ²¡æœ‰å‡ºçŽ°åœ¨å…­ä¸ªphaseä¸­ï¼Œä»–å¹¶ä¸å±žäºŽeventloopçš„ä¸€éƒ¨åˆ†ï¼Œå½“æ“ä½œå®ŒæˆåŽå¤„ç†nextTickQueueè€Œä¸ç®¡eventloopæ‰§è¡Œåˆ°å“ªä¸ªé˜¶æ®µï¼Œè¿™ä¸ªå¼‚æ­¥APIä¾èµ–äºŽC/C++å¤„ç† JavaScript ä»–çš„callbakcsä¼šç«‹å³æ‰§è¡Œï¼Œç›´åˆ°æ‰§è¡Œå®Œï¼Œeventloopæ‰ä¼šæ­£å¸¸å·¥ä½œï¼ˆå¦‚æžœnextTické€’å½’è°ƒç”¨åˆ™ä¼šæ­»å¾ªçŽ¯ï¼‰ ä¸ºä»€ä¹ˆä¼šå‡ºçŽ°è¿™ç§è®¾è®¡ï¼Ÿ å‡ºäºŽæ‰€æœ‰æŽ¥å£éƒ½åº”è¯¥å¼‚æ­¥çš„è®¾è®¡æ€è·¯ 12345function apiCall(arg, callback) &#123; if (typeof arg !&#x3D;&#x3D; &#39;string&#39;) return process.nextTick(callback, new TypeError(&#39;argument should be string&#39;));&#125; ä»£ç æ®µä¼šæ ¡éªŒå‚æ•°ï¼Œå¦‚æžœä¸æ­£ç¡®ï¼Œå®ƒå°†ä¼šæŠŠé”™è¯¯ä¼ é€’ç»™å›žè°ƒã€‚è¯¥APIæœ€è¿‘æ›´æ–°ï¼Œå…è®¸ä¼ ä»»ä½•å‚ç»™process.nextTick(),æ‰€ä»¥ä½ ä¸éœ€è¦åµŒå¥—ã€‚ä»…åœ¨å‰©ä½™ä»£ç æ‰§è¡Œä¹‹åŽæˆ‘ä»¬ä¼šæŠŠé”™è¯¯åé¦ˆç»™ç”¨æˆ·ï¼Œé€šè¿‡nextTickï¼Œæˆ‘ä»¬ä¿è¯apiCal()å§‹ç»ˆåœ¨ç”¨æˆ·èƒœäºŽä»£ç ä¹‹åŽåŠeventloopç»§ç»­ä¹‹å‰ï¼Œæ‰§è¡Œã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼ŒJSæ ˆå†…å­˜å…è®¸å±•å¼€å¹¶ä¸”ç«‹å³æ‰§è¡Œæä¾›çš„callbackï¼Œä¼¼çš„nextTické€’å½’ä¸ä¼šæœ‰æŠ¥é”™ã€‚ process.nextTick() vs setImmediate() process.nextTick()ç«‹åˆ»æ‰§è¡Œ setImmediate()ä¸‹æ¬¡tickæ‰§è¡Œ ä¸ºä»€ä¹ˆéœ€è¦process.nextTick() å…è®¸ç”¨æˆ·å¤„ç†errorsï¼Œæ¸…ç†ä¸éœ€è¦çš„èµ„æºï¼Œäº‹ä»¶å¾ªçŽ¯å‰ å°è¯•é‡æ–°è¿žæŽ¥ æœ‰æ—¶æœ‰å¿…è¦åœ¨eventloopç»§ç»­ä¹‹å‰ï¼Œåœ¨call stack unwoundä¹‹åŽï¼Œè®©callbackæ‰§è¡Œ 12345const server &#x3D; net.createServer();server.on(&#39;connection&#39;, (conn) &#x3D;&gt; &#123; &#125;);server.listen(8080);server.on(&#39;listening&#39;, () &#x3D;&gt; &#123; &#125;); listen()çš„callbackè°ƒç”¨çš„æ˜¯setImmiate()ï¼Œé™¤éžä¼ é€’Hostnameï¼Œå¦åˆ™ç«‹å³ç»‘å®šç«¯å£ã€‚ä¸ºäº†ä¿è¯eventloopç»§ç»­ï¼Œä»–å¿…é¡»è¿›å…¥poll phaseï¼Œè¿™æ„å‘³ç€ï¼Œå­˜åœ¨å¯èƒ½å·²ç»æ”¶åˆ°äº†è¿žæŽ¥ï¼Œä»Žè€Œå…è®¸åœ¨ä¾¦å¬äº‹ä»¶ä¹‹å‰è§¦å‘è¿žæŽ¥äº‹ä»¶]]></content>
      <categories>
        <category>Node</category>
      </categories>
      <tags>
        <tag>æ•´ç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeWeek2]]></title>
    <url>%2F2020%2F04%2F08%2F2020-04-08-LeetCodeWeek2%2F</url>
    <content type="text"><![CDATA[Prolem876-Submission DetailGiven a non-empty, singly linked list with head node head, return a middle node of linked list. If there are two middle nodes, return the second middle node. Example 1: 12345Input: [1,2,3,4,5]Output: Node 3 from this list (Serialization: [3,4,5])The returned node has value 3. (The judge&#39;s serialization of this node is [3,4,5]).Note that we returned a ListNode object ans, such that:ans.val &#x3D; 3, ans.next.val &#x3D; 4, ans.next.next.val &#x3D; 5, and ans.next.next.next &#x3D; NULL. Example 2: 123Input: [1,2,3,4,5,6]Output: Node 4 from this list (Serialization: [4,5,6])Since the list has two middle nodes with values 3 and 4, we return the second one. Note: The number of nodes in the given list will be between 1 and 100. keyé¢˜ç›®è¾“å‡ºå•å‘é“¾è¡¨çš„ä¸­é—´å…ƒç´ ï¼Œæœ‰è¿™ä¹ˆå‡ ä¸ªæ€è·¯ O(N)â€“&gt;éåŽ†æ”¾æ•°ç»„ï¼Œ1/2è¾“å‡ºreturn A[t / 2] O(N)â€“&gt;æ ¹æ®ä¸­é—´ç‰¹ç‚¹ï¼Œmidå‰è¿›ä¸€æ ¼ï¼Œendå‰è¿›ä¸¤æ ¼ Solutionç¬¬ä¸€æ¬¡æäº¤:0ms 12345678910111213141516171819202122class Solution &#123; public ListNode middleNode(ListNode head) &#123; ListNode mid = head; ListNode end = head; int i=0; while(end.next!=null)&#123; mid = head.next; ListNode tmp = mid; i++; int j=i; while(j&gt;0)&#123;//æžå¤æ‚äº† if(tmp.next==null)return mid; end = tmp.next; tmp=tmp.next; j--; &#125; head=head.next; &#125; return mid; &#125;&#125; ç¬¬äºŒæ¬¡å‚è€ƒå…¶ä»–ä»£ç -æäº¤ï¼š 12345678910class Solution &#123; public ListNode middleNode(ListNode head) &#123; ListNode mid &#x3D; head, end &#x3D; head; while (mid !&#x3D; null &amp;&amp; end.next !&#x3D; null) &#123; mid &#x3D; mid.next; end &#x3D; end.next.next; &#125; return mid; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeWeek1]]></title>
    <url>%2F2020%2F04%2F05%2F2020-04-05-LeetCodeWeek1%2F</url>
    <content type="text"><![CDATA[Problem Single Numberå¥½ä¹…æ²¡æœ‰åˆ·é¢˜äº†ï¼Œåˆšå¥½é‡åˆ°LeetCodeï¼Œ30å¤©è®¡åˆ’ï¼Œæ‰“ç®—å¼ºè¿«è‡ªå·±å®Œæˆ Given a non-empty array of integers, every element appears twice except for one. Find that single one. Note: Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory? Example 1: 12Input: [2,2,1]Output: 1 Example 2: 12Input: [4,1,2,1,2]Output: 4 Keyæ€è·¯ ç¬¬ä¸€ä¸ªæ€è·¯O(n^2)åŽ»åšç±»ä¼¼äºŽå†’æ³¡éåŽ†çš„åŠžæ³• å€ŸåŠ©Array.sort()å¯ä»¥è¿…é€ŸæŽ’åºï¼Œç„¶åŽO(n)çš„åŠžæ³•éåŽ†å¾—åˆ°ç»“æžœ ï¼ˆä»¥ä¸Šæ˜¯è‡ªå·±çš„æ€è·¯ï¼Œä»¥ä¸‹ä¸ºLeetCodeä»£ç æ€è€ƒï¼‰ é€šè¿‡å¼‚æˆ–æ“ä½œè¿…é€Ÿæ¯”è¾ƒ é€šè¿‡ Arrays.stream(nums).reduce(0, (x, y) -&gt; x ^ y)æ¥æ›´å¿«è¿­ä»£æ¯ä¸ªå…ƒç´  Array.steam()ä»¥ä¸‹å‚è€ƒCSDN Stream ä¸æ˜¯é›†åˆå…ƒç´ ï¼Œå®ƒä¸æ˜¯æ•°æ®ç»“æž„å¹¶ä¸ä¿å­˜æ•°æ®ï¼Œå®ƒæ˜¯æœ‰å…³ç®—æ³•å’Œè®¡ç®—çš„ï¼Œå®ƒæ›´åƒä¸€ä¸ªé«˜çº§ç‰ˆæœ¬çš„ Iteratorã€‚åŽŸå§‹ç‰ˆæœ¬çš„ Iteratorï¼Œç”¨æˆ·åªèƒ½æ˜¾å¼åœ°ä¸€ä¸ªä¸€ä¸ªéåŽ†å…ƒç´ å¹¶å¯¹å…¶æ‰§è¡ŒæŸäº›æ“ä½œï¼›é«˜çº§ç‰ˆæœ¬çš„ Streamï¼Œç”¨æˆ·åªè¦ç»™å‡ºéœ€è¦å¯¹å…¶åŒ…å«çš„å…ƒç´ æ‰§è¡Œä»€ä¹ˆæ“ä½œï¼Œæ¯”å¦‚ â€œè¿‡æ»¤æŽ‰é•¿åº¦å¤§äºŽ 10 çš„å­—ç¬¦ä¸²â€ã€â€œèŽ·å–æ¯ä¸ªå­—ç¬¦ä¸²çš„é¦–å­—æ¯â€ç­‰ï¼ŒStream ä¼šéšå¼åœ°åœ¨å†…éƒ¨è¿›è¡ŒéåŽ†ï¼Œåšå‡ºç›¸åº”çš„æ•°æ®è½¬æ¢ã€‚ Stream å°±å¦‚åŒä¸€ä¸ªè¿­ä»£å™¨ï¼ˆIteratorï¼‰ï¼Œå•å‘ï¼Œä¸å¯å¾€å¤ï¼Œæ•°æ®åªèƒ½éåŽ†ä¸€æ¬¡ï¼ŒéåŽ†è¿‡ä¸€æ¬¡åŽå³ç”¨å°½äº†ï¼Œå°±å¥½æ¯”æµæ°´ä»Žé¢å‰æµè¿‡ï¼Œä¸€åŽ»ä¸å¤è¿”ã€‚ è€Œå’Œè¿­ä»£å™¨åˆä¸åŒçš„æ˜¯ï¼ŒStream å¯ä»¥å¹¶è¡ŒåŒ–æ“ä½œï¼Œè¿­ä»£å™¨åªèƒ½å‘½ä»¤å¼åœ°ã€ä¸²è¡ŒåŒ–æ“ä½œã€‚é¡¾åæ€ä¹‰ï¼Œå½“ä½¿ç”¨ä¸²è¡Œæ–¹å¼åŽ»éåŽ†æ—¶ï¼Œæ¯ä¸ª item è¯»å®ŒåŽå†è¯»ä¸‹ä¸€ä¸ª itemã€‚è€Œä½¿ç”¨å¹¶è¡ŒåŽ»éåŽ†æ—¶ï¼Œæ•°æ®ä¼šè¢«åˆ†æˆå¤šä¸ªæ®µï¼Œå…¶ä¸­æ¯ä¸€ä¸ªéƒ½åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­å¤„ç†ï¼Œç„¶åŽå°†ç»“æžœä¸€èµ·è¾“å‡ºã€‚Stream çš„å¹¶è¡Œæ“ä½œä¾èµ–äºŽ Java7 ä¸­å¼•å…¥çš„ Fork/Join æ¡†æž¶ï¼ˆJSR166yï¼‰æ¥æ‹†åˆ†ä»»åŠ¡å’ŒåŠ é€Ÿå¤„ç†è¿‡ç¨‹ ç®€å•è¯´ï¼Œå¯¹ Stream çš„ä½¿ç”¨å°±æ˜¯å®žçŽ°ä¸€ä¸ª filter-map-reduce è¿‡ç¨‹ï¼Œäº§ç”Ÿä¸€ä¸ªæœ€ç»ˆç»“æžœï¼Œæˆ–è€…å¯¼è‡´ä¸€ä¸ªå‰¯ä½œç”¨ï¼ˆside effectï¼‰ã€‚ ï¼ˆä»¥ä¸‹ä¸ºä¸ªäººç†è§£ï¼‰ ç›¸å¯¹äºŽJavaä¸­çš„Streamæµï¼ŒJavaä¸­ä¹Ÿæœ‰ï¼Œæ¯”å¦‚Array.reduce(),Array.foreach()ç­‰ï¼Œé€šè¿‡å›žè°ƒå‡½æ•°çš„æ–¹å¼è¿›è¡Œï¼Œ å¼‚æˆ–|=ï¼šä¸¤ä¸ªäºŒè¿›åˆ¶å¯¹åº”ä½éƒ½ä¸º0æ—¶ï¼Œç»“æžœç­‰äºŽ0ï¼Œå¦åˆ™ç»“æžœç­‰äºŽ1ï¼› &amp;=ï¼šä¸¤ä¸ªäºŒè¿›åˆ¶çš„å¯¹åº”ä½éƒ½ä¸º1æ—¶ï¼Œç»“æžœä¸º1ï¼Œå¦åˆ™ç»“æžœç­‰äºŽ0ï¼› ^=ï¼šä¸¤ä¸ªäºŒè¿›åˆ¶çš„å¯¹åº”ä½ç›¸åŒï¼Œç»“æžœä¸º0ï¼Œå¦åˆ™ç»“æžœä¸º1ã€‚ å¯¹äºŽè¿™é“é¢˜æ¥è¯´ï¼Œ[2,2,1] ç¬¬é›¶æ¬¡éåŽ†ï¼šinit res=0,é¢˜ç›®è¦æ±‚æ‰¾å‡ºå‡ºçŽ°ä¸€æ¬¡çš„æ•°ï¼Œæ‰€ä»¥è¿™ä¸ªæ•°è‚¯å®šå­˜åœ¨ ç¬¬ä¸€æ¬¡éåŽ†ï¼šres=2 ç¬¬äºŒæ¬¡éåŽ†ï¼šres=0ï¼Œå› ä¸ºres^=2ï¼ˆå³res=res^2ï¼‰ ç¬¬ä¸‰æ¬¡éåŽ†ï¼šres=1ç»“æŸéåŽ† ç»¼ä¸Šï¼šå¸¸ç”¨^= ä»¥åŠ&gt;&gt;ä½è¿ç®—ç¬¦ï¼ŒCçº§åˆ«çš„æ€§èƒ½ Solution å¯¹äºŽå¼‚æˆ–æ–¹æ³•ï¼ˆ0msï¼‰ 12345678910class Solution &#123; public int singleNumber(int[] nums) &#123; int result = 0; for (int n : nums) &#123; result ^= n; &#125; return result; &#125;&#125; è‡ªå·±çš„æ–¹æ³•å°±ä¸è´´äº†ã€‚ã€‚==æ„Ÿè§‰å¥½è ¢==å†™äº†åŠå¤©ã€‚ Problem Move ZeroesGiven an array nums, write a function to move all 0â€˜s to the end of it while maintaining the relative order of the non-zero elements. Example: 12Input: [0,1,0,3,12]Output: [1,3,12,0,0] Note: You must do this in-place without making a copy of the array. Minimize the total number of operations. Solutionç¬¬ä¸€ç‰ˆï¼š 123456789101112class Solution &#123; public void moveZeroes(int[] nums) &#123; for(int i=0;i&lt;nums.length;i++)&#123; if(nums[i]==0)&#123; for(int j=i;j&lt;nums.length-1;j++)&#123; nums[j]=nums[j+1]; &#125; nums[nums.length-1]=0; &#125; &#125; &#125;&#125; åŽŸæœ¬æ ¹æ®é¢˜ç›®çš„æ„æ€ï¼Œæƒ³æ³•å°±æ˜¯æ‰¾åˆ°ä¸€ä¸ª0ï¼Œæ•´ä½“å¾€å‰ç§»åŠ¨ä¸€ä½ï¼Œä¸€æŠŠæ¢­ï¼Œä½†å†™å®Œå‘çŽ°ï¼Œæœ¬èº«æ²¡æœ‰å¿…è¦æ•´ä½“å‰ç§»ï¼Œå› ä¸ºæˆ‘çš„åˆ¤æ–­æ˜¯num[i]æ˜¯ä¸æ˜¯ä¸º0ï¼Œæ‰€ä»¥åªéœ€è¦å°†0çš„ä¸ªæ•°è®°å½•ä¸‹æ¥ï¼Œéž0çš„å…ƒç´ å‰ç§»ï¼Œæœ€åŽè¡¥0å°±å¯ä»¥äº† ç¬¬äºŒç‰ˆ 1234567891011121314class Solution &#123; public void moveZeroes(int[] nums) &#123; if (nums &#x3D;&#x3D; null || nums.length &#x3D;&#x3D; 0) return; int insertPos &#x3D; 0; for (int num: nums) &#123; if (num !&#x3D; 0) nums[insertPos++] &#x3D; num; &#125; while (insertPos &lt; nums.length) &#123; nums[insertPos++] &#x3D; 0; &#125; &#125;&#125; Problem Best Time to Buy and Sell Stock IISay you have an array for which the ith element is the price of a given stock on day i. Design an algorithm to find the maximum profit. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times). Note: You may not engage in multiple transactions at the same time (i.e., you must sell the stock before you buy again). Example 1: Input: [7,1,5,3,6,4]Output: 7Explanation: Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4. Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3.Example 2: Input: [1,2,3,4,5]Output: 4Explanation: Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4. Note that you cannot buy on day 1, buy on day 2 and sell them later, as you are engaging multiple transactions at the same time. You must sell before buying again.Example 3: Input: [7,6,4,3,1]Output: 0Explanation: In this case, no transaction is done, i.e. max profit = 0. keyé¢˜ç›®èŽ·å–æœ€å¤§åˆ©æ¶¦ï¼Œæœ¬ä»¥ä¸ºæ˜¯é€šè¿‡åŠ¨æ€è§„åˆ’DPæ¥åšï¼Œä½†æ˜¯ä»”ç»†ä¸€æƒ³ï¼Œå·®å€¼å°±èƒ½è§£å†³é—®é¢˜1234567891011class Solution &#123; public int maxProfit(int[] prices) &#123; int res &#x3D; 0; for (int i &#x3D; 0; i &lt; prices.length - 1; ++i) &#123; if (prices[i] &lt; prices[i + 1]) &#123; res +&#x3D; prices[i + 1] - prices[i]; &#125; &#125; return res; &#125;&#125; Problem happy NumberWrite an algorithm to determine if a number is â€œhappyâ€. A happy number is a number defined by the following process: Starting with any positive integer, replace the number by the sum of the squares of its digits, and repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1. Those numbers for which this process ends in 1 are happy numbers. Example: 1234567Input: 19Output: trueExplanation: 12 + 92 &#x3D; 8282 + 22 &#x3D; 6862 + 82 &#x3D; 10012 + 02 + 02 &#x3D; 1 Solutionç¬¬ä¸€ç‰ˆ 123456789101112131415161718class Solution &#123; public boolean isHappy(int n) &#123; int sum &#x3D;0; while (sum !&#x3D; 1) &#123; if(sum!&#x3D;0)&#123; n&#x3D;sum;sum&#x3D;0; &#125; while (n &gt; 0) &#123; int t &#x3D; n % 10; sum +&#x3D; t * t; n &#x2F;&#x3D; 10; &#125; if(sum&#x3D;&#x3D;0)return false; &#125; return true; &#125;&#125; å…¶å®žå†™å®Œè¿™ä¸ªæ¡†æž¶æˆ‘å°±æƒ³èµ·æ¥äº†ï¼Œå¯èƒ½åœ¨è®¡ç®—ä¸Šå­˜åœ¨æ­»å¾ªçŽ¯ï¼Œå°±æ¯”å¦‚ å¦‚æžœè¿™æ ·çš„é¢˜ç›®å°±è¿›å…¥äº†æ­»å¾ªçŽ¯ï¼Œæ‰€ä»¥å¹²è„†ç›´æŽ¥é€šè¿‡hashsetçš„æ–¹å¼è¿›è¡Œè¿‡æ»¤ æ·»åŠ äº† 12345if(set.contains(sum))&#123; return false;&#125;else&#123; set.add(sum);&#125; æ•´ä½“ä»£ç å¦‚ä¸‹ï¼š Runtime: 5 ms, faster than 9.41% of Java online submissions for Happy Number. 12345678910111213141516171819202122public boolean isHappy(int n) &#123; Set&lt;Integer&gt; set = new HashSet&lt;&gt;(); int sum =0; while (sum != 1) &#123; if(sum!=0)&#123; n=sum;sum=0; &#125; while (n &gt; 0) &#123; int t = n % 10; sum += t * t; n /= 10; &#125; if(sum==0)return false; if(set.contains(sum))&#123; return false; &#125;else&#123; set.add(sum); &#125; &#125; return true;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UniqueBinarySearchTrees]]></title>
    <url>%2F2020%2F03%2F22%2F2020-03-22-UniqueBinarySearchTrees%2F</url>
    <content type="text"><![CDATA[Problem 96Given n, how many structurally unique BSTâ€™s (binary search trees) that store values 1 â€¦ n? Example: 12345678910Input: 3Output: 5Explanation:Given n &#x3D; 3, there are a total of 5 unique BST&#39;s: 1 3 3 2 1 \ &#x2F; &#x2F; &#x2F; \ \ 3 2 1 1 3 2 &#x2F; &#x2F; \ \ 2 1 2 3 Solutioné¢˜ç›®å…¶å®žç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œç»™å‡º1~nï¼Œç»™å‡ºèƒ½å¤Ÿæˆçš„BSTçš„æ•°ç›®ï¼Œé¢˜ç›®ä¸€å¼€å§‹çš„æƒ³æ³•æ˜¯ç”¨1~nåŽ»ç”ŸæˆBSTï¼Œçœ‹ä¸€ä¸‹æœ‰å¤šå°‘ç§æƒ…å†µï¼Œç„¶åŽåšäº†å¾ˆå¤šæ— ç”¨åŠŸ=.= è¶Šå†™è¶Šä¸å¯¹åŠ²åŽæ¥æŸ¥äº†ä¸€ä¸‹ï¼Œè¿™é“é¢˜æ˜¯æœ‰æ•°å­¦è§„å¾‹çš„ BSTæœ‰å‡ ä¸ªç‰¹ç‚¹ ä¸­åºéåŽ†ä¾æ¬¡å¢žï¼ˆå¤§äºŽç­‰äºŽï¼‰ å·¦å³è‡ªè¿°ä¹Ÿæ˜¯BSTï¼ˆrecursionï¼‰ æ‰€ä»¥åœ¨iä½œä¸ºæ ¹èŠ‚ç‚¹æ—¶ï¼Œå·¦å­æ ‘i-1ä¸ªèŠ‚ç‚¹ï¼Œå³å­æ ‘n-iä¸ªèŠ‚ç‚¹ æ•°å­¦çš„æ€æƒ³åœ¨äºŽå”¯ä¸€äºŒå‰æ ‘çš„ä¸ªæ•°ä¸ºå·¦å­æ ‘ç»“ç‚¹çš„ä¸ªæ•°ä¹˜ä»¥å³å­æ ‘çš„ä¸ªæ•°ã€‚è€Œæ ¹èŠ‚ç‚¹å¯ä»¥ä»Ž1åˆ°n ä¸­é€‰æ‹©ï¼Œæ‰€ä»¥æœ‰ for(int i=1;i&lt;=n;++i) sum+=numTrees(i-1)*numTrees(n-i); å†åŠ ä¸Šè¾¹é™…æŽ§åˆ¶n&lt;=1â€“&gt;sum=1 å°±æœ‰äº†è§£é¢˜çš„ä»£ç ï¼š 12345678910class Solution &#123; public int numTrees(int n) &#123; if(n&lt;=1) return 1; int sum=0; for(int i=1;i&lt;=n;++i) sum+=numTrees(i-1)*numTrees(n-i); return sum; &#125;&#125; Solution 95 Unique Binary Search Trees IIä¸‡å¹¸ï¼Œè‡ªå·±æŠ˜è…¾çš„ç”ŸæˆBSTçš„ä»£ç æ²¡ç™½å†™ Given an integer n, generate all structurally unique BSTâ€™s (binary search trees) that store values 1 â€¦ n. Example: 1234567891011121314151617Input: 3Output:[ [1,null,3,2], [3,2,null,1], [3,1,null,null,2], [2,1,3], [1,null,2,null,3]]Explanation:The above output corresponds to the 5 unique BST&#39;s shown below: 1 3 3 2 1 \ &#x2F; &#x2F; &#x2F; \ \ 3 2 1 1 3 2 &#x2F; &#x2F; \ \ 2 1 2 3 çœ‹é¢˜ç›®æ˜¯å‰åºéåŽ†,æˆ‘ä»¬ä»Žä¸Šå‘ä¸‹æŸ¥æ‰¾ï¼Œå¤–é¢ä¸€å±‚å¤§å¾ªçŽ¯éåŽ†æ ¹èŠ‚ç‚¹ for(int i=start ;i&lt;=end;i++){} ç¡®å®šäº†ièŠ‚ç‚¹åŽå¯ä»¥é€šè¿‡é€’å½’å†™å‡ºæ ¹èŠ‚ç‚¹içš„æƒ…å†µä¸‹çš„å·¦å³å­æ ‘ List leftChild = recursion(start, i - 1); List rightChild = recursion(i + 1, end); ç„¶åŽéåŽ†å·¦å³å­æ ‘çš„æ¯ä¸ªå…ƒç´ ï¼Œä¸¤å±‚forå¾ªçŽ¯åµŒå¥— for(TreeNode left : leftChild) { for(TreeNode right : rightChild) { TreeNode root = new TreeNode(i); root.left = left; root.right = right; res.add(root); } } å¾—åˆ°æœ€åŽçš„resè¿›è¡Œè¿”å›žï¼Œä»¥åŠå¤„ç†ä¸€ä¸‹start&gt;endçš„è¾¹é™…æ¡ä»¶å°±å®Œæˆäº† 123456789101112131415161718192021222324252627282930313233343536/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public List&lt;TreeNode&gt; generateTrees(int n) &#123; if(n &lt; 1) return new ArrayList&lt;TreeNode&gt;(); return recursion(1, n); &#125; public List&lt;TreeNode&gt; recursion(int start,int end)&#123; List&lt;TreeNode&gt; res = new ArrayList(); if(start &gt; end) &#123; res.add(null); return res; &#125; for(int i = start;i&lt;=end;i++)&#123; List&lt;TreeNode&gt; leftChild = recursion(start, i - 1); List&lt;TreeNode&gt; rightChild = recursion(i + 1, end); for(TreeNode left : leftChild) &#123; for(TreeNode right : rightChild) &#123; TreeNode root = new TreeNode(i); root.left = left; root.right = right; res.add(root); &#125; &#125; &#125; return res; &#125;&#125; é—®é¢˜å½“æ—¶å¡åœ¨ List leftChild = recursion(start, i - 1);List rightChild = recursion(i + 1, end); å½“ç„¶é‡‡ç”¨recursionè™½ç„¶ç®€æ´æ˜“æ‡‚ï¼Œä½†ä¸¤æ¡é¢˜ç›®çš„å¤æ‚åº¦éƒ½ç›¸å¯¹è¾ƒé«˜ï¼Œæ˜¯é€’å½’çš„åŽ‹æ ˆé€ æˆçš„ï¼Œå¾ˆå¤šå¯èƒ½ç›¸åŒç‚¹çš„åœ°æ–¹å¯èƒ½è®¡ç®—äº†ä¸¤éï¼Œå¯¼è‡´äº†ä¸¤é“é¢˜ç›®éƒ½æ˜¯æ‰“è´¥äº†5%çš„solutionï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡dp(æ¥è‡ªLeetCode)çš„æ–¹å¼æ¥è¿›è¡Œå®Œæˆ 12345678910111213141516171819202122232425262728293031323334class Solution &#123; public List&lt;TreeNode&gt; generateTrees(int n) &#123; if(n == 0) return new ArrayList&lt;&gt;(); List&lt;TreeNode&gt;[][] dp = new ArrayList[n][n]; return helper(1, n, dp); &#125; private List&lt;TreeNode&gt; helper(int start, int end, List&lt;TreeNode&gt;[][] dp)&#123; List&lt;TreeNode&gt; res = new ArrayList&lt;&gt;(); if(start &gt; end)&#123; res.add(null); return res; &#125; if(dp[start - 1][end - 1] != null &amp;&amp; !dp[start - 1][end - 1].isEmpty())&#123; return dp[start - 1][end - 1]; &#125; for (int i = start ; i &lt;= end ; i++) &#123; List&lt;TreeNode&gt; left = helper(start, i - 1, dp); List&lt;TreeNode&gt; right = helper(i + 1, end, dp); for(TreeNode a : left)&#123; for(TreeNode b : right)&#123; TreeNode node = new TreeNode(i); node.left = a; node.right = b; res.add(node); &#125; &#125; &#125; return dp[start - 1][end - 1] = res; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[QUIC]]></title>
    <url>%2F2020%2F03%2F16%2F2020-03-16-QUIC%2F</url>
    <content type="text"><![CDATA[Whatå¿«é€ŸUDPç½‘ç»œè¿žæŽ¥ï¼ˆQuick UDP Internet Connectionsï¼ŒQUICï¼‰ æ˜¯ä¸€ç§å®žéªŒæ€§çš„ä¼ è¾“å±‚ç½‘ç»œä¼ è¾“åè®®ï¼Œç”±Googleå¼€å‘ï¼Œåœ¨2013å¹´å®žçŽ°ã€‚QUICä½¿ç”¨UDPåè®®ï¼Œå®ƒåœ¨ä¸¤ä¸ªç«¯ç‚¹é—´åˆ›å»ºè¿žçº¿ï¼Œä¸”æ”¯æŒå¤šè·¯å¤ç”¨è¿žçº¿ã€‚åœ¨è®¾è®¡ä¹‹åˆï¼ŒQUICå¸Œæœ›èƒ½å¤Ÿæä¾›ç­‰åŒäºŽSSL/TLSå±‚çº§çš„ç½‘ç»œå®‰å…¨ä¿æŠ¤ï¼Œå‡å°‘æ•°æ®ä¼ è¾“åŠåˆ›å»ºè¿žçº¿æ—¶çš„å»¶è¿Ÿæ—¶é—´ï¼ŒåŒå‘æŽ§åˆ¶å¸¦å®½ï¼Œä»¥é¿å…ç½‘ç»œæ‹¥å¡žã€‚Googleå¸Œæœ›ä½¿ç”¨è¿™ä¸ªåè®®æ¥å–ä»£TCPåè®®ï¼Œä½¿ç½‘é¡µä¼ è¾“é€Ÿåº¦åŠ å¿«ã€‚2018å¹´10æœˆï¼ŒIETFçš„HTTPåŠQUICå·¥ä½œå°ç»„æ­£å¼å°†åŸºäºŽQUICåè®®çš„HTTPï¼ˆHTTP over QUICï¼‰é‡å‘½åä¸ºHTTP/3ä»¥ä¸ºç¡®ç«‹ä¸‹ä¸€ä»£è§„èŒƒåšå‡†å¤‡ã€‚ Featurecompared with HTTP2+TCP+TLS æ— TCPæ¡æ‰‹åŠTLSæ¡æ‰‹â€“&gt;å¿« æ”¹è¿›çš„æ‹¥å¡žæŽ§åˆ¶ é¿å…é˜Ÿå¤´é˜»å¡žçš„å¤šè·¯å¤ç”¨ å‰å‘å†—ä½™çº é”™ Reason ä¸­é—´è®¾å¤‡åƒµåŒ–ï¼ˆé˜²ç«å¢™ï¼ŒNATç­‰ç¡¬ä»¶è®¾å¤‡å›ºè¯443ï¼Œ80ç«¯å£ï¼ŒNATæ“¦å†™åœ°å€ï¼ŒæŠ›å¼ƒä¸è®¤è¯†çš„é€‰é¡¹å­—æ®µç­‰æ—§è§„åˆ™ï¼‰ ä¾èµ–æ“ä½œç³»ç»Ÿå®žçŽ°å¯¼è‡´çš„åè®®åƒµåŒ–ï¼ˆä¾èµ–åº•å±‚TCPå¾ˆéš¾å¿«è¿­ä»£ï¼‰ å»ºç«‹è¿žæŽ¥çš„æ¡æ‰‹å»¶è¿Ÿå¤§ï¼ˆHTTPS/2 use TSL ä½¿å¾—TCPï¼ŒTLSæ¡æ‰‹æ—¶é—´è¾ƒé•¿ï¼‰ é˜Ÿå¤´é˜»å¡žï¼ˆåºå·é¡ºåºæŽ¥å—ï¼Œå‰é¢ä¸¢äº†åŽé¢æŽ¥å—ç›´æŽ¥ä¸¢å¼ƒï¼‰ WhyRTT0RTT (0æ¬¡Round-Trip Time,0æ¬¡å¾€è¿”)å»ºè¿žå¯ä»¥è¯´æ˜¯ QUIC ç›¸æ¯” HTTP2 æœ€å¤§çš„æ€§èƒ½ä¼˜åŠ¿ã€‚é‚£ä»€ä¹ˆæ˜¯ 0RTT å»ºè¿žå‘¢ï¼Ÿè¿™é‡Œé¢æœ‰ä¸¤å±‚å«ä¹‰ã€‚ ä¼ è¾“å±‚ 0RTT å°±èƒ½å»ºç«‹è¿žæŽ¥ã€‚ åŠ å¯†å±‚ 0RTT å°±èƒ½å»ºç«‹åŠ å¯†è¿žæŽ¥ã€‚ ä¸€ä¸ªå®Œæ•´çš„ TLS æ¡æ‰‹éœ€è¦ä¸¤æ¬¡ï¼š Client å‘é€ ClientHelloï¼›Server å›žå¤ ServerHello Client å›žå¤æœ€ç»ˆç¡®å®šçš„ Keyï¼ŒFinishedï¼›Server å›žå¤ Finished æ¡æ‰‹å®Œæ¯•ï¼ŒClient å‘é€åŠ å¯†åŽçš„ HTTP è¯·æ±‚ï¼›Server å›žå¤åŠ å¯†åŽçš„ HTTP å“åº” TLS Session Resumption Client å‘é€ ClientHelloï¼ˆåŒ…å« Session IDï¼‰ï¼›Server å›žå¤ ServerHello å’Œ Finished æ¡æ‰‹å®Œæ¯•ï¼ŒClient å‘é€åŠ å¯†åŽçš„ HTTP è¯·æ±‚ï¼›Server å›žå¤åŠ å¯†åŽçš„ HTTP å“åº” TLS 0RTT 0 RTT æ˜¯ TLSv1.3 çš„å¯é€‰åŠŸèƒ½ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç¬¬ä¸€æ¬¡å»ºç«‹ä¼šè¯æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ª PSKï¼ˆpre-shared keyï¼‰ã€‚æœåŠ¡å™¨ä¼šç”¨ ticket key åŽ»åŠ å¯† PSKï¼Œä½œä¸º Session Ticket è¿”å›žã€‚ å®¢æˆ·ç«¯å†æ¬¡å’ŒæœåŠ¡å™¨å»ºç«‹ä¼šè¯æ—¶ï¼Œä¼šå…ˆç”¨ PSK åŽ»åŠ å¯† HTTP è¯·æ±‚ï¼Œç„¶åŽæŠŠåŠ å¯†åŽçš„å†…å®¹å‘ç»™æœåŠ¡å™¨ã€‚æœåŠ¡å™¨è§£å¯† PSKï¼Œç„¶åŽå†ç”¨ PSK åŽ»è§£å¯† HTTP è¯·æ±‚ï¼Œå¹¶åŠ å¯† HTTP å“åº”ã€‚ HTTPS æ¡æ‰‹å·²ç»è·Ÿ HTTP è¯·æ±‚åˆå¹¶åˆ°ä¸€èµ· â€‹ 1.Client å‘é€ ClientHelloï¼ˆåŒ…å« PSKï¼‰å’ŒåŠ å¯†åŽçš„ HTTP è¯·æ±‚ï¼›Server å›žå¤ ServerHello å’Œ Finished å’ŒåŠ å¯†åŽçš„ HTTP å“åº”ã€‚ congestion controlTCPé‡‡ç”¨äº† æ…¢å¯åŠ¨ æ‹¥å¡žé¿å… å¿«é‡ä¼  å¿«æ¢å¤ QUCIé»˜è®¤æ”¯æŒCubicï¼Œå¦å¤–æ”¯æŒCubicBytes,Reno,RenoBytes,BBR,PCC Pluggableå¯æ’æ‹”ï¼Œå³çµæ´»ç”Ÿæ•ˆä¸éœ€è¦é‡å¯æˆ–æ”¹å˜åº•å±‚ åº”ç”¨å±‚å®žçŽ°ä¸åŒçš„æ‹¥å¡žæŽ§åˆ¶ç®—æ³•ï¼Œä¸éœ€è¦åº•å±‚æ”¯æŒ å•ä¸ªåº”ç”¨ç¨‹åºçš„ä¸åŒè¿žæŽ¥æ”¯æŒä¸åŒçš„æ‹¥å¡žæŽ§åˆ¶ï¼Œå¦‚BBRï¼ŒCubic åº”ç”¨ç¨‹åºæ— éœ€å˜åŠ¨ç›´æŽ¥å˜æ›´æ‹¥å¡žæŽ§åˆ¶ï¼Œreloadç”Ÿæ•ˆ STGWåœ¨é…ç½®å±‚é¢è¿›è¡Œäº†ä¼˜åŒ–ï¼Œé’ˆå¯¹ä¸åŒä¸šåŠ¡ï¼Œä¸åŒç½‘ç»œèŠå£«ï¼Œä¸åŒRTTï¼Œä½¿ç”¨ä¸åŒæ‹¥å¡žæŽ§åˆ¶ å•é€’å¢žçš„Packet Numberä¸ºäº†ä¿éšœTCPçš„å¯é æ€§ï¼Œä½¿ç”¨Seqï¼ˆsequenceNumber åºå·ï¼‰å’Œackæ¥ç¡®è®¤,Nä¸¢å¤±ï¼Œé‡ä¼ Nï¼ˆé—®é¢˜ï¼šNå¦‚æžœé‡ä¼ ä¸¤æ¬¡ï¼Œæ”¶åˆ°ä¸€ä¸ªACKï¼Œä¸çŸ¥é“æ˜¯å“ªä¸ªçš„ACKï¼‰ QUICä½¿ç”¨PacketNumberä»£æ›¿seqï¼Œå¹¶ä¸”packetnumberä¸¥æ ¼é€’å¢žï¼Œä¹Ÿå°±æ˜¯è¯´å°±ç®— Packet N ä¸¢å¤±äº†ï¼Œé‡ä¼ çš„ Packet N çš„ Packet Number å·²ç»ä¸æ˜¯ Nï¼Œè€Œæ˜¯ä¸€ä¸ªæ¯” N å¤§çš„å€¼,å¦å¤–æ”¯æŒStream offsetæ›´å¥½æ”¯æŒå¤šä¸ªpacketä¼ è¾“ ä¸å…è®¸Renegingrenegingï¼šTCPé€šä¿¡æ—¶ï¼Œå¦‚æžœå‘é€åºåˆ—ä¸­é—´æŸä¸ªæ•°æ®åŒ…ä¸¢å¤±ï¼ŒTCPä¼šé€šè¿‡é‡ä¼ æœ€åŽç¡®è®¤çš„åŒ…å¼€å§‹çš„åŽç»­åŒ…ï¼Œè¿™æ ·åŽŸå…ˆå·²ç»æ­£ç¡®ä¼ è¾“çš„åŒ…ä¹Ÿå¯èƒ½é‡å¤å‘é€ï¼Œæ€¥å‰§é™ä½Žäº†TCPæ€§èƒ½ã€‚ ä¸ºæ”¹å–„è¿™ç§æƒ…å†µï¼Œå‘å±•å‡ºSACK(Selective Acknowledgment, é€‰æ‹©æ€§ç¡®è®¤)æŠ€æœ¯ï¼Œä½¿TCPåªé‡æ–°å‘é€ä¸¢å¤±çš„åŒ…ï¼Œä¸ç”¨å‘é€åŽç»­æ‰€æœ‰çš„åŒ…ï¼Œè€Œä¸”æä¾›ç›¸åº”æœºåˆ¶ä½¿æŽ¥æ”¶æ–¹èƒ½å‘Šè¯‰å‘é€æ–¹å“ªäº›æ•°æ®ä¸¢å¤±ï¼Œå“ªäº›æ•°æ®é‡å‘äº†ï¼Œå“ªäº›æ•°æ®å·²ç»æå‰æ”¶åˆ°ç­‰ QUICç¦æ­¢reneging æ›´å¤šçš„ackå—TCP çš„ Sack é€‰é¡¹èƒ½å¤Ÿå‘Šè¯‰å‘é€æ–¹å·²ç»æŽ¥æ”¶åˆ°çš„è¿žç»­ Segment çš„èŒƒå›´ï¼Œæ–¹ä¾¿å‘é€æ–¹è¿›è¡Œé€‰æ‹©æ€§é‡ä¼ ã€‚ ç”±äºŽ TCP å¤´éƒ¨æœ€å¤§åªæœ‰ 60 ä¸ªå­—èŠ‚ï¼Œæ ‡å‡†å¤´éƒ¨å ç”¨äº† 20 å­—èŠ‚ï¼Œæ‰€ä»¥ Tcp Option æœ€å¤§é•¿åº¦åªæœ‰ 40 å­—èŠ‚ï¼Œå†åŠ ä¸Š Tcp Timestamp option å ç”¨äº† 10 ä¸ªå­—èŠ‚ [25]ï¼Œæ‰€ä»¥ç•™ç»™ Sack é€‰é¡¹çš„åªæœ‰ 30 ä¸ªå­—èŠ‚ã€‚ æ¯ä¸€ä¸ª Sack Block çš„é•¿åº¦æ˜¯ 8 ä¸ªï¼ŒåŠ ä¸Š Sack Option å¤´éƒ¨ 2 ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ„å‘³ç€ Tcp Sack Option æœ€å¤§åªèƒ½æä¾› 3 ä¸ª Blockã€‚ ä½†æ˜¯ Quic Ack Frame å¯ä»¥åŒæ—¶æä¾› 256 ä¸ª Ack Blockï¼Œåœ¨ä¸¢åŒ…çŽ‡æ¯”è¾ƒé«˜çš„ç½‘ç»œä¸‹ï¼Œæ›´å¤šçš„ Sack Block å¯ä»¥æå‡ç½‘ç»œçš„æ¢å¤é€Ÿåº¦ï¼Œå‡å°‘é‡ä¼ é‡ã€‚ ack delayæ—¶é—´æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åˆ°å“åº”çš„è¿‡ç¨‹æ—¶é—´æˆä¸ºack delay,QUICçš„RTTéœ€è¦å‡æŽ‰ack delayï¼ˆè®¡ç®—æˆ‘æ˜¯æ²¡çœ‹æ‡‚ã€‚ã€‚ã€‚ï¼‰ åŸºäºŽstreamå’Œconnectionçº§åˆ«çš„æµé‡æŽ§åˆ¶ä½œç”¨ï¼š streamå¯ä»¥è®¤ä¸ºæ˜¯ä¸€æ¡HTTPè¯·æ±‚ Connectionå¯ä»¥ç±»æ¯”ä¸€æ¡TCPè¿žæŽ¥ï¼Œåœ¨connectionä¸Šå­˜åœ¨å¤šæ¡stream tcpæ‰¿è½½å¤šä¸ªhttpè¯·æ±‚ window_updateå‘Šè¯‰å¯¹æ–¹è‡ªå·±æŽ¥å—çš„å­—èŠ‚æ•° blockFrameå‘Šè¯‰å¯¹æ–¹ç”±äºŽæµé‡æŽ§åˆ¶è¢«é˜»å¡žï¼Œæ— æ³•å‘é€æ•°æ® streamå¯ç”¨çª—å£=æœ€å¤§çª—å£æ•°-æ”¶åˆ°çš„æœ€å¤§åç§»æ•° connectionå¯ç”¨çª—å£=$\sum$streamså¯ç”¨çª—å£ æ²¡æœ‰é˜Ÿå¤´é˜»å¡žçš„å¤šè·¯å¤ç”¨QUIC çš„å¤šè·¯å¤ç”¨å’Œ HTTP2 ç±»ä¼¼ã€‚åœ¨ä¸€æ¡ QUIC è¿žæŽ¥ä¸Šå¯ä»¥å¹¶å‘å‘é€å¤šä¸ª HTTP è¯·æ±‚ (stream)ã€‚ä½†æ˜¯ QUIC çš„å¤šè·¯å¤ç”¨ç›¸æ¯” HTTP2 æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿ã€‚ QUIC ä¸€ä¸ªè¿žæŽ¥ä¸Šçš„å¤šä¸ª stream ä¹‹é—´æ²¡æœ‰ä¾èµ–ã€‚è¿™æ ·å‡å¦‚ stream2 ä¸¢äº†ä¸€ä¸ª udp packetï¼Œä¹Ÿåªä¼šå½±å“ stream2 çš„å¤„ç†ã€‚ä¸ä¼šå½±å“ stream2 ä¹‹å‰åŠä¹‹åŽçš„ stream çš„å¤„ç†ã€‚ è¿™ä¹Ÿå°±åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šç¼“è§£ç”šè‡³æ¶ˆé™¤äº†é˜Ÿå¤´é˜»å¡žçš„å½±å“ã€‚ HTTP2 åœ¨ä¸€ä¸ª TCP è¿žæŽ¥ä¸ŠåŒæ—¶å‘é€ 4 ä¸ª Streamã€‚å…¶ä¸­ Stream1 å·²ç»æ­£ç¡®åˆ°è¾¾ï¼Œå¹¶è¢«åº”ç”¨å±‚è¯»å–ã€‚ä½†æ˜¯ Stream2 çš„ç¬¬ä¸‰ä¸ª tcp segment ä¸¢å¤±äº†ï¼ŒTCP ä¸ºäº†ä¿è¯æ•°æ®çš„å¯é æ€§ï¼Œéœ€è¦å‘é€ç«¯é‡ä¼ ç¬¬ 3 ä¸ª segment æ‰èƒ½é€šçŸ¥åº”ç”¨å±‚è¯»å–æŽ¥ä¸‹åŽ»çš„æ•°æ®ï¼Œè™½ç„¶è¿™ä¸ªæ—¶å€™ Stream3 å’Œ Stream4 çš„å…¨éƒ¨æ•°æ®å·²ç»åˆ°è¾¾äº†æŽ¥æ”¶ç«¯ï¼Œä½†éƒ½è¢«é˜»å¡žä½äº†ã€‚ ä¸ä»…å¦‚æ­¤ï¼Œç”±äºŽ HTTP2 å¼ºåˆ¶ä½¿ç”¨ TLSï¼Œè¿˜å­˜åœ¨ä¸€ä¸ª TLS åè®®å±‚é¢çš„é˜Ÿå¤´é˜»å¡ž Record æ˜¯ TLS åè®®å¤„ç†çš„æœ€å°å•ä½ï¼Œæœ€å¤§ä¸èƒ½è¶…è¿‡ 16Kï¼Œä¸€äº›æœåŠ¡å™¨æ¯”å¦‚ Nginx é»˜è®¤çš„å¤§å°å°±æ˜¯ 16Kã€‚ç”±äºŽä¸€ä¸ª record å¿…é¡»ç»è¿‡æ•°æ®ä¸€è‡´æ€§æ ¡éªŒæ‰èƒ½è¿›è¡ŒåŠ è§£å¯†ï¼Œæ‰€ä»¥ä¸€ä¸ª 16K çš„ recordï¼Œå°±ç®—ä¸¢äº†ä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿä¼šå¯¼è‡´å·²ç»æŽ¥æ”¶åˆ°çš„ 15.99K æ•°æ®æ— æ³•å¤„ç†ï¼Œå› ä¸ºå®ƒä¸å®Œæ•´ã€‚ é‚£ QUIC å¤šè·¯å¤ç”¨ä¸ºä»€ä¹ˆèƒ½é¿å…ä¸Šè¿°é—®é¢˜å‘¢ï¼Ÿ QUIC æœ€åŸºæœ¬çš„ä¼ è¾“å•å…ƒæ˜¯ Packetï¼Œä¸ä¼šè¶…è¿‡ MTU çš„å¤§å°ï¼Œæ•´ä¸ªåŠ å¯†å’Œè®¤è¯è¿‡ç¨‹éƒ½æ˜¯åŸºäºŽ Packet çš„ï¼Œä¸ä¼šè·¨è¶Šå¤šä¸ª Packetã€‚è¿™æ ·å°±èƒ½é¿å… TLS åè®®å­˜åœ¨çš„é˜Ÿå¤´é˜»å¡žã€‚ Stream ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œæ¯”å¦‚ Stream2 ä¸¢äº†ä¸€ä¸ª Pakcetï¼Œä¸ä¼šå½±å“ Stream3 å’Œ Stream4ã€‚ä¸å­˜åœ¨ TCP é˜Ÿå¤´é˜»å¡žã€‚ å½“ç„¶ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ QUIC æ•°æ®éƒ½ä¸ä¼šå—åˆ°é˜Ÿå¤´é˜»å¡žçš„å½±å“ï¼Œæ¯”å¦‚ QUIC å½“å‰ä¹Ÿæ˜¯ä½¿ç”¨ Hpack åŽ‹ç¼©ç®—æ³• [10]ï¼Œç”±äºŽç®—æ³•çš„é™åˆ¶ï¼Œä¸¢å¤±ä¸€ä¸ªå¤´éƒ¨æ•°æ®æ—¶ï¼Œå¯èƒ½é‡åˆ°é˜Ÿå¤´é˜»å¡žã€‚ æ€»ä½“æ¥è¯´ï¼ŒQUIC åœ¨ä¼ è¾“å¤§é‡æ•°æ®æ—¶ï¼Œæ¯”å¦‚è§†é¢‘ï¼Œå—åˆ°é˜Ÿå¤´é˜»å¡žçš„å½±å“å¾ˆå°ã€‚ åŠ å¯†è®¤è¯çš„æŠ¥æ–‡TCP åè®®å¤´éƒ¨æ²¡æœ‰ç»è¿‡ä»»ä½•åŠ å¯†å’Œè®¤è¯ï¼Œæ‰€ä»¥åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å¾ˆå®¹æ˜“è¢«ä¸­é—´ç½‘ç»œè®¾å¤‡ç¯¡æ”¹ï¼Œæ³¨å…¥å’Œçªƒå¬ã€‚æ¯”å¦‚ä¿®æ”¹åºåˆ—å·ã€æ»‘åŠ¨çª—å£ã€‚è¿™äº›è¡Œä¸ºæœ‰å¯èƒ½æ˜¯å‡ºäºŽæ€§èƒ½ä¼˜åŒ–ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸»åŠ¨æ”»å‡»ã€‚ ä½†æ˜¯ QUIC çš„ packet å¯ä»¥è¯´æ˜¯æ­¦è£…åˆ°äº†ç‰™é½¿ã€‚é™¤äº†ä¸ªåˆ«æŠ¥æ–‡æ¯”å¦‚ PUBLIC_RESET å’Œ CHLOï¼Œæ‰€æœ‰æŠ¥æ–‡å¤´éƒ¨éƒ½æ˜¯ç»è¿‡è®¤è¯çš„ï¼ŒæŠ¥æ–‡ Body éƒ½æ˜¯ç»è¿‡åŠ å¯†çš„ã€‚ è¿™æ ·åªè¦å¯¹ QUIC æŠ¥æ–‡ä»»ä½•ä¿®æ”¹ï¼ŒæŽ¥æ”¶ç«¯éƒ½èƒ½å¤ŸåŠæ—¶å‘çŽ°ï¼Œæœ‰æ•ˆåœ°é™ä½Žäº†å®‰å…¨é£Žé™©ã€‚ è¿žæŽ¥è¿ç§»ä¸€æ¡ TCP è¿žæŽ¥ [17] æ˜¯ç”±å››å…ƒç»„æ ‡è¯†çš„ï¼ˆæº IPï¼Œæºç«¯å£ï¼Œç›®çš„ IPï¼Œç›®çš„ç«¯å£ï¼‰,å½“å…¶ä¸­ä»»ä½•ä¸€ä¸ªå…ƒç´ å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¿™æ¡è¿žæŽ¥ä¾ç„¶ç»´æŒç€ï¼Œèƒ½å¤Ÿä¿æŒä¸šåŠ¡é€»è¾‘ä¸ä¸­æ–­ æ¯”å¦‚å¤§å®¶ä½¿ç”¨æ‰‹æœºåœ¨ WIFI å’Œ 4G ç§»åŠ¨ç½‘ç»œåˆ‡æ¢æ—¶ï¼Œå®¢æˆ·ç«¯çš„ IP è‚¯å®šä¼šå‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦é‡æ–°å»ºç«‹å’ŒæœåŠ¡ç«¯çš„ TCP è¿žæŽ¥ã€‚ åˆæ¯”å¦‚å¤§å®¶ä½¿ç”¨å…¬å…± NAT å‡ºå£æ—¶ï¼Œæœ‰äº›è¿žæŽ¥ç«žäº‰æ—¶éœ€è¦é‡æ–°ç»‘å®šç«¯å£ï¼Œå¯¼è‡´å®¢æˆ·ç«¯çš„ç«¯å£å‘ç”Ÿå˜åŒ–ï¼ŒåŒæ ·éœ€è¦é‡æ–°å»ºç«‹ TCP è¿žæŽ¥ã€‚ é’ˆå¯¹ TCP çš„è¿žæŽ¥å˜åŒ–ï¼ŒMPTCP[5] å…¶å®žå·²ç»æœ‰äº†è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ç”±äºŽ MPTCP éœ€è¦æ“ä½œç³»ç»ŸåŠç½‘ç»œåè®®æ ˆæ”¯æŒï¼Œéƒ¨ç½²é˜»åŠ›éžå¸¸å¤§ï¼Œç›®å‰å¹¶ä¸é€‚ç”¨ã€‚ æ‰€ä»¥ä»Ž TCP è¿žæŽ¥çš„è§’åº¦æ¥è®²ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯æ— è§£çš„ã€‚ é‚£ QUIC æ˜¯å¦‚ä½•åšåˆ°è¿žæŽ¥è¿ç§»å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œä»»ä½•ä¸€æ¡ QUIC è¿žæŽ¥ä¸å†ä»¥ IP åŠç«¯å£å››å…ƒç»„æ ‡è¯†ï¼Œè€Œæ˜¯ä»¥ä¸€ä¸ª64 ä½çš„éšæœºæ•°ä½œä¸º ID æ¥æ ‡è¯†ï¼Œè¿™æ ·å°±ç®— IP æˆ–è€…ç«¯å£å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåªè¦ ID ä¸å˜ï¼Œè¿™æ¡è¿žæŽ¥ä¾ç„¶ç»´æŒç€ï¼Œä¸Šå±‚ä¸šåŠ¡é€»è¾‘æ„ŸçŸ¥ä¸åˆ°å˜åŒ–ï¼Œä¸ä¼šä¸­æ–­ï¼Œä¹Ÿå°±ä¸éœ€è¦é‡è¿žã€‚ ç”±äºŽè¿™ä¸ª ID æ˜¯å®¢æˆ·ç«¯éšæœºäº§ç”Ÿçš„ï¼Œå¹¶ä¸”é•¿åº¦æœ‰ 64 ä½ï¼Œæ‰€ä»¥å†²çªæ¦‚çŽ‡éžå¸¸ä½Žã€‚ å…¶ä»–æ­¤å¤–ï¼ŒQUIC è¿˜èƒ½å®žçŽ°å‰å‘å†—ä½™çº é”™ï¼Œåœ¨é‡è¦çš„åŒ…æ¯”å¦‚æ¡æ‰‹æ¶ˆæ¯å‘ç”Ÿä¸¢å¤±æ—¶ï¼Œèƒ½å¤Ÿæ ¹æ®å†—ä½™ä¿¡æ¯è¿˜åŽŸå‡ºæ¡æ‰‹æ¶ˆæ¯ã€‚ QUIC è¿˜èƒ½å®žçŽ°è¯ä¹¦åŽ‹ç¼©ï¼Œå‡å°‘è¯ä¹¦ä¼ è¾“é‡ï¼Œé’ˆå¯¹åŒ…å¤´è¿›è¡ŒéªŒè¯ç­‰ã€‚]]></content>
      <categories>
        <category>Introduction</category>
      </categories>
      <tags>
        <tag>QUIC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Traversal]]></title>
    <url>%2F2020%2F03%2F15%2F2020-03-15-BinaryTreeLevelOrderTraversal%2F</url>
    <content type="text"><![CDATA[Problem 102 107Given a binary tree, return the level order traversal of its nodesâ€™ values. (ie, from left to right, level by level). For example:Given binary tree [3,9,20,null,null,15,7], 12345 3 &#x2F; \9 20 &#x2F; \ 15 7 return its level order traversal as: 12345[ [3], [9,20], [15,7]] Solutionkeyï¼š å±‚åºéåŽ† é€’å½’ åœ¨Javaä¸­å¯ä»¥å…ˆå®šä¹‰ä¸€ä¸ªListä¿å­˜ç»“æžœ,Listé‡Œé¢å†åµŒå…¥ArrayListæ¥è®°å½•æ¯ä¸€å±‚çš„æ•°æ® List&lt;List&gt; res = new ArrayList&lt;&gt;(); res.add(new ArrayList&lt;&gt;()); å°†é€’å½’ä¸­çš„rootèŠ‚ç‚¹è¿½åŠ è¿›å…¥res.get(level)çš„æ•°ç»„ä¸­ res.get(level).add(root.val); é€šè¿‡é€’å½’å®Œæˆç®—æ³• travelsal(root.left,level+1);travelsal(root.right,level+1); 12345678910111213141516171819202122232425262728/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;(); public List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123; travelsal(root, 0); return res; &#125; private void travelsal(TreeNode root,int level) &#123; if(root==null)&#123; return; &#125; if(level==res.size())&#123; res.add(new ArrayList&lt;&gt;()); &#125; res.get(level).add(root.val); travelsal(root.left,level+1); travelsal(root.right,level+1); &#125;&#125; æŽ¥ä¸‹æ¥æ˜¯107ï¼Œæ˜¯102çš„å˜ç§ï¼Œæ”¹æˆäº†å¶èŠ‚ç‚¹å¼€å§‹éåŽ† difficultyï¼šEasy Given a binary tree, return the bottom-up level order traversal of its nodesâ€™ values. (ie, from left to right, level by level from leaf to root). For example:Given binary tree [3,9,20,null,null,15,7], 12345 3 &#x2F; \9 20 &#x2F; \ 15 7 return its bottom-up level order traversal as: 123456[ [15,7], [9,20], [3]] keyé¢˜ç›®æœ¬èº«æ²¡æœ‰è®¾ç½®å¤ªå¤šçš„éš¾åº¦ï¼Œæˆ‘ä»¬åªéœ€è¦å°†levelå®žçŽ°æ•°ç»„çš„å†…å±‚æ•°ç»„çš„å€’åºå°±å¯ä»¥äº† res.get(level).add(root.val); change this code to res.get(res.size()-i-1).add(root.val); åŽŸæœ¬åˆ¤æ–­æ–°å¢žæ•°ç»„çš„è¯­å¥å˜æˆåœ¨ç¬¬0ä¸ªä½ç½®æ–°å¢žä¸€ä¸ªæ•°ç»„ if(i &gt;= res.size()){ res.add(0,new ArrayList());}]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Eggæ’ä»¶åˆ°åº•å°è£…äº†å•¥]]></title>
    <url>%2F2020%2F03%2F13%2F2020-03-13-Egg%E6%8F%92%E4%BB%B6%E5%88%B0%E5%BA%95%E5%B0%81%E8%A3%85%E4%BA%86%E5%95%A5%2F</url>
    <content type="text"><![CDATA[è¿«äºŽæ¯”è¾ƒå¥½å¥‡ï¼Œä¸‹è½½äº†egg-redisï¼Œçœ‹çœ‹ä»–å¦‚ä½•å°†nodeç›´æŽ¥å¯ä»¥å¼•ç”¨çš„åŒ…ï¼Œå°è£…æˆä¸ºeggçš„æ’ä»¶ æ ¸å¿ƒä»£ç é€šè¿‡]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2020%2F03%2F11%2F2020-03-11-MaximumDepthOfBinaryTree%2F</url>
    <content type="text"><![CDATA[Prolem 104Given a binary tree, find its maximum depth. The maximum depth is the number of nodes along the longest path from the root node down to the farthest leaf node. Note: A leaf is a node with no children. Example: Given binary tree [3,9,20,null,null,15,7], 12345 3 &#x2F; \9 20 &#x2F; \ 15 7 return its depth = 3. keyåˆ¤æ–­æ ‘çš„æ·±æµ…ï¼Œé‡‡ç”¨ int left = max(root.left);int right = max(root.right);return Math.max(left,right) + 1; //æˆ–è€…ç®€å†™ return Math.max(max(root.left) + 1, max(root.right) + 1); è¿›è¡Œé€’å½’ Runtime: 0 ms, faster than 100.00% of Java online submissions for Maximum Depth of Binary Tree. Memory Usage: 39.2 MB, less than 94.62% of Java online submissions for Maximum Depth of Binary Tree. 1234567891011121314151617181920/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public int maxDepth(TreeNode root) &#123; return max(root); &#125; public int max(TreeNode root)&#123; if (root == null) &#123; return 0; &#125; return Math.max(max(root.left) + 1, max(root.right) + 1); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SymmetricTree]]></title>
    <url>%2F2020%2F03%2F10%2F2020-03-10-SymmetricTree%2F</url>
    <content type="text"><![CDATA[Problem101Given a binary tree, check whether it is a mirror of itself (ie, symmetric around its center). For example, this binary tree [1,2,2,3,4,4,3] is symmetric: 12345 1 &#x2F; \ 2 2 &#x2F; \ &#x2F; \3 4 4 3 But the following [1,2,2,null,3,null,3] is not: 12345 1 &#x2F; \2 2 \ \ 3 3 Note:Bonus points if you could solve it both recursively and iteratively. keyä¸€é“éªŒè¯æ ‘æ˜¯å¦æ˜¯å¯¹ç§°çš„é—®é¢˜ï¼Œä¸»è¦é‡‡å–é€’å½’çš„æ–¹æ³• 1234567891011121314151617181920&#x2F;** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val &#x3D; x; &#125; * &#125; *&#x2F;class Solution &#123; public boolean isSymmetric(TreeNode root) &#123; return isMirror(root,root); &#125; public boolean isMirror(TreeNode root,TreeNode self)&#123; if(root&#x3D;&#x3D;null &amp;&amp; self&#x3D;&#x3D;null)return true; if(root&#x3D;&#x3D;null ||self&#x3D;&#x3D;null) return false; return root.val&#x3D;&#x3D;self.val &amp;&amp; isMirror(root.left,self.right)&amp;&amp;isMirror(root.right,self.left); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AMDvsCMD]]></title>
    <url>%2F2020%2F03%2F09%2F2020-03-09-AMDvsCMD%2F</url>
    <content type="text"><![CDATA[AMD:Asynchronous Module Definition (RequireJS) CMD:Common Module Definitionï¼ˆSeaJSï¼‰ AMD CMD 1. æå‰æ‰§è¡Œ å»¶è¿Ÿæ‰§è¡Œï¼ˆç±»ä¼¼é¥¿æ±‰æ¨¡å¼ï¼‰ 2. ä¾èµ–å‰ç½® ä¾èµ–å°±è¿‘ 3. æµè§ˆå™¨ï¼ˆåŠ è½½ç¼“æ…¢ï¼Œå¼‚æ­¥loadæ›´å¥½ï¼‰ æœåŠ¡å™¨ç«¯ 4. å¼‚æ­¥æ¨¡å—å®šä¹‰ é€šç”¨æ¨¡å—å®šä¹‰ AMDå¾…è¡¥å……ï¼Œimport-export CMDdefine Functionä¸€ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œåœ¨æˆ‘ä»¬çš„ä»£ç å¤–å±‚ï¼Œä¼šå¥—ä¸Šä¸€å±‚CMDè§„èŒƒ,è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æŽ¥å¼•ç”¨require,export,moduleçš„åŽŸå›  123define(function(require, exports, module) &#123; &#x2F;&#x2F; code&#125;); å•ä¸ªå‚æ•° 1234define(factory)param--&gt;factory:funtion|Object|Stringdefine(&#123; &quot;foo&quot;: &quot;bar&quot; &#125;);define(&#39;I am a template. My name is &#123;&#123;name&#125;&#125;.&#39;); å¤šä¸ªå‚æ•°define define(id?, deps?, factory) 12345define(&#39;hello&#39;, [&#39;jquery&#39;], function(require, exports, module) &#123; &#x2F;&#x2F; code&#125;);idï¼šStringæ¨¡å—æ ‡è¯†depsï¼šArrayæ¨¡å—ä¾èµ– define.cmd Object 1234if (typeof define &#x3D;&#x3D;&#x3D; &quot;function&quot; &amp;&amp; define.cmd) &#123; &#x2F;&#x2F; æœ‰ Sea.js ç­‰ CMD æ¨¡å—åŠ è½½å™¨å­˜åœ¨&#125;&#x2F;&#x2F;ç”¨æ¥åˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦æœ‰CMDæ¨¡å—åŠ è½½å™¨ require FunctionåŒæ­¥åŠ è½½ 123456789define(function(require, exports) &#123; &#x2F;&#x2F; èŽ·å–æ¨¡å— a çš„æŽ¥å£ var a &#x3D; require(&#39;.&#x2F;a&#39;); &#x2F;&#x2F; è°ƒç”¨æ¨¡å— a çš„æ–¹æ³• a.doSomething();&#125;); require.async Functionå¼‚æ­¥åŠ è½½ 1234567891011121314define(function(require, exports, module) &#123; &#x2F;&#x2F; å¼‚æ­¥åŠ è½½ä¸€ä¸ªæ¨¡å—ï¼Œåœ¨åŠ è½½å®Œæˆæ—¶ï¼Œæ‰§è¡Œå›žè°ƒ require.async(&#39;.&#x2F;b&#39;, function(b) &#123; b.doSomething(); &#125;); &#x2F;&#x2F; å¼‚æ­¥åŠ è½½å¤šä¸ªæ¨¡å—ï¼Œåœ¨åŠ è½½å®Œæˆæ—¶ï¼Œæ‰§è¡Œå›žè°ƒ require.async([&#39;.&#x2F;c&#39;, &#39;.&#x2F;d&#39;], function(c, d) &#123; c.doSomething(); d.doSomething(); &#125;);&#125;); require.resolveè¿”å›žè§£æžåŽçš„ç»å¯¹è·¯å¾„ exprotsreturn Objectï¼Œå¯¹å¤–æä¾›æŽ¥å£ 1234567891011121314151617181920212223242526define(function(require, exports) &#123; &#x2F;&#x2F; å¯¹å¤–æä¾› foo å±žæ€§ exports.foo &#x3D; &#39;bar&#39;; &#x2F;&#x2F; å¯¹å¤–æä¾› doSomething æ–¹æ³• exports.doSomething &#x3D; function() &#123;&#125;;&#125;);retrunå¯ä»¥å®žçŽ°åŒç­‰æ•ˆæžœdefine(function(require) &#123; &#x2F;&#x2F; é€šè¿‡ return ç›´æŽ¥æä¾›æŽ¥å£ return &#123; foo: &#39;bar&#39;, doSomething: function() &#123;&#125; &#125;;&#125;);ä»¥åŠä¸ªäººä¸å¤ªå–œæ¬¢çš„ç¼©ç•¥å†™æ³•define(&#123; foo: &#39;bar&#39;, doSomething: function() &#123;&#125;&#125;); ä½†ä»¥ä¸‹å†™æ³•æ˜¯é”™è¯¯çš„ 123456789define(function(require, exports) &#123; &#x2F;&#x2F; é”™è¯¯ç”¨æ³•ï¼ï¼! exports &#x3D; &#123; foo: &#39;bar&#39;, doSomething: function() &#123;&#125; &#125;;&#125;); exports ä»…ä»…æ˜¯ module.exports çš„ä¸€ä¸ªå¼•ç”¨ã€‚åœ¨ factory å†…éƒ¨ç»™ exports é‡æ–°èµ‹å€¼æ—¶ï¼Œå¹¶ä¸ä¼šæ”¹å˜ module.exports çš„å€¼ã€‚å› æ­¤ç»™ exports èµ‹å€¼æ˜¯æ— æ•ˆçš„ï¼Œä¸èƒ½ç”¨æ¥æ›´æ”¹æ¨¡å—æŽ¥å£ã€‚ æˆ‘è¯´å¥ç®€å•çš„è¯ï¼šexportså’Œmodule.exportsï¼Œéƒ½æ˜¯åœ°å€ï¼ŒæŒ‡å‘åŒä¸€ä¸ªå†…å®¹ï¼Œå¦‚æžœä½ ç»™exportsèµ‹å€¼äº†ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä»–æŒ‡å‘çš„å†…å®¹å°±å®Œå…¨å˜äº†ï¼Œå’Œmodule.exprotså°±æŒ‡å‘ä¸æ˜¯åŒä¸€ä¸ªåœ°æ–¹äº† modulemodeuleæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå­˜å‚¨ä¸Žå½“å‰æ¨¡å—ç›¸å…³è”çš„ä¸€äº›å±žæ€§å’Œæ–¹æ³•ï¼Œé»˜è®¤ä¸º{} module:function module.id:Stringæ¨¡å—æ ‡è¯† module.urlï¼šStringè¿”å›žç»å¯¹è·¯å¾„ï¼ˆé»˜è®¤id=urlï¼Œé™¤éžæ‰‹å†™idï¼‰ module.dependencies:Arrayæ¨¡å—ä¾èµ– module.export:Object å¤§éƒ¨åˆ†æƒ…å†µä¸‹å’Œexportsé€šç”¨ï¼Œä½†å¦‚æžœæ¨¡å—æ˜¯ä¸€ä¸ªç±»ï¼Œå°±åº”è¯¥ç›´æŽ¥èµ‹å€¼ç»™module.exportsï¼Œè¿™æ ·è°ƒç”¨å°±æ˜¯ä¸€ä¸ªç±»çš„æž„é€ å™¨ï¼Œå¯ä»¥ç›´æŽ¥newå®žä¾‹ 12345678module.exports&#x3D;new Person();const p &#x3D; require(.&#x2F;xxx.js);p.say();&#x2F;&#x2F;orexports.p &#x3D; new Person();const &#123;p&#125; &#x3D; require(.&#x2F;xxxjs);p.say();]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>other</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Construct Binary Tree from Preorder and Inorder Traversal]]></title>
    <url>%2F2020%2F03%2F08%2F2020-03-08-Construct%20Binary%20Tree%20from%20Preorder%20and%20Inorder%20Traversal%2F</url>
    <content type="text"><![CDATA[Problem105Given preorder and inorder traversal of a tree, construct the binary tree. Note:You may assume that duplicates do not exist in the tree. For example, given 12preorder &#x3D; [3,9,20,15,7]inorder &#x3D; [9,3,15,20,7] Return the following binary tree: 12345 3 &#x2F; \9 20 &#x2F; \ 15 7 key é¢˜ç›®æ˜¯ä¸€ä¸ªæ ¹æ®å‰åºä¸­åºï¼Œç”ŸæˆäºŒå‰æ ‘çš„é¢˜ç›® å‰åºéåŽ†æœ‰ä¸ªç‰¹ç‚¹ï¼šæ ¹èŠ‚ç‚¹åœ¨å‰é¢ï¼Œroot -left-right åˆ™éåŽ†åˆ°3ä½œä¸ºrootï¼Œæ ¹æ®ä¸­åºå¯ä»¥çŸ¥é“å·¦å­æ ‘æ˜¯9ï¼Œå³å­æ ‘æ˜¯15 20 7 ç„¶åŽéåŽ†9ä½œä¸ºrootï¼Œæ ¹æ®ä¸­åºå¾—åˆ°æ²¡æœ‰å·¦å­æ ‘ï¼Œæ²¡æœ‰å³å­æ ‘ ç„¶åŽéåŽ†20ä½œä¸ºrootï¼Œä¾æ¬¡ç±»æŽ¨å¯ä»¥å¾—åˆ° 123TreeNode root &#x3D; new TreeNode(rootVal);root.left &#x3D; buildTree(pre, preStart+1, preStart+len, in, inStart, rootIndex-1);root.right &#x3D; buildTree(pre, preStart+len+1, preEnd, in, rootIndex+1, inEnd); å…¶ä¸­insortæ¯”è¾ƒå¥½ç†è§£ï¼Œç¡®å®šrootåŽ å·¦å­æ ‘åœ¨inStart, rootIndex-1ä¹‹é—´ å³å­æ ‘åœ¨rootIndex+1, inEndä¹‹é—´ å¯¹äºŽpresort int len = rootIndex - inStart;èŽ·å¾—rootçš„å·¦å­æ ‘é•¿åº¦ï¼ˆæ ¹æ®ä¸­åºèŽ·å–rootIndexï¼‰ å·¦å­æ ‘åœ¨preStart+1, preStart+lenä¹‹é—´ å³å­æ ‘åœ¨preStart+len+1, preEndä¹‹é—´ Solution12345678910111213141516171819202122232425262728293031323334/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public TreeNode buildTree(int[] preorder, int[] inorder) &#123; return buildTree(preorder, 0, preorder.length-1, inorder, 0, inorder.length-1); &#125; public TreeNode buildTree(int[] pre, int preStart, int preEnd, int[] in, int inStart, int inEnd)&#123; if(inStart &gt; inEnd || preStart &gt; preEnd) return null; int rootVal = pre[preStart]; int rootIndex = 0; for(int i = inStart; i &lt;= inEnd; i++)&#123; if(in[i] == rootVal)&#123; rootIndex = i; break; &#125; &#125; int len = rootIndex - inStart; TreeNode root = new TreeNode(rootVal); root.left = buildTree(pre, preStart+1, preStart+len, in, inStart, rootIndex-1); root.right = buildTree(pre, preStart+len+1, preEnd, in, rootIndex+1, inEnd); return root; &#125;&#125; tipå‚è€ƒäºŽç™¾åº¦ï¼Œåœ¨é€’å½’æ¡ä»¶ä¹±äº†]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BinaryTreeInorderTraversal]]></title>
    <url>%2F2020%2F03%2F06%2F2020-03-06-BinaryTreeInorderTraversal%2F</url>
    <content type="text"><![CDATA[Problem94Given a binary tree, return the inorder traversal of its nodesâ€™ values. ç»™å®šä¸€äºŒå‰æ ‘ï¼Œä¸­åºéåŽ†è¾“å‡º ps:preorder,inorder,postorderï¼Œå‰ä¸­åŽ Keyrecursive approachåˆ©ç”¨é€’å½’è§£å†³Bæ ‘çš„éåŽ†é—®é¢˜ï¼Œè¿™ç§é—®é¢˜çš„ä»£ç å…¶å®žå¤§åŒå°å¼‚ï¼Œå‰ä¸­åŽçš„éåŽ†è¾“å‡ºï¼Œåªéœ€è¦è°ƒæ•´é€’å½’éƒ¨åˆ†å³å¯ 12345678910111213141516171819202122232425262728//preorderpublic void preorder(node t) if (t != null) &#123; System.out.print(t.value + &quot; &quot;); preorder(t.left); preorder(t.right); &#125;&#125;//inorderpublic void inorder(node t)&#123; if (t != null) &#123; inorder(t.left); System.out.print(t.value + &quot; &quot;); inorder(t.right); &#125;&#125;//postorderpublic void postorder(node t)&#123; if (t != null) &#123; postorder(t.left); postorder(t.right); System.out.print(t.value + &quot; &quot;); &#125;&#125;//leverorder Solution Runtime: 0 ms, faster than 100.00% of Java online submissions for Binary Tree Inorder Traversal. Memory Usage: 37.9 MB, less than 5.11% of Java online submissions for Binary Tree Inorder Traversal. 1234567891011121314151617181920212223/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public List&lt;Integer&gt; inorderTraversal(TreeNode root) &#123; List &lt; Integer &gt; res = new ArrayList &lt; &gt; (); inorder(root, res); return res; &#125; public void inorder(TreeNode root, List &lt; Integer &gt; res) &#123; if (root != null) &#123; inorder(root.left, res); res.add(root.val); inorder(root.right, res); &#125; &#125;&#125; Complexity Analysis Time complexity : O(n)O(n). The time complexity is O(n)O(n) because the recursive function is T(n) = 2 \cdot T(n/2)+1T(n)=2â‹…T(n/2)+1. Space complexity : The worst case space required is O(n)O(n), and in the average case itâ€™s O(\log n)O(logn) where nn is number of nodes. stacksolutionè¿˜æä¾›äº†å¦å¤–ä¸€ç§æ–¹æ³•é€šè¿‡stack popçš„æ–¹å¼æ¥å®Œæˆï¼š https://leetcode.com/problems/binary-tree-inorder-traversal/solution/ MorrisåŒä¸Š]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-03-05-hexoNexTv7.7.2]]></title>
    <url>%2F2020%2F03%2F05%2F2020-03-05-hexoNexTv7-7-2%2F</url>
    <content type="text"><![CDATA[I find hexoâ€™s theme:nexT v7.7.2 has some new features native dark modewe can set 1darkmode:true to open native dark mode and there are other features like support MathJax v3.0,we use $$ add next_config helper how to update newest version1.git clone https://github.com/theme-next/hexo-theme-next themes/next or in releases to download newest source code 2.copy file to hexo/theme/ such as : /themes/hexo-theme-next-7.7.2/ 3.open hexoâ€™s _config.yml,and change themeâ€™s value to hexo-theme-next-7.7.2 and u change your them successfully 4.update /themes/hexo-theme-next-7.7.2/_config.yml Last , u can create new post to log your daily life 1yarn upgrade caniuse-lite browserslist and these days ,zehai.info ,may Expired ,sad]]></content>
      <categories>
        <category>others</category>
      </categories>
      <tags>
        <tag>NexT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-02-28-å…³äºŽä»Šå¤©çš„ä¸€äº›æ€è€ƒ]]></title>
    <url>%2F2020%2F02%2F28%2F2020-02-28-%E5%85%B3%E4%BA%8E%E4%BB%8A%E5%A4%A9%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©ç¡®å®žå‘ç”Ÿäº†ä¸€äº›äº‹æƒ…ï¼Œé¿ä¹‹ä¸è°ˆ è®©æˆ‘æƒ³èµ·æ¥äº†ä¹‹å‰æˆ‘åœ¨bilié‡åˆ°çš„ä¸€ä»¶äº‹æƒ…ï¼Œä¸€ä¸ªupä¸»ç™Œç—‡ï¼Œè‡ªå·±ç»æµŽèƒ½åŠ›ä¸æ˜¯å¾ˆå¥½ï¼Œæ‹äº†ä¸€äº›å¾ˆç²—ç³™ï¼Œæ²¡æœ‰å‰ªè¾‘è¿‡çš„è§†é¢‘ï¼Œå¤§æ„äº¤ä»£äº†è‡ªå·±å¾—ç—…ï¼Œæ²¡æœ‰é’±ï¼Œæ‹äº†ç—…åŽ†æœ¬ï¼ŒåŒ–éªŒå•ï¼Œå¸Œæœ›å¤§å®¶æœ‰èƒ½åŠ›çš„æä¸€ç‚¹ï¼ŒåŽæ¥upå¤§æ¦‚æ˜¯æ‹¿åˆ°äº†ä¸€éƒ¨åˆ†é’±ï¼Œå…·ä½“å¤šå°‘æˆ‘ä¸å¤ªæ¸…æ¥šï¼ŒåŽæ¥ä¸çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆï¼Œç”»é£Žå¼€å§‹è½¬å˜ upè§†é¢‘çš„ä¸‹é¢å‡ºçŽ°äº†å¾ˆå¤šè¯„è®º è¯„è®ºupæœ‰ä¸¤ä¸ªæ‰‹æœºï¼Œå®¶é‡Œæœ‰é’±ï¼Œç„¶åŽupå°±å¯¹ç„¦ç»™å¤§å®¶çœ‹äº†ä»–çš„ä¸¤ä¸ªæ‰‹æœºï¼Œæˆ‘è®°å¾—ä¸¤ä¸ªéƒ½æ˜¯çº¢ç±³ç±»ä¼¼çš„ä¾¿å®œæœºå™¨ï¼Œè€Œä¸”ä¹°äº†å¾ˆä¹…äº† åŽæ¥åˆäººè¯„è®ºä»–å®¶å¤šæœ‰é’±ï¼Œç„¶åŽupå°±æ‹ä¸‹äº†å›žå®¶å’Œå¥¶å¥¶åœ¨ä¸€èµ·çš„åœºé¢ï¼ˆå½“æ—¶å·²ç»æ²¡é’±ä½é™¢ï¼Œå°±å›žå®¶ç­¹é’±æ¢åŒ»é™¢è¯•è¯•ï¼‰ åŽæ¥åˆæœ‰äººè¯„è®ºupä¸»æ ¹æœ¬å°±æ²¡ç—…ï¼Œå‡ºæ¥éª—äººé’±ï¼Œupå°±æ‹è§†é¢‘ç»™äººçœ‹æ²»ç–—è¿‡ç¨‹ä¸­çš„ç—…åŽ†ï¼ŒåŒ–éªŒå•ï¼Œè‡³å°‘æˆ‘çœ‹ä¸å‡ºæ¥é€ å‡çš„è¯æ® åŽæ¥upå‡ºé™¢äº†ï¼Œä¹°äº†å¼ è½¦ç¥¨å›žå®¶ï¼Œå’Œä¸€ä¸ªæœˆå‰ç›¸æ¯”å¤´å‘æŽ‰äº†å¾ˆå¤šï¼Œå¼¹å¹•é‡Œé¢å„ç§è´¨ç–‘ï¼Œè¯„è®ºé‡Œé¢ä¸€ç‰‡è´¨ç–‘ï¼Œ äº²èº«ç»åŽ†ï¼ŒçŽ¯é¡¾æ•´ä¸ªè¿‡ç¨‹ï¼Œæˆ‘æ²¡æœ‰ç»™upæèµ ä¸€åˆ†é’±ï¼Œä¹Ÿæ²¡æœ‰ç»™äºˆä»–ä»»ä½•å¸®åŠ©ï¼Œå°±çœ‹äº†ä»–æ•´ä¸ªç”Ÿç—…çš„è¿‡ç¨‹ï¼Œä»Žå¼€å§‹çš„åŠ æ²¹ï¼Œå˜æˆäº†ä¸€ä¸ªâ€˜éª—å­â€™ï¼Œäººä»¬å­˜åœ¨äºŽç½‘ç»œä¹‹åŽï¼Œç¡®å®žå¯ä»¥å‘è¡¨è‡ªå·±å¯¹äºŽä¸€ä»¶äº‹æƒ…çš„çœ‹æ³•ï¼Œæˆ‘æƒ³æˆ‘å¦‚æžœæ˜¯é‚£ä¸ªupï¼Œæ·±é™·å…¶ä¸­ä¸€å®šå¾ˆæ— å¥ˆ é™ˆè¿°ç»“æŸ æœ€åŽç–«æƒ…ä¸€å®šä¼šè¿‡åŽ»çš„]]></content>
  </entry>
  <entry>
    <title><![CDATA[2020-02-28-JSç›¸å…³æŠ€æœ¯åè¯]]></title>
    <url>%2F2020%2F02%2F28%2F2020-02-28-JS%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E5%90%8D%E8%AF%8D%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©ä¸­åˆæœ‰æ”¶åˆ°Eggå›¢é˜Ÿå…¬å¼€çš„æ–‡ä»¶è°ƒæŸ¥ï¼ŒæåŠäº†å¾ˆå¤šæŠ€æœ¯åè¯ï¼Œè™½ç„¶ä¸ä¸€å®šç”¨åˆ°ï¼Œä½†æˆ‘ä¹Ÿè§‰å¾—åˆ—ä¸¾å‡ºæ¥ä¼šæ–¹ä¾¿å¤§å®¶äº†è§£å’Œæ¯”è¾ƒï¼ŒåŽç»­å¯èƒ½æ›´æ–°æˆ‘ç”¨è¿‡çš„éƒ¨åˆ† ä»£ç æ£€æŸ¥å·¥å…· ESLint JSCS JSHint JSDoc Standard TSLint Flow å¼•å…¥ç›®çš„ï¼šè§„èŒƒä»£ç  ESLint é€šè¿‡extendç»§æ‰¿æŸä¸€ä¸ªå¤§ç±»ï¼Œç„¶åŽé…ç½®rulesæ¥è¿›è¡Œä»£ç è§„èŒƒ JSCS JSHint JSDoc Standard TSLint Flow ä½¿ç”¨æ„Ÿå—è§£å†³äº†ä»¥ä¸‹é—®é¢˜ nodeæ˜¯ä¸€é—¨å¼±è¯­è¨€ï¼Œè¿›è¡Œæ ¡éªŒï¼ˆéžå˜é‡ç±»åž‹æ ¡éªŒï¼Œä»…æ ¡éªŒå˜é‡æ˜¯å¦å£°æ˜Žï¼Œæ˜¯å¦å¯æ”¹ç­‰ï¼‰ nodeåœ¨use strictæ¨¡å¼ä¸‹ï¼Œeslintå¯ä»¥æ ¡éªŒ å›¢é˜Ÿåˆä½œï¼Œé˜²æ­¢é˜Ÿå‹æŒ–å‘ å…¶å®žESLintåªæ˜¯ä¸€ç§è¯­æ³•æ ¡éªŒï¼Œæ›´å¤šçš„è¿˜æœ‰æµç¨‹ä¸Šçš„è§„èŒƒï¼Œå°±åƒç½‘ä¼ é˜¿é‡Œçš„å¼€å‘è§„èŒƒä¸€æ ·ï¼Œå°±å¥½æ¯”nodeä¸­ä½ å¯ä»¥ç”¨ç±»çš„è¯­æ³•ç³–ï¼Œä¹Ÿå¯ä»¥ç”¨åŽŸåž‹ï¼Œå½“ä¸€ä»¶äº‹æƒ…æœ‰å¤šç§å®žçŽ°æ–¹å¼æ—¶ï¼Œéœ€è¦è§„èŒƒæ¥é€‰æ‹©ä¸€ä¸ªæ™®éå…¬ç”¨çš„ï¼Œæ˜“ç»´æŠ¤ï¼Œæ˜“æ‰©å±•çš„æ–¹æ¡ˆ é™¤åŽ»è¯­æ³•æ ¡éªŒï¼Œè¿˜æœ‰TSçš„ç±»åž‹æ ¡éªŒï¼Œæ¯”å¦‚GITçš„åˆ†æ”¯è§„èŒƒï¼Œå¦‚master,staging,backup,develop,other branch è½¬ä¹‰è¯­è¨€ TS ClojureScript CoffeeScript Dart Elm Scala.js Haxe Nim PureScript Reason è½¬ç§»è¯­è¨€æ˜¯2019å¹´èŠçš„æ¯”è¾ƒå¤šçš„ï¼Œè§£å†³é—®é¢˜ï¼š ç±»åž‹æ ¡éªŒï¼Œèƒ½å¤Ÿå¾ˆå¥½è§£å†³JSå¼€å‘ä¸­ï¼Œä½ ä¸çŸ¥é“è¿™ä¸ªobjecté‡Œé¢æœ‰ä»€ä¹ˆkeyï¼Œæˆ–è€…æŸä¸ªå¯¹è±¡é‡Œé¢æœ‰ä»€ä¹ˆæ–¹æ³•ï¼ˆegg.jså®žé™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œctx.service.v1.handlexxx()å°±ctrlè·³è½¬ä¸äº†ï¼Œä¹Ÿä¸ä¼šæœ‰æç¤ºï¼‰ WEBæ¡†æž¶ Express Koa Egg Nest.js Next.js Fastify.js Hapi.js Restify.js Loopback.io Sails.js Midway.js é¢è¯•å¸¸è¢«é—®åˆ°æ¡†æž¶çš„é—®é¢˜ï¼Œå› ä¸ºå¾ˆå¤šå…¬å¸ä¸ä¼šå°†é¡¹ç›®æ­å»ºåœ¨åŽŸç”Ÿçš„nodeæœåŠ¡ä¸Š ç¼ºå°‘çº¦æŸï¼Œåˆä½œæ¨¡å¼ä¸‹ï¼Œä¸ªäººæœ‰ä¸ªäººçš„é£Žæ ¼ é¡¹ç›®é…ç½®ç¹çï¼Œå¾ˆå¤šä¸œè¥¿é…ç½®é›¶æ•£å †æ”¾ é‡å¤é€ è½®å­ï¼Œæ¡†æž¶æä¾›è¾ƒå¥½çš„è½®å­ å®‰å…¨äº‹å®œï¼Œæ¡†æž¶å¤„ç† etc ä¸€ä¸ªå¥½çš„æ¡†æž¶äº‹åŠåŠŸå€ï¼Œexpressæ˜¯ä¸€ä¸ªéžå¸¸è½»é‡çš„æ¡†æž¶ fast unopinionated(å¹²å‡€çš„) minimalist Eggæ˜¯ä¸€ä¸ªä¼ä¸šçº§æ¡†æž¶ï¼Œçº¦å®šå¤§äºŽé…ç½® Provide capability to customizd framework base on Eggï¼ˆå¯æ‰©å±•ï¼‰ Highly extensible plugin mechanismï¼ˆæ’ä»¶ç‰›é€¼ï¼‰ Built-in clusterï¼ˆå¤šè¿›ç¨‹ç‰›é€¼ï¼‰ Based on Koa with high performanceï¼ˆä¼ä¸šçº§åˆ«æ€§èƒ½ä¼˜å¼‚ï¼‰ Stable core framework with high test coverageï¼ˆç¨³å®šï¼‰ Progressive developmentï¼ˆä¸šåŠ¡è¿­ä»£ï¼Œä»£ç å¯ä»¥æ¸è¿›ç»§æ‰¿ï¼‰ æ•°æ®åº“ MySQL PostgreSql Redis MongoDB SQL Server SQLLite influxdb HBASE TiDB Oracle DB2 æ•°æ®åº“æ˜¯ä»…æ­¤äºŽè¯­è¨€æœ¬èº«ï¼Œå¦å¤–çš„è€ƒç‚¹äº†ï¼Œå› ä¸ºæ²¡æœ‰ä¸€ä¸ªæœåŠ¡ä¸æ¶‰çŒŽå­˜å‚¨ï¼Œè€Œæ•°æ®åº“ä½œä¸ºç³»ç»Ÿçš„æ•°æ®åŸºç¡€ï¼Œä¸ä»…é‡è¦ä¹Ÿæˆä¸ºäº†é¢è¯•çš„é‡ç‚¹ mysqlç­‰å…³ç³»åž‹æ•°æ®åº“ï¼ŒèŒƒå¼ï¼Œäº‹åŠ¡ï¼Œinnodbï¼Œè¯»å†™åˆ†ç¦»ï¼Œåˆ†è¡¨ Mongo,Redisç­‰éžå…³ç³»åž‹æ•°æ®åŸºç¡€ç±»åž‹ï¼Œèšåˆç­‰ åå‘ä»£ç† Nginx Tomcat [ ] Apache è§£å†³è´Ÿè½½å‡è¡¡ é¢„å¤„ç†ä¸€äº›è¯·æ±‚ï¼Œå¦‚è¿‡æ»¤é‡å¤è¯·æ±‚ è¿›ç¨‹ç®¡ç† Docker PM2 forever naught node-supervisor Supervisord(Unix) dockeré›†å¤§æˆè€…ï¼Œåœ¨å¾®æœåŠ¡ç­‰åœºæ™¯åº”ç”¨è¾ƒå¤š RPCæ–¹å¼ HTTP Thrift gRPC dubbo MQ å¼€å‘åœºæ™¯ æœåŠ¡ç«¯API SSRåº”ç”¨ Proxyå±‚ BFFå±‚ ä»£ç ç‰‡æ®µï¼Œå¦‚Sparkä»£ç ç‰‡æ®µ CLI &amp; å·¥å…· tips]]></content>
      <tags>
        <tag>List</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-01-31-JSè®¾è®¡æ¨¡å¼]]></title>
    <url>%2F2020%2F01%2F31%2F2020-01-31-JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[æ¨¡å¼å…±è®¡å…«ç§ï¼š å•ä¾‹æ¨¡å¼ æž„é€ å™¨æ¨¡å¼ å»ºé€ è€…æ¨¡å¼ ä»£ç†æ¨¡å¼ å¤–è§‚æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ ç­–ç•¥æ¨¡å¼ è¿­ä»£å™¨æ¨¡å¼ è®¾è®¡æ¨¡å¼çš„æå‡ºï¼Œä¸ºäº†æ›´å¥½çš„è§£è€¦ï¼Œå¯æ‹“å±•ï¼ŒæœåŠ¡å¯é ï¼Œä¸é™å®šæŸç§è¯­è¨€çš„å®žçŽ° å•ä¾‹æ¨¡å¼æ¦‚å¿µä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®žä¾‹ï¼Œå¦‚æžœå­˜åœ¨å°±ä¸å®žä¾‹åŒ–ï¼Œå¦‚æžœä¸å­˜åœ¨åˆ™newï¼Œä»¥ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®žä¾‹ ä½œç”¨ æ¨¡å—é—´é€šä¿¡ ä¿è¯æŸä¸ªç±»çš„å¯¹è±¡çš„å”¯ä¸€æ€§ é˜²æ­¢å˜é‡æ±¡æŸ“ æ³¨æ„ thisçš„ä½¿ç”¨ é—­åŒ…å®¹æ˜“stack over flowéœ€è¦åŠæ—¶æ¸…ç† åˆ›å»ºæ–°å¯¹è±¡æˆæœ¬è¾ƒé«˜ å®žé™…æ¡ˆä¾‹å¦‚ç½‘ç«™çš„è®¡æ•°å™¨ï¼Œå¤šçº¿ç¨‹çš„çº¿ç¨‹æ±  1234567891011121314151617181920212223242526(function()&#123; // å…»é±¼æ¸¸æˆ let fish = null function catchFish() &#123; // å¦‚æžœé±¼å­˜åœ¨,åˆ™ç›´æŽ¥è¿”å›ž if(fish) &#123; return fish &#125;else &#123; // å¦‚æžœé±¼ä¸å­˜åœ¨,åˆ™èŽ·å–é±¼å†è¿”å›ž fish = document.querySelector(&#x27;#cat&#x27;) return &#123; fish, water: function() &#123; let water = this.fish.getAttribute(&#x27;weight&#x27;) this.fish.setAttribute(&#x27;weight&#x27;, ++water) &#125; &#125; &#125; &#125; // æ¯éš”3å°æ—¶å–‚ä¸€æ¬¡æ°´ setInterval(() =&gt; &#123; catchFish().water() &#125;, 3*60*60*1000)&#125;)() æž„é€ å™¨æ¨¡å¼]]></content>
  </entry>
  <entry>
    <title><![CDATA[2020-01-31-RomanToInteger]]></title>
    <url>%2F2020%2F01%2F31%2F2020-01-31-RomanToInteger%2F</url>
    <content type="text"><![CDATA[Leetcode13Roman numerals are represented by seven different symbols: I, V, X, L, C, D and M. Symbol ValueI 1V 5X 10L 50C 100D 500M 1000For example, two is written as II in Roman numeral, just two oneâ€™s added together. Twelve is written as, XII, which is simply X + II. The number twenty seven is written as XXVII, which is XX + V + II. Roman numerals are usually written largest to smallest from left to right. However, the numeral for four is not IIII. Instead, the number four is written as IV. Because the one is before the five we subtract it making four. The same principle applies to the number nine, which is written as IX. There are six instances where subtraction is used: I can be placed before V (5) and X (10) to make 4 and 9.X can be placed before L (50) and C (100) to make 40 and 90.C can be placed before D (500) and M (1000) to make 400 and 900.Given a roman numeral, convert it to an integer. Input is guaranteed to be within the range from 1 to 3999. Example 1: Input: â€œIIIâ€Output: 3Example 2: Input: â€œIVâ€Output: 4Example 3: Input: â€œIXâ€Output: 9Example 4: Input: â€œLVIIIâ€Output: 58Explanation: L = 50, V= 5, III = 3.Example 5: Input: â€œMCMXCIVâ€Output: 1994Explanation: M = 1000, CM = 900, XC = 90 and IV = 4. Solutioné¢˜ç›®æ„æ€å…¶å®žå¾ˆç®€å•ï¼ŒæŽŒæ¡äº†è®¡ç®—æ–¹æ³•å…¶å®žå¾ˆç®€å• 1234567891011121314151617181920212223242526272829303132333435363738class Solution &#123; public int romanToInt(String s) &#123; int nums[]=new int[s.length()]; for(int i=0;i&lt;s.length();i++)&#123; switch (s.charAt(i))&#123; case &#x27;M&#x27;: nums[i]=1000; break; case &#x27;D&#x27;: nums[i]=500; break; case &#x27;C&#x27;: nums[i]=100; break; case &#x27;L&#x27;: nums[i]=50; break; case &#x27;X&#x27; : nums[i]=10; break; case &#x27;V&#x27;: nums[i]=5; break; case &#x27;I&#x27;: nums[i]=1; break; &#125; &#125; int sum=0; for(int i=0;i&lt;nums.length-1;i++)&#123; if(nums[i]&lt;nums[i+1]) sum-=nums[i]; else sum+=nums[i]; &#125; return sum+nums[nums.length-1]; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-01-31-å†…ç½‘ç©¿é€]]></title>
    <url>%2F2020%2F01%2F31%2F2020-01-31-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%2F</url>
    <content type="text"><![CDATA[whyè§£å†³å…¬ç½‘è®¿é—®è‡ªå·±çš„å†…ç½‘è®¾å¤‡ï¼ˆå¤§éƒ¨åˆ†å…¬å¸ï¼Œå°åŒºéƒ½æ˜¯åœ¨å†…ç½‘ä¸­ï¼ŒIPv4åŽ†å²åŽŸå› å¯¼è‡´ï¼‰ï¼Œè§£å†³æ–¹æ¡ˆï¼š è·¯ç”±å™¨æ–°å¢žç«¯å£æ˜ å°„ èŠ±ç”Ÿå£³åŠ¨æ€è§£æžè½¯ä»¶ natappç­‰å…è´¹è½¯ä»¶æä¾›çš„å†…ç½‘æ˜ å°„æœåŠ¡ åŸºäºŽngrokï¼ˆä¸èï¼‰æˆ–è€…frpè‡ªå»ºå†…ç½‘æ˜ å°„æœåŠ¡ howç›®å‰æŽ¨èä½¿ç”¨frpæ­å»ºç©¿é€æœåŠ¡ï¼Œæ”¯æŒHTTPï¼ŒSSH,TCP UDP FTP]]></content>
  </entry>
  <entry>
    <title><![CDATA[2020-01-18-plugins]]></title>
    <url>%2F2020%2F01%2F18%2F2020-01-18-plugins%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘æ›´æ–°hexoæ¯”è¾ƒé¢‘ç¹ï¼Œå‘çŽ°é¢‘ç¹æ€§çš„æŽ¨é€masteråˆ†æ”¯ä»¥åŠsourceæºæ–‡ä»¶å¤‡ä»½ï¼Œæ¯”è¾ƒç¹çï¼ŒæŸ¥è¯¢äº†å®˜æ–¹æ–‡æ¡£ï¼Œå¯ä»¥å†™ä¸€äº›ç›‘å¬å‡½æ•°ï¼Œå®žçŽ°ä¸€äº›è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œhexoé»˜è®¤å°†è„šæœ¬æ”¾ç½®åœ¨scriptsæ–‡ä»¶å¤¹ä¸‹ï¼Œä»¥ä¸‹ä»£ç å¯ä»¥åœ¨hexo newçš„æ—¶å€™è‡ªåŠ¨æ‰“å¼€é»˜è®¤ç¼–è¾‘è½¯ä»¶ 12345var spawn &#x3D; require(&#39;child_process&#39;).exec;hexo.on(&#39;new&#39;, function(data)&#123; spawn(&#39;start &quot;markdownç¼–è¾‘å™¨ç»å¯¹è·¯å¾„.exe&quot; &#39; + data.path);&#125;); éžå¸¸çš„æ–¹ä¾¿ï¼ŒçœåŽ»äº†æˆ‘æ‰“å¼€typoraçš„æ—¶é—´ ä»¥åŠä»¥ä¸‹çš„ä»£ç å¯ä»¥å®žçŽ°è‡ªåŠ¨éƒ¨ç½²sourceåˆ†æ”¯ 123456789101112131415161718192021222324252627282930313233343536require(&#39;shelljs&#x2F;global&#39;);&#x2F;&#x2F;è®°å¾—å®‰è£…åŒ…try &#123; hexo.on(&#39;deployAfter&#39;, function() &#123;&#x2F;&#x2F;å½“deployå®ŒæˆåŽæ‰§è¡Œå¤‡ä»½ run(); &#125;);&#125; catch (e) &#123; console.log(&quot;You make a wrongï¼š&quot; + e.toString());&#125;function run() &#123; if (!which(&#39;git&#39;)) &#123; echo(&#39;Sorry, this script requires git&#39;); exit(1); &#125; else &#123; echo(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;Auto Backup Begin&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;); cd(&#39;.&#x2F;&#39;); if (exec(&#39;git add --all&#39;).code !&#x3D;&#x3D; 0) &#123; echo(&#39;Error: Git add failed&#39;); exit(1); &#125; if (exec(&#39;git commit -am &quot;Form auto backup script\&#39;s commit&quot;&#39;).code !&#x3D;&#x3D; 0) &#123; echo(&#39;Error: Git commit failed&#39;); exit(1); &#125; if (exec(&#39;git push origin source&#39;).code !&#x3D;&#x3D; 0) &#123; echo(&#39;Error: Git push failed&#39;); exit(1); &#125; echo(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;Auto Backup Complete&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;) &#125;&#125; å‚è€ƒæ–‡çŒ®https://hexo.io/zh-cn/docs/plugins#%E5%B7%A5%E5%85%B7]]></content>
  </entry>
  <entry>
    <title><![CDATA[2020-01-17-ImplementStr]]></title>
    <url>%2F2020%2F01%2F17%2F2020-01-17-ImplementStr%2F</url>
    <content type="text"><![CDATA[LeetCode28Implement strStr(). Return the index of the first occurrence of needle in haystack, or -1 if needle is not part of haystack. Example 1: Input: haystack = â€œhelloâ€, needle = â€œllâ€Output: 2Example 2: Input: haystack = â€œaaaaaâ€, needle = â€œbbaâ€Output: -1Clarification: What should we return when needle is an empty string? This is a great question to ask during an interview. For the purpose of this problem, we will return 0 when needle is an empty string. This is consistent to Câ€™s strstr() and Javaâ€™s indexOf(). Solutionå¦‚æžœä¸è€ƒè™‘javaå·æ‡’çš„å†™æ³•å½“ç„¶å¯ä»¥æƒ³åˆ°indexofçš„æƒ³æ³•123456class Solution &#123; public int strStr(String haystack, String needle) &#123; return haystack.indexOf(needle); &#125;&#125;Runtime: 1 mså…ˆæŒ‰ç…§é¢˜æ„å†™äº†å¦‚ä¸‹ä»£ç ï¼š1234567891011121314151617181920212223242526272829class Solution &#123; public int strStr(String haystack, String needle) &#123; if(needle.length()==0)return 0; if(haystack.length()==0)return -1; int index =-1; boolean flag = true; for(int i=0;i&lt;haystack.length();i++)&#123; if(haystack.charAt(i)==needle.charAt(0))&#123; flag=true; for(int j =0;j&lt;needle.length();j++)&#123; if(i+j&gt;=haystack.length())&#123; return -1; &#125; if(haystack.charAt(i+j)!=needle.charAt(j))&#123; flag=false; break; &#125;; &#125; if(flag)&#123; return i; &#125; &#125; &#125; return index; &#125;&#125;Runtime: 4 msMemory Usage: 42.7 MB]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-01-15-sqrtx]]></title>
    <url>%2F2020%2F01%2F15%2F2020-01-15-sqrtx%2F</url>
    <content type="text"><![CDATA[LeetCode-69Implement int sqrt(int x). Compute and return the square root of x, where x is guaranteed to be a non-negative integer. Since the return type is an integer, the decimal digits are truncated and only the integer part of the result is returned. Example 1: Input: 4Output: 2Example 2: Input: 8Output: 2Explanation: The square root of 8 is 2.82842â€¦, and since the decimal part is truncated, 2 is returned. Solutionå°±æ˜¯æ‰‹å†™ä¸€ä¸ªæ ¹å·æºç ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯é€šè¿‡å¹³æ–¹æ¥åš 12345678910public int mySqrt(int x) &#123; for(int i=46340;i&lt;46341;i++)&#123; if(x&gt;=(long)i*i&amp;&amp;x&lt;(long)(i+1)*(i+1))&#123; return i; &#125; &#125; return x; &#125;Runtime: 22 msMemory Usage: 34 MB å¦‚æžœä¸éµå¾ªé¢˜ç›®çš„è¦æ±‚ï¼Œä½¿ç”¨Mathå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç›®æ ‡å¤§æ¦‚æ˜¯3msé™„è¿‘ 1234public int mySqrt(int x) &#123; return (int)Math.sqrt(Double.parseDouble(String.valueOf(x))); &#125;Runtime: 3 ms è§£æ³•ç²—æš´ï¼Œé‡åˆ°å¤§æ•°çš„æ—¶å€™ä¼šä»Ž0é‡æ–°å¼€å§‹è®¡ç®—ï¼Œå¤æ‚åº¦O(N) ç¬¬ä¸€æ¬¡ä¼˜åŒ–æ€è·¯å°±æ˜¯é¿å…åšä¸¤æ¬¡ä¹˜æ³•ç„¶åŽåŽ»æ¯”è¾ƒï¼Œè¿™ä¸ªåœ°æ–¹å¯ä»¥åŽ»ä¼˜åŒ– 12345678910class Solution &#123; public int mySqrt(int x) &#123; long n &#x3D; 1; while(n * n &lt;&#x3D; x) &#123; n++; &#125; return (int) n - 1; &#125;&#125;Runtime: 11 ms ç¬¬äºŒæ¬¡ä¼˜åŒ–å¯ä»¥ä½¿ç”¨äºŒåˆ†æ³•æ¥é€æ­¥é€¼è¿‘iï¼Œæ²¡æœ‰å¿…è¦ä»Ž1å¼€å§‹é¡ºåºéåŽ† 12345678910111213141516171819202122class Solution &#123; public int mySqrt(int x) &#123; if (x == 0 || x == 1) return x; int left = 1; int right = x; while (left &lt; right) &#123; int midPoint = (left + right) / 2; if (midPoint == x / midPoint) &#123; return midPoint; &#125; else if (midPoint &gt; x / midPoint) &#123; right = midPoint; &#125; else if (midPoint &lt; x / midPoint) &#123; left = midPoint + 1; &#125; &#125; return left - 1; &#125;&#125;Runtime: 1 ms]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-01-11-SameTree]]></title>
    <url>%2F2020%2F01%2F11%2F2020-01-11-SameTree%2F</url>
    <content type="text"><![CDATA[LeetCode 10012345678910111213141516171819202122232425262728293031Given two binary trees, write a function to check if they are the same or not.Two binary trees are considered the same if they are structurally identical and the nodes have the same value.Example 1:Input: 1 1 &#x2F; \ &#x2F; \ 2 3 2 3 [1,2,3], [1,2,3]Output: trueExample 2:Input: 1 1 &#x2F; \ 2 2 [1,2], [1,null,2]Output: falseExample 3:Input: 1 1 &#x2F; \ &#x2F; \ 2 1 1 2 [1,2,1], [1,1,2]Output: false Solutioné¢˜ç›®å…¶å®žå¾ˆç®€å•çš„ä¸€ä¸ªé€’å½’Recursion,æˆ‘ä»¬å¾ˆè½»æ¾å¯ä»¥é€šè¿‡é€’å½’æ¥è§£å†³1234567891011class Solution &#123; public boolean isSameTree(TreeNode p, TreeNode q) &#123; &#x2F;&#x2F; p and q are both null if (p &#x3D;&#x3D; null &amp;&amp; q &#x3D;&#x3D; null) return true; &#x2F;&#x2F; one of p and q is null if (q &#x3D;&#x3D; null || p &#x3D;&#x3D; null) return false; if (p.val !&#x3D; q.val) return false; return isSameTree(p.right, q.right) &amp;&amp; isSameTree(p.left, q.left); &#125;&#125;æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼ŒæŽ§ä»¶å¤æ‚åº¦ä¸ºO(logn)~O(n)ä¹‹é—´ï¼Œè¿™é“é¢˜å°±ä¸è€ƒè™‘å…¶ä»–è§£æ³•äº†ï¼Œrecursionç›®å‰çœ‹æ¥æ˜¯æœ€ä¼˜è§£]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-01-10-MatrixZero]]></title>
    <url>%2F2020%2F01%2F10%2F2020-01-10-MatrixZero%2F</url>
    <content type="text"><![CDATA[LeetCode 731234567891011121314151617181920212223242526272829303132333435Given a m x n matrix, if an element is 0, set its entire row and column to 0. Do it in-place.Example 1:Input: [ [1,1,1], [1,0,1], [1,1,1]]Output: [ [1,0,1], [0,0,0], [1,0,1]]Example 2:Input: [ [0,1,2,0], [3,4,5,2], [1,3,1,5]]Output: [ [0,0,0,0], [0,4,5,0], [0,3,1,0]]Follow up:A straight forward solution using O(mn) space is probably a bad idea.A simple improvement uses O(m + n) space, but still not the best solution.Could you devise a constant space solution? Solutionä¸€å¼€å§‹ä»¥ä¸ºé€’å½’å¯ä»¥è§£å†³ï¼Œå¯ä»¥å°†çŸ©é˜µä¸€å±‚å±‚æ‹†å¼€ï¼Œå†™ä¸‹äº†å¦‚ä¸‹çš„ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839public void setZeroes(int[][] matrix) &#123; int rows &#x3D; matrix.length-1; int cols &#x3D; matrix[0].length-1; regression(matrix, rows&gt;&#x3D;cols?cols:rows);&#125;public void regression(int[][] matrix,int index)&#123; if(index&lt;0)&#123; return; &#125; boolean flag &#x3D; false; for(int i &#x3D;index;i&lt;matrix[0].length;i++)&#123; if(matrix[index][i]&#x3D;&#x3D;0) &#123; handleZero(matrix,i); flag&#x3D;true; break; &#125; &#125; if(flag&#x3D;&#x3D;false)&#123; for(int j &#x3D;index;j&lt;matrix.length;j++)&#123; if(matrix[j][index]&#x3D;&#x3D;0) &#123; handleZero(matrix,j); break; &#125; &#125; &#125; regression(matrix, --index);&#125;private void handleZero(int[][] matrix,int pos) &#123; for(int i&#x3D;matrix[0].length-1;i&gt;&#x3D;pos;i--)&#123; matrix[pos][i]&#x3D;0; &#125; for(int j&#x3D;matrix.length-1;j&gt;&#x3D;pos;j--)&#123; matrix[j][pos]&#x3D;0; &#125;&#125;å†™å®ŒåŽå¾ˆå¿«å‘çŽ°ä¸èƒ½å¤Ÿå®žçŽ°ï¼ŒåŽŸå› å°±åœ¨äºŽä»–åªèƒ½ç®¡ç†åˆ°å†…å±‚ï¼Œå¤–å±‚æ ‡ä¸º0åŽï¼Œæ²¡åŠžæ³•åšé¢å¤–çš„æ ‡è®°ï¼ˆå…¶å®žç”Ÿäº§ä»£ç å¯ä»¥æ‰“ä¸€äº›æ ‡è®°ï¼‰ï¼Œæ‰€ä»¥åªèƒ½æŠ›å¼ƒè¿™ä¸ªæœ¬ä»¥ä¸ºå¾ˆç®€å•çš„æ–¹æ³•ï¼Œè¯¥ç”¨äº†setåˆé›†åŽ»è®°å½•è¦è®¾ç½®0è¡Œåˆ—çš„è¡Œå·æˆ–è€…åˆ—å·ï¼Œè¿™ä¸ªå¤æ‚åº¦å¹¶ä¸æ˜¯å¾ˆå¤æ‚ï¼Œä½†æ˜¯æ‰§è¡Œå®Œå‘çŽ°ä»£ç çš„æ•ˆçŽ‡è¿˜æ˜¯å¾ˆä½Žï¼Œå…ˆæ”¾ä»£ç ï¼š12345678910111213141516171819202122232425class Solution &#123; public void setZeroes(int[][] matrix) &#123; int R &#x3D; matrix.length; int C &#x3D; matrix[0].length; Set&lt;Integer&gt; rows &#x3D; new HashSet&lt;Integer&gt;(); Set&lt;Integer&gt; cols &#x3D; new HashSet&lt;Integer&gt;(); for (int i &#x3D; 0; i &lt; R; i++) &#123; for (int j &#x3D; 0; j &lt; C; j++) &#123; if (matrix[i][j] &#x3D;&#x3D; 0) &#123; rows.add(i); cols.add(j); &#125; &#125; &#125; for (int i &#x3D; 0; i &lt; R; i++) &#123; for (int j &#x3D; 0; j &lt; C; j++) &#123; if (rows.contains(i) || cols.contains(j)) &#123; matrix[i][j] &#x3D; 0; &#125; &#125; &#125; &#125;&#125;ä»£ç ä½Žæ•ˆçš„åŽŸå› åœ¨äºŽåŠ¨ç”¨äº†ä¸¤å±‚å¾ªçŽ¯ï¼Œæ—¶é—´å¤æ‚åº¦éžå¸¸ä½Žï¼Œé¢˜ç›®çš„ç½®0æ˜¯æœ‰è§„å¾‹çš„ï¼Œä¸æ˜¯æ— è§„å¾‹çš„ï¼Œæ‰€ä»¥æˆ‘å¼€å§‹å¯»æ±‚æ›´æ–°ç®€å•çš„æ–¹æ³•,å…ˆè´´æœ€ä¼˜è§£ï¼Œè¦ç¡è§‰äº†ï¼Œæˆ‘çš„å¤´å‘å•Š 123456789101112131415161718192021222324252627282930313233343536373839404142class Solution &#123; public void setZeroes(int[][] matrix) &#123; int R &#x3D; matrix.length; int C &#x3D; matrix[0].length; boolean isCol &#x3D; false; for(int i&#x3D;0; i&lt;R; i++) &#123; if (matrix[i][0] &#x3D;&#x3D; 0) &#123; isCol &#x3D; true; &#125; for(int j&#x3D;1; j&lt;C; j++) &#123; if(matrix[i][j]&#x3D;&#x3D;0) &#123; matrix[0][j] &#x3D; 0; matrix[i][0] &#x3D; 0; &#125; &#125; &#125; &#x2F;&#x2F; Iterate over the array once again and using the first row and first column, update the elements. for(int i&#x3D;1; i&lt;R; i++) &#123; for(int j&#x3D;1; j&lt;C; j++) &#123; if(matrix[i][0]&#x3D;&#x3D;0 || matrix[0][j]&#x3D;&#x3D;0) &#123; matrix[i][j] &#x3D; 0; &#125; &#125; &#125; &#x2F;&#x2F; See if the first row needs to be set to zero as well if(matrix[0][0]&#x3D;&#x3D;0) &#123; for(int j&#x3D;0; j&lt;C; j++) &#123; matrix[0][j] &#x3D; 0; &#125; &#125; &#x2F;&#x2F; See if the first column needs to be set to zero as well if(isCol) &#123; for(int i&#x3D;0; i&lt;R; i++) &#123; matrix[i][0] &#x3D; 0; &#125; &#125; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-01-09-RedisTransaction]]></title>
    <url>%2F2020%2F01%2F09%2F2020-01-09-RidisTransaction%2F</url>
    <content type="text"><![CDATA[å®˜ç½‘docï¼šhttps://redis.io/topics/transactions æœ¬æ–‡çº¯å±žé˜…è¯»ç¬”è®°ï¼Œæ— å­¦æœ¯å‚è€ƒä»·å€¼ whatäº‹åŠ¡ï¼ˆtransactionï¼‰çš„æœ¬è´¨å°±æ˜¯å¤„ç†å¥½å‡ ä¸ªåŠ¨ä½œï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆå…¶ä¸­ä¸€ä¸ªå¤±è´¥å°±å…¨éƒ¨å›žæ»š æ¯é—¨è¯­è¨€éƒ½ä¼šæœ‰äº‹åŠ¡çš„æ”¯æŒï¼Œnodeä¹Ÿæœ‰asyncçš„æ–¹æ³•å®žçŽ°äº‹åŠ¡å‡ ä¸ªåŠ¨ä½œä¸²è¡Œï¼Œæˆ–è€…å¹¶è¡Œï¼Œä¸€ä¸ªå¤±è´¥å…¨éƒ¨å›žæ»šï¼Œä¹‹å‰å†™è¿‡æ”¯ä»˜çš„ä¾‹å­ï¼Œä½¿ç”¨async.waterfall,è´­ä¹°ä¼šå‘˜åŽ 1.æŸ¥è¯¢æ”¯ä»˜å®è¿”å›žæ”¯ä»˜æ˜¯å¦æˆåŠŸ 2.èŽ·å–ç”¨æˆ·æ‰€ä¹°ä¼šå‘˜çš„ç­‰çº§åŠç›¸å…³æƒé™ 3.å°†æƒç›Šæ’å…¥ç”¨æˆ·è¡¨ä¸­ 4.å°†è®¢å•æ•°æ®è®°å½•åˆ°è®¢å•è¡¨ä¸­ï¼Œæ–¹ä¾¿åŽå°æŸ¥çœ‹è®¢å•é‡ å¤§è‡´æ­¥éª¤å°±æ˜¯è¿™äº› Redisä¸»è¦ä½¿ç”¨MULTI ,EXEC,DISCARD WATCHæ¥å®žçŽ°äº‹åŠ¡çš„åŠŸèƒ½ éµå¾ªä»¥ä¸‹åŽŸåˆ™ï¼š æ‰€æœ‰å‘½ä»¤è¢«åºåˆ—åŒ–åŽé¡ºåºæ‰§è¡Œï¼Œä¸”æ‰§è¡ŒæœŸé—´ä¸æŽ¥å—å…¶ä»–è¯·æ±‚ï¼Œä¿è¯éš”ç¦»æ€§ EXECå‘½ä»¤è§¦å‘äº‹åŠ¡ä¸­æ‰€æœ‰å‘½ä»¤çš„æ‰§è¡Œï¼Œå› æ­¤ï¼Œå¦‚æžœå®¢æˆ·ç«¯è°ƒç”¨MULTIå‘½ä»¤ä¹‹å‰å¤±åŽ»è¿žæŽ¥ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚å¦‚æžœEXECå‘½ä»¤è°ƒç”¨è¿‡ï¼Œåˆ™æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¼šè¢«æ‰§è¡Œ howMULTIè¾“å…¥äº‹åŠ¡ä»¥OKç­”å¤ï¼Œæ­¤æ—¶ç”¨æˆ·å¯ä»¥å‘é€å¤šä¸ªå‘½ä»¤ï¼ŒRediséƒ½ä¸ä¼šæ‰§è¡Œï¼Œè€Œæ˜¯æŽ’é˜Ÿï¼Œä¸€æ—¦è°ƒç”¨EXECï¼Œåˆ™å°†ä¼šæ‰§è¡Œæ‰€æœ‰å‘½ä»¤ï¼Œè°ƒç”¨DISCARDå°†åˆ·æ–°ï¼ˆFlushï¼Ÿæ¸…ç©ºï¼Ÿé‡æ–°æ‰§è¡Œï¼Ÿï¼‰äº‹åŠ¡é˜Ÿåˆ—å¹¶é€€å‡ºäº‹åŠ¡ ç¤ºä¾‹ä»£ç ï¼š 123456789&gt; MULTIOK&gt; INCR fooQUEUED&gt; INCR barQUEUED&gt; EXEC1) (integer) 12) (integer) 1 å¯ä»¥çœ‹å‡ºEXECè¿”å›žä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯äº‹åŠ¡ä¸­å•ä¸ªå‘½ä»¤çš„ç­”å¤ï¼Œå…¶å‘å‡ºé¡ºåºä¸Žå‘½ä»¤ç›¸åŒ å½“Reidsè¿žæŽ¥å¤„äºŽMULTIçš„è¯·æ±‚æ—¶ï¼Œæ‰€æœ‰çš„å‘½ä»¤éƒ½å°†ä»¥å­—ç¬¦ä¸²queuedç­”å¤ï¼Œå½“EXECæ—¶ï¼Œå°†é¡ºåºæ‰§è¡Œ errorså¯èƒ½å­˜åœ¨ä¸¤ç§å‘½ä»¤é”™è¯¯ï¼š å‘½ä»¤å¯èƒ½æ— æ³•æŽ’é˜Ÿï¼Œå› æ­¤åœ¨EXECä¹‹å‰å¯èƒ½æœ‰é”™è¯¯ï¼ˆåŒ…æ‹¬å‘½ä»¤è¯­æ³•é”™è¯¯ï¼‰ è°ƒç”¨EXECåŽï¼Œå‘½ä»¤æ‰§è¡Œå¤±è´¥ å®¢æˆ·ç«¯é€šè¿‡æ£€æŸ¥å·²æŽ’é˜Ÿï¼ˆqueuedï¼‰çš„å‘½ä»¤è¿”å›žå€¼æ¥åˆ¤æ–­ç¬¬ä¸€ç§é”™è¯¯ï¼Œå¦å¤–ä»Ž2.6.5å¼€å§‹ï¼ŒæœåŠ¡å™¨å°†è®°ä½åœ¨å‘½ä»¤æŽ’é˜ŸæœŸé—´å‘ç”Ÿçš„é”™è¯¯ï¼Œå¹¶ä¸”æ‹’ç»æ‰§è¡Œäº‹åŠ¡ï¼Œè¿”å›žé”™è¯¯å¹¶è‡ªåŠ¨ä¸¢å¼ƒäº‹åŠ¡ EXECæ‰§è¡ŒåŽé”™è¯¯ä¸ä¼šç‰¹æ®Šå¤„ç†ï¼Œæ‰€æœ‰çš„å‘½ä»¤éƒ½å°†è¢«æ‰§åŠæ—¶æœ‰äº›å‘½ä»¤å¤±è´¥ 12345678910MULTI+OKSET a abc+QUEUEDLPOP a+QUEUEDEXEC*2+OK-ERR Operation against a key holding the wrong kind of value å³æ—¶å‘½ä»¤å¤±è´¥ï¼Œé˜Ÿåˆ—é‡Œçš„å…¶ä»–å‘½ä»¤ä¹Ÿä¼šå¤„ç† 1234&#123; name:stu time:1&#125;]]></content>
      <categories>
        <category>Redis</category>
      </categories>
      <tags>
        <tag>Transaction</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-01-08-MinimunPathSum]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-MinimumPathSum%2F</url>
    <content type="text"><![CDATA[Leetcode-641234567891011121314Given a m x n grid filled with non-negative numbers, find a path from top left to bottom right which minimizes the sum of all numbers along its path.Note: You can only move either down or right at any point in time.Example:Input:[ [1,3,1], [1,5,1], [4,2,1]]Output: 7Explanation: Because the path 1â†’3â†’1â†’1â†’1 minimizes the sum. solutionè§£æ³•ä¸ºç®€å•çš„åŠ¨æ€è§„åˆ’ï¼Œåªè¦æ‰¾åˆ°æ¯”è¾ƒè¯¥å…ƒç´ ï¼Œä¸Šæ–¹å’Œå·¦æ–¹çš„å€¼çš„æœ€å°å€¼ï¼Œç„¶åŽä¸Žè¯¥å€¼ç›¸åŠ ï¼Œå°±å¯ä»¥å¾—åˆ°è§£ 123456789101112class Solution &#123; public int minPathSum(int[][] grid) &#123; for(int i&#x3D;1; i&lt;grid.length; i++) grid[i][0] +&#x3D; grid[i-1][0]; for(int j&#x3D;1; j&lt;grid[0].length; j++) grid[0][j] +&#x3D; grid[0][j-1]; for (int i&#x3D;1; i&lt;grid.length; i++) &#123; for (int j&#x3D;1; j&lt;grid[0].length; j++) &#123; grid[i][j] &#x3D; Math.min(grid[i][j-1], grid[i-1][j]) + grid[i][j]; &#125; &#125; return grid[grid.length-1][grid[0].length-1]; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-01-08-SortColors]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-SortColors%2F</url>
    <content type="text"><![CDATA[Leetcode-75123456789101112131415Given an array with n objects colored red, white or blue, sort them in-place so that objects of the same color are adjacent, with the colors in the order red, white and blue.Here, we will use the integers 0, 1, and 2 to represent the color red, white, and blue respectively.Note: You are not suppose to use the library&#39;s sort function for this problem.Example:Input: [2,0,2,1,1,0]Output: [0,0,1,1,2,2]Follow up:A rather straight forward solution is a two-pass algorithm using counting sort.First, iterate the array counting number of 0&#39;s, 1&#39;s, and 2&#39;s, then overwrite array with total number of 0&#39;s, then 1&#39;s and followed by 2&#39;s.Could you come up with a one-pass algorithm using only constant space? solutioné¢˜ç›®ä¹ä¸€çœ‹éžå¸¸ç®€å•,ä½†ç¡®å®žè¯´ä½¿ç”¨ç®€å•çš„sortæ–¹æ³•ä»¥åŠo(n^2)çš„æŽ’åºç¡®å®žä¼šæµªè´¹æ—¶é—´å¤æ‚åº¦ï¼Œæœ¬ç€å¥½å¥‡å¿ƒï¼Œæˆ‘è¯•äº†ä¸€ä¸‹ï¼Œæžœç„¶æˆäº†åŠè½¦å°¾ 1234567891011121314class Solution &#123; public void sortColors(int[] nums) &#123; for(int i =0;i&lt;nums.length-1;i++)&#123; for(int j=i+1;j&lt;nums.length;j++)&#123; if(nums[i]&gt;nums[j])&#123; int tmp=nums[i]; nums[i]=nums[j]; nums[j]=tmp; &#125; &#125; &#125; &#125;&#125;Runtime: 1 ms, faster than 6.35% of Java online submissions for Sort Colors. è¯¥é¢˜ä¼˜åŒ–çš„æ ¸å¿ƒä½ç½®æ˜¯è¯¥æ•°ç»„æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œè®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œå·¦è¾¹éåŽ†0ï¼Œé‡åˆ°0å¾€å·¦æ”¾ï¼Œé‡åˆ°2å¾€å³æ”¾ï¼Œrå’Œlä¸ºå·¦å³åˆ†ç•Œçº¿ï¼Œindexè®°å½•æœ€åŽä¸€ä¸ª0çš„ä½ç½®1234567891011121314151617181920212223242526272829class Solution &#123; public void sortColors(int[] nums) &#123; int l = 0; int r = nums.length - 1; int index = 0; while(l &lt;= r) &#123; if(nums[l] == 0) &#123; if(l &gt; index) &#123; int tmp = nums[index]; nums[index] = nums[l]; nums[l] = tmp; index++; &#125; else &#123; l++; index++; &#125; &#125; else if(nums[l] == 2) &#123; int tmp = nums[r]; nums[r] = 2; nums[l] = tmp; r--; &#125; else l++; &#125; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-01-07-å…³äºŽPromiseçš„æ€è€ƒ]]></title>
    <url>%2F2020%2F01%2F07%2F2020-01-07-%E5%85%B3%E4%BA%8EPromise%E7%9A%84%E6%80%9D%E8%80%83%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®ï¼ˆè¿™é“é¢˜åœ¨äº’è”ç½‘ä¸Šå·²ç»æœ‰äº†ï¼‰ 123å¯ä»¥æ·»åŠ ä»»åŠ¡ï¼Œä»»åŠ¡åŒ…å«ä»»åŠ¡æ•°æ®ï¼Œä»»åŠ¡å»¶è¿Ÿè§¦å‘çš„ç­‰å¾…æ—¶é—´ã€‚åœ¨ä»»åŠ¡åˆ°è¾¾è§¦å‘æ—¶é—´ç‚¹æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æ‰§è¡Œæ­¤ä»»åŠ¡ã€‚é˜Ÿåˆ—ä¸­ä»»åŠ¡ä¿æŒå…ˆè¿›å…ˆå‡ºåŽŸåˆ™ï¼šå‡è®¾ A ä»»åŠ¡çš„è§¦å‘ç­‰å¾…æ—¶é—´ä¸º Xï¼ŒB ä»»åŠ¡çš„è§¦å‘ç­‰å¾…æ—¶é—´ä¸º Yï¼ŒB åœ¨ A ä¹‹åŽè¢«æ·»åŠ å…¥é˜Ÿåˆ—ï¼Œåˆ™ A çš„å‰é©±ä»»åŠ¡æ‰§è¡Œå®ŒæˆåŽç­‰å¾…æ—¶é—´ X åŽï¼Œæ‰æ‰§è¡Œ Aï¼ŒåŒç†åœ¨ A æ‰§è¡Œå®ŒæˆåŽï¼Œç­‰å¾…æ—¶é—´ Yï¼Œæ‰æ‰§è¡Œ Bã€‚ æ€è·¯è¿‡ç¨‹1.Javaä¸Šçº¿è¯»é¢˜ç›®å°±æ˜¯å»¶æ—¶é˜Ÿåˆ—çš„ç‰¹å¾ï¼ŒJavaæœ‰é”ï¼Œæœ‰å¤šçº¿ç¨‹ï¼Œå†™èµ·æ¥å¤šæ–¹ä¾¿ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081import java.util.concurrent.BlockingQueue;import java.util.concurrent.DelayQueue;import java.util.concurrent.Delayed;import java.util.concurrent.TimeUnit;public class HandWritingQueue &#123; public static void main(String[] args) &#123; final BlockingQueue&lt;DelayedElement&gt; deque = new DelayQueue&lt;&gt;(); Runnable producerRunnable = new Runnable() &#123; int i = 10; public void run() &#123; while (true &amp;&amp; i&gt;0) &#123; try &#123; --i; System.out.println(&quot;producing &quot;+i+&quot;,wait &quot;+i+&quot; seconds&quot;); deque.put(new DelayedElement(1000 * i, &quot;i=&quot; + i)); Thread.sleep(200); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125;; Runnable customerRunnable = new Runnable() &#123; public void run() &#123; while (true) &#123; try &#123; System.out.println(&quot;consuming:&quot; + deque.take().msg); //Thread.sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125;; Runnable getSize= new Runnable() &#123; @Override public void run() &#123; while (true) &#123; System.out.println(&quot;size=&quot;+deque.size()); try &#123; Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125;; Thread thread1 = new Thread(producerRunnable); thread1.start(); Thread thread2 = new Thread(customerRunnable); thread2.start(); Thread thread3 = new Thread(getSize); thread3.start(); &#125; static class DelayedElement implements Delayed &#123; private final long expire; private final String msg; public DelayedElement(long delay, String msg) &#123; this.msg = msg; expire = System.currentTimeMillis() + delay; &#125; @Override public long getDelay(TimeUnit unit) &#123; return unit.convert(this.expire - System.currentTimeMillis(), TimeUnit.MILLISECONDS); &#125; @Override public int compareTo(Delayed o) &#123; return -1;//FIFO &#125; &#125;&#125; 2.Nodeä¸Šçº¿è¢«æé†’è¯¥é¢˜ç›®å¯ä»¥ç”¨nodeå®žçŽ°ï¼Œä¸”ä¸éœ€è¦å€ŸåŠ©redisæ¥åšï¼Œç„¶åŽæˆ‘ä¸Šæ‰‹å°±æ˜¯ä¸€æŠŠæ“ä½œï¼š 123456789101112131415161718192021222324&#x27;use strict&#x27;class DelayElement &#123; constructor(data, expire) &#123; this.data = data; this.expire = expire;//second &#125;&#125;const delayArray = [];//push two element in delayArraydelayArray.push(new DelayElement(1, 2));delayArray.push(new DelayElement(2, 1));let length = delayArray.length;let time_cnt = 0;while (delayArray.length &gt; 0) &#123; let de = delayArray.shift(); time_cnt += de.expire;//serial (function () &#123; setTimeout(() =&gt; &#123; console.log(&#x27;expire data is :&#x27; + de.data + &#x27;,expire time is :&#x27; + de.expire); &#125;, time_cnt * 1000); &#125;)();&#125; æˆ‘ä»¥ä¸ºè®¾è®¡çš„è€ƒç‚¹ä¹Ÿå°±æ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œå»¶æ—¶çš„ä½¿ç”¨ï¼Œä½†æ˜¯è¿™é‡Œçš„forå¾ªçŽ¯æ˜¯ä¸ªä¼ªä¸²è¡Œï¼Œå®žé™…ä¸Šæ˜¯å¹¶å‘çš„ï¼Œä¹Ÿä¸ºç¬¬ä¸‰æ­¥çš„ä¿®æ”¹æä¾›äº†bug 3.Promiseæ—¶ä»£ä¸€å¼€å§‹æˆ‘æ˜¯æƒ³æŠŠasyncå‡½æ•°æ”¾è¿›åŽ»ï¼Œå†™äº†å¦‚ä¸‹çš„ä»£ç ï¼š 1234567891011121314151617&#x27;use strict&#x27;const delayArray = [];const daPush = (data, expire) =&gt; &#123; delayArray.push(async () =&gt; &#123; setTimeout(() =&gt; &#123; console.log(&#x27;data is &#x27; + data + &#x27; and expire is &#x27; + expire); &#125;, expire * 1000); &#125;);&#125;daPush(1, 4);//2 secondsdaPush(2, 5);(async () =&gt; &#123; for (const da of delayArray) &#123; await da(); &#125;&#125;)(); å‘çŽ°ä»£ç è¿˜æ˜¯ä¸²è¡Œçš„ï¼Œç„¶åŽæŸ¥äº†ä¸€ä¸‹å¯èƒ½çš„é—®é¢˜ï¼ˆä»¥ä¸‹ä¸ºä¸ªäººçŒœæµ‹ï¼Œæ¬¢è¿ŽæŒ‡æ­£ï¼‰asyncå£°æ˜Žçš„å‡½æ•°ä¼šåŒ…è£…æˆPromiseä¸å‡ï¼Œä½†æ˜¯forå¾ªçŽ¯ä¼šå¹¶å‘åŽ»æ‰§è¡Œawaitä¸­çš„async 4.æ­£è§£ promiseæ‰§è¡Œä¼šé˜»å¡žä¸»çº¿ç¨‹ Macrotaskså’ŒMicrotasks éƒ½å±žäºŽä¸Šè¿°çš„å¼‚æ­¥ä»»åŠ¡ä¸­çš„ä¸€ç§ï¼Œä»–ä»¬åˆ†åˆ«æœ‰å¦‚ä¸‹APIï¼šmacrotasks: setTimeout, setInterval, setImmediate, I/O, UI renderingmicrotasks: process.nextTick, Promise, MutationObserver ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåœ¨æ¯ä¸€æ¬¡äº‹ä»¶å¾ªçŽ¯ä¸­ï¼Œmacrotaskåªä¼šæå–ä¸€ä¸ªæ‰§è¡Œï¼Œè€Œmicrotaskä¼šä¸€ç›´æå–ï¼Œç›´åˆ°microsofté˜Ÿåˆ—ä¸ºç©ºä¸ºæ­¢ã€‚ ä¹Ÿå°±æ˜¯è¯´å¦‚æžœæŸä¸ªmicrotaskä»»åŠ¡è¢«æŽ¨å…¥åˆ°æ‰§è¡Œä¸­ï¼Œé‚£ä¹ˆå½“ä¸»çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®ŒæˆåŽï¼Œä¼šå¾ªçŽ¯è°ƒç”¨è¯¥é˜Ÿåˆ—ä»»åŠ¡ä¸­çš„ä¸‹ä¸€ä¸ªä»»åŠ¡æ¥æ‰§è¡Œï¼Œç›´åˆ°è¯¥ä»»åŠ¡é˜Ÿåˆ—åˆ°æœ€åŽä¸€ä¸ªä»»åŠ¡ä¸ºæ­¢ã€‚ è€Œäº‹ä»¶å¾ªçŽ¯æ¯æ¬¡åªä¼šå…¥æ ˆä¸€ä¸ªmacrotask,ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæˆè¯¥ä»»åŠ¡åŽåˆä¼šæ£€æŸ¥microtasksé˜Ÿåˆ—å¹¶å®Œæˆé‡Œé¢çš„æ‰€æœ‰ä»»åŠ¡åŽå†æ‰§è¡Œmacrotaskçš„ä»»åŠ¡ã€‚ ä»¥åŠmacrotaskåº”è¯¥å¯¹åº”çš„æ˜¯checké˜Ÿåˆ—ï¼ˆè¯¥è¡ŒæœªéªŒè¯ï¼‰ 123456789101112131415161718192021222324252627282930&#x27;use strict&#x27;const delayArray = [];const daPush = (data, expire) =&gt; &#123; delayArray.push(() =&gt; new Promise((resolve,reject) =&gt; &#123; setTimeout(() =&gt; &#123; if(data) &#123; console.log(&#x27;data is &#x27; + data + &#x27; and expire is &#x27; + expire); resolve(true); &#125; else&#123; reject(&#x27;there is nodata&#x27;); &#125; &#125;, expire * 1000); &#125;));&#125;;daPush(1, 4);//2 secondsdaPush(2, 5);(async () =&gt; &#123; for (const da of delayArray) &#123; da().then((value)=&gt;&#123; // console.log(value); &#125;).catch((value)=&gt;&#123; console.log(value); &#125;); //æ²¡æœ‰28-33ï¼Œåª35è¡Œä¹Ÿå¯ä»¥ // await da(); &#125;&#125;)();]]></content>
  </entry>
  <entry>
    <title><![CDATA[2020-01-07-SetTimeout]]></title>
    <url>%2F2020%2F01%2F07%2F2020-01-07-SetTimeout%2F</url>
    <content type="text"><![CDATA[æ‰§è¡Œäº†ä¸€ä¸‹ç¨‹åºï¼š 12345while(true)&#123; setTimeout(()&#x3D;&gt;&#123; console.log(1) &#125;,0)&#125; è¿”å›žäº†ä¸€ä¸‹å†…å®¹ï¼š 123456789101112131415161718192021222324252627&lt;--- Last few GCs ---&gt;[12308:000001E565C2F6F0] 14167 ms: Mark-sweep 1395.9 (1425.2) -&gt; 1395.9 (1423.7) MB, 1754.1 &#x2F; 0.0 ms (+ 0.0 ms in 39 steps since start of marking, biggest step 0.0 ms, walltime since start of marking 1764 ms) (average mu &#x3D; 0.105, current mu &#x3D; 0.020) a[12308:000001E565C2F6F0] 14175 ms: Scavenge 1397.3 (1423.7) -&gt; 1397.3 (1425.2) MB, 7.0 &#x2F; 0.0 ms (average mu &#x3D; 0.105, current mu &#x3D; 0.020) allocation failure&lt;--- JS stacktrace ---&gt;&#x3D;&#x3D;&#x3D;&#x3D; JS stack trace &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; 0: ExitFrame [pc: 000002AFCABDC5C1]Security context: 0x037b5391e6e9 &lt;JSObject&gt; 1: &#x2F;* anonymous *&#x2F; [0000016D4360B9A1] [D:\working\h3yun\test.3.js:~1] [pc&#x3D;000002AFCAC7210F](this&#x3D;0x016d4360bad1 &lt;Object map &#x3D; 000001F79EE82571&gt;,exports&#x3D;0x016d4360bad1 &lt;Object map &#x3D; 000001F79EE82571&gt;,require&#x3D;0x016d4360ba91 &lt;JSFunction require (sfi &#x3D; 00000397F3EC6A31)&gt;,module&#x3D;0x016d4360ba09 &lt;Module map &#x3D; 000001F79EED3DA1&gt;,__filename&#x3D;0x0397f3ece219 &lt;Strin...FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory 1: 00007FF7C7BFC6AA v8::internal::GCIdleTimeHandler::GCIdleTimeHandler+4506 2: 00007FF7C7BD7416 node::MakeCallback+4534 3: 00007FF7C7BD7D90 node_module_register+2032 4: 00007FF7C7EF189E v8::internal::FatalProcessOutOfMemory+846 5: 00007FF7C7EF17CF v8::internal::FatalProcessOutOfMemory+639 6: 00007FF7C80D7F94 v8::internal::Heap::MaxHeapGrowingFactor+9620 7: 00007FF7C80CEF76 v8::internal::ScavengeJob::operator&#x3D;+24550 8: 00007FF7C80CD5CC v8::internal::ScavengeJob::operator&#x3D;+17980 9: 00007FF7C80D6317 v8::internal::Heap::MaxHeapGrowingFactor+232710: 00007FF7C80D6396 v8::internal::Heap::MaxHeapGrowingFactor+245411: 00007FF7C8200637 v8::internal::Factory::NewFillerObject+5512: 00007FF7C827D826 v8::internal::operator&lt;&lt;+7349413: 000002AFCABDC5C1 whyå› ä¸ºä¸šåŠ¡ä»£ç é˜»å¡žä½ï¼Œæ²¡æœ‰è¿›å…¥timer_handlerçš„å¾ªçŽ¯ï¼Œæ‰€ä»¥1è™½ç„¶è¿›å…¥äº†timerçš„çº¢é»‘æ ‘ä¸­ï¼Œä½†æ˜¯ä¸å¯èƒ½è¾“å‡ºï¼Œä¸åƒä¹‹å‰forå¾ªçŽ¯ä¼šæœ‰ä¸€ä¸ªæˆªæ­¢æ¡ä»¶ï¼ŒåŽç»­çš„å®šæ—¶å™¨è¿˜æ˜¯å¯ä»¥ç”Ÿæ•ˆçš„ å¦å¤–æœ‰ä¸€ä¸ªåœ°æ–¹è®°æ··äº†ï¼ŒéåŽ†å›žè°ƒçš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œç›´åˆ°å›žè°ƒä¸ºç©ºæˆ–è€…æœ€å¤§æ‰§è¡Œå›žè°ƒæ•°é‡ï¼Œè€Œä¸šåŠ¡ä»£ç åªä¼šåœ¨è¿™é‡Œé˜»å¡žä¸ä¼šåœæ­¢ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä½•å‡ºçŽ°GCçš„æ—¥å¿— whatsetimeoutæ˜¯JSå‰ç«¯å¸¸ç”¨çš„æŽ§ä»¶ç”¨æ¥å»¶æ—¶æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼ˆå›žè°ƒï¼‰ï¼Œå½“æ‰§è¡Œä¸šåŠ¡ä»£ç çš„æ—¶å€™æˆ‘ä»¬ä¼šå°†settimeoutï¼ŒsetImmediateï¼ŒnextTickï¼ŒsetIntervalæ’å…¥timer_handlerçš„ä¸åŒé˜Ÿåˆ—ä¸­ï¼ˆè¯¦è§å·¦ä¾§nodeåˆ†æ”¯ï¼Œä¸”æ–‡ç« ä¹Ÿåœ¨æ›´æ–°ä¸­ï¼‰ï¼Œå½“JSå•çº¿ç¨‹æ‰§è¡Œå®Œä¸šåŠ¡ä»£ç åŽï¼Œæ‰å¼€å§‹eventloopæŸ¥æ‰¾è§‚å¯Ÿè€…æ¥è¿›è¡Œå›žè°ƒï¼Œå½“ç„¶ä¹Ÿå­˜åœ¨å»¶æ—¶ä¸ç²¾ç¡®çš„å¯èƒ½]]></content>
  </entry>
  <entry>
    <title><![CDATA[2020-01-06-gRPC]]></title>
    <url>%2F2020%2F01%2F06%2F2020-01-06-gRPC%2F</url>
    <content type="text"><![CDATA[whygRPCæ˜¯ä»»ä½•çŽ¯å¢ƒéƒ½å¯ä»¥è¿è¡Œçš„é«˜æ€§èƒ½å¼€æºæ¡†æž¶ï¼Œä»–å¯ä»¥é€šè¿‡pluggable supportæ¥é«˜æ•ˆå®žçŽ°è´Ÿè½½å‡è¡¡ï¼Œå¿ƒè·³æ£€æµ‹å’ŒæŽˆæƒï¼Œä»–ä¹Ÿå¯ä»¥åº”ç”¨äºŽåˆ†å¸ƒå¼è®¡ç®—çš„æœ€åŽä¸€ä¸ªæµç¨‹ï¼ˆè¿žæŽ¥å„ä¸ªç«¯åˆ°åŽç«¯ï¼‰ ç®€å•çš„æœåŠ¡å®šä¹‰ å¿«é€Ÿå¯åŠ¨æ˜“æ‰©å±• è·¨è¯­è¨€ï¼Œè·¨å¹³å° åŒå‘æµå’Œé‰´æƒ feature gRPCå¯ä»¥é€šè¿‡protobufæ¥å®šä¹‰æŽ¥å£ï¼Œä»Žè€Œå¯ä»¥æœ‰æ›´åŠ ä¸¥æ ¼çš„æŽ¥å£çº¦æŸæ¡ä»¶ã€‚å…³äºŽprotobufå¯ä»¥å‚è§ç¬”è€…ä¹‹å‰çš„å°æ–‡Google Protobufç®€æ˜Žæ•™ç¨‹ å¦å¤–ï¼Œé€šè¿‡protobufå¯ä»¥å°†æ•°æ®åºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶ç¼–ç ï¼Œè¿™ä¼šå¤§å¹…å‡å°‘éœ€è¦ä¼ è¾“çš„æ•°æ®é‡ï¼Œä»Žè€Œå¤§å¹…æé«˜æ€§èƒ½ã€‚ gRPCå¯ä»¥æ–¹ä¾¿åœ°æ”¯æŒæµå¼é€šä¿¡(ç†è®ºä¸Šé€šè¿‡http2.0å°±å¯ä»¥ä½¿ç”¨streamingæ¨¡å¼, ä½†æ˜¯é€šå¸¸webæœåŠ¡çš„restful apiä¼¼ä¹Žå¾ˆå°‘è¿™ä¹ˆç”¨ï¼Œé€šå¸¸çš„æµå¼æ•°æ®åº”ç”¨å¦‚è§†é¢‘æµï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ä¸“é—¨çš„åè®®å¦‚HLSï¼ŒRTMPç­‰ï¼Œè¿™äº›å°±ä¸æ˜¯æˆ‘ä»¬é€šå¸¸webæœåŠ¡äº†ï¼Œè€Œæ˜¯æœ‰ä¸“é—¨çš„æœåŠ¡å™¨åº”ç”¨ã€‚ï¼‰ node123456$ # Clone the repository to get the example code$ git clone -b v1.25.0 https:&#x2F;&#x2F;github.com&#x2F;grpc&#x2F;grpc$ # Navigate to the dynamic codegen &quot;hello, world&quot; Node example:$ cd grpc&#x2F;examples&#x2F;node&#x2F;dynamic_codegen$ # Install the example&#39;s dependencies$ npm install]]></content>
      <categories>
        <category>gRPC</category>
      </categories>
      <tags>
        <tag>network</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-01-03-SearchInsertPosition]]></title>
    <url>%2F2020%2F01%2F03%2F2020-01-03-SearchInsertPosition%2F</url>
    <content type="text"><![CDATA[LeetCode38Easy Given a sorted array and a target value, return the index if the target is found. If not, return the index where it would be if it were inserted in order. You may assume no duplicates in the array. Example 1: 12Input: [1,3,5,6], 5Output: 2 Example 2: 12Input: [1,3,5,6], 2Output: 1 Example 3: 12Input: [1,3,5,6], 7Output: 4 Example 4: 12Input: [1,3,5,6], 0Output: 0 ç¦»èŒåŽçš„ç¬¬ä¸€é¢˜æƒ³å…ˆç®€å•ç‚¹çƒ­ä¸ªèº«ï¼ˆåŽé¢æœ‰ä¸ªéš¾çš„ç›®å‰è¿˜æ²¡åšå‡ºæ¥ï¼‰ï¼Œå°±æ˜¯è¯´ç»™ä¸€ä¸ªtargetï¼Œè¿”å›žå®ƒåœ¨æ•°ç»„ä¸­çš„ä½ç½® Howè¯¥é¢˜ç›®ä¸€ä¸Šè„‘å­å°±å¯ä»¥å†™ä¸‹å¦‚ä¸‹çš„ä»£ç  12345678910111213141516public int searchInsert(int[] nums, int target) &#123; if (nums == null || nums.length == 0) &#123; return 0; &#125; if (target &gt; nums[nums.length - 1]) &#123; return nums.length; &#125; int pos =1; for(int i =0;i&lt;nums.length-1;i++)&#123; if(nums[i]&lt;target &amp;&amp; nums[i+1]&gt;=target)&#123; pos = ++i; break; &#125; &#125; return pos;&#125; ä½†è½¬å¿µä¸€æƒ³ï¼Œé¢˜ç›®ä¸­ç»™å®šçš„æ˜¯ä¸€ä¸ªsorted arrayè¿™æ˜¯ä¸€ä¸ªä¼˜åŒ–çš„åˆ‡å£ï¼Œå¯ä»¥å°†O(n)çš„å¤æ‚åº¦é™ä½Žåˆ°O(logn),é€šè¿‡é€’å½’æ¥æ‹†è§£å®Œæˆè¿™é“é¢˜ 12345678910111213141516171819private int searchInsert(int[] nums, int target, int low, int high) &#123; int mid = (low+high)/2; if (target &lt; nums[mid]) &#123; if (mid == 0 || target &gt; nums[mid-1]) &#123; return mid; &#125; return searchInsert(nums, target, low, mid-1); &#125; if (target &gt; nums[mid]) &#123; if (mid == nums.length-1 || target &lt; nums[mid+1]) &#123; return mid+1; &#125; return searchInsert(nums, target, mid+1, high); &#125; return mid; &#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2019-12-22-SpringBootæ¦‚è¦]]></title>
    <url>%2F2019%2F12%2F16%2F2019-12-22-SpringBoot%E6%A6%82%E8%A6%81%20%2F</url>
    <content type="text"><![CDATA[å«ä¹‰ï¼šspring çš„ç®€åŒ–é…ç½®ç‰ˆæœ¬ï¼ˆç»§æ‰¿çˆ¶ç±»ä¾èµ–ï¼Œæ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰é…ç½®ï¼‰ 123456789101112131415&lt;!--ä½ çš„é¡¹ç›®pomæ–‡ä»¶--&gt;&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.4.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;&lt;/parent&gt;&lt;!--ç‚¹å¼€spring-boot-starter-parentï¼Œæ–‡ä»¶ç›¸å¯¹ä½ç½®\org\springframework\boot\spring-boot-starter-parent\2.0.4.RELEASE--&gt;&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;2.0.4.RELEASE&lt;/version&gt; &lt;relativePath&gt;../../spring-boot-dependencies&lt;/relativePath&gt;&lt;/parent&gt; å¾®æœåŠ¡ AOP ç®€åŒ–éƒ¨ç½²ï¼Œå¯ä»¥å†pom.xmlä¸­é…ç½®pluginsæ¥å®žçŽ°å¯¼å‡ºjaråŒ…ï¼Œæ–¹ä¾¿æ‰§è¡Œ Features: starter å…¥å£ç±»æ ‡è®°@SpringBootApplication SpringBooté…ç½®ç±»@SpringBootConfiguration é…ç½®ç±»@Configuration å¼€å¯è‡ªåŠ¨é…ç½®@EnableAutoConfiguration è‡ªåŠ¨é…ç½®åŒ…@AutoConfigurationPackage å¯¼å…¥ç»„ä»¶@Import ç–‘æƒ‘ ä¸ºä»€ä¹ˆä½¿ç”¨æ³¨è§£ ä¸ºä»€ä¹ˆéœ€è¦AOP ä¸ºä»€ä¹ˆé€‰æ‹©springboot]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>introduction</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2019-12-22-zookeeperæ¦‚è¦]]></title>
    <url>%2F2019%2F12%2F16%2F2019-12-22-zookeeper%E6%A6%82%E8%A6%81%2F</url>
    <content type="text"><![CDATA[å«ä¹‰ï¼šåŠ¨ç‰©ç®¡ç†å‘˜ï¼Œç®¡ç†èŠ‚ç‚¹ ä½œç”¨ï¼šå¼€æºçš„åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºåè°ƒæœåŠ¡ï¼ˆç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªæŠ½è±¡å‡ºæ¥ï¼Œä¸“é—¨ç®¡ç†å„ä¸ªæœåŠ¡çš„ç®¡ç†å‘˜ï¼Œå‘çŽ°æœåŠ¡ï¼Œæ³¨å†ŒæœåŠ¡ï¼Œä»¥å®žçŽ°åˆ†å¸ƒå¼åº”ç”¨çš„è”åˆå·¥ä½œï¼‰ feature æ ‘çŠ¶ç›®å½•ç»“æž„ï¼ŒèŠ‚ç‚¹ç§°ä½œznode æŒä¹…èŠ‚ç‚¹ï¼ˆå®¢æˆ·ç«¯æ–­å¼€ä»ç„¶å­˜åœ¨ï¼‰ ä¸´æ—¶èŠ‚ç‚¹ï¼ˆæ–­å¼€æ¶ˆå¤±ï¼‰ èŠ‚ç‚¹ç›‘å¬ï¼ˆé€šè¿‡get exists,getchildrenæ¥å®žè¡Œç›‘å¬ï¼‰ åº”ç”¨ï¼š åˆ†å¸ƒå¼é” æè¿° é—®é¢˜åœºæ™¯ æˆ‘ä»¬æœ‰ä¸€ä¸ªæœåŠ¡Cï¼Œå°†Aç³»ç»Ÿçš„è®¢å•æ•°æ®ï¼Œå‘é€åˆ°Bç³»ç»Ÿè¿›è¡Œè´¢åŠ¡å¤„ç†ï¼Œä½†è¿™ä¸ªæœåŠ¡éƒ¨Cç½²äº†ä¸‰ä¸ªæœåŠ¡å™¨æ¥è¿›è¡Œå¹¶å‘ï¼Œå…¶ä¸­æœ‰äº›æ•°æ®åœ¨ä¼ é€å¤„ç†æ—¶ä¼šnewä¸€ä¸ªobjectidï¼Œå¦‚æžœä¸æ·»åŠ é”ï¼Œè¯¥æ•°æ®å¯èƒ½è¢«ä¸¤ä¸ªæœåŠ¡åŒæ—¶è°ƒèµ·ï¼Œåœ¨BæœåŠ¡ä¸­ç”Ÿæˆä¸¤æ¡è®°å½• è§£å†³æ–¹æ¡ˆ æˆ‘ä»¬åŒæ­¥æ•°æ®æ—¶å€™ï¼Œéœ€è¦ç»™åŒä¸€ä¸ªæ•°æ®åŠ é”ï¼Œé˜²æ­¢è¯¥æ•°æ®åŒæ—¶è¢«ä¸¤ä¸ªæœåŠ¡è°ƒèµ·ï¼ŒæœåŠ¡è®¿é—®æŸæ¡è®¢å•æ•°æ®æ—¶å€™ï¼Œéœ€è¦å…ˆèŽ·å¾—é”ï¼Œæ“ä½œå®ŒåŽé‡Šæ”¾é” å®žçŽ°æ–¹å¼ æ¯ä¸ªæœåŠ¡è¿žæŽ¥ä¸€ä¸ªznodeçš„ä¸‹å±žæœ‰åºä¸´æ—¶èŠ‚ç‚¹ï¼Œå¹¶ç›‘å¬ä¸Šä¸ªèŠ‚ç‚¹çš„å˜åŒ–ï¼Œç¼–å·æœ€å°çš„ä¸´æ—¶èŠ‚ç‚¹èŽ·å¾—é”ï¼Œæ“ä½œèµ„æºï¼Œæ¥å®žçŽ° æœåŠ¡æ³¨å†Œå’Œå‘çŽ° é—®é¢˜åœºæ™¯ æˆ‘ä»¬åŒæ­¥æ•°æ®çš„æœåŠ¡Cï¼ˆä¸Šä¸ªè¡¨æ ¼ä¸­æè¿°ï¼‰,å¯èƒ½æ˜¯éƒ¨ç½²åœ¨ä¸€ä¸ªæœºå™¨ä¸Šçš„å¤šè¿›ç¨‹ï¼Œä¹Ÿå¯èƒ½æ˜¯éƒ¨ç½²åœ¨å¤šä¸ªç‰©ç†ipä¸Šçš„æœåŠ¡ï¼Œä»–æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œå¦‚æžœæ²¡æœ‰zookeeperç±»çš„è½¯ä»¶ï¼Œå¯èƒ½æˆ‘æ¯æ”¹ä¸€æ¬¡ipï¼Œéƒ½éœ€è¦é‡å¯ä¸€ä¸‹æœåŠ¡ï¼ŒæœåŠ¡å®•æœºäº†ï¼Œä¹Ÿè¦æ”¹ipï¼ˆä¸ç„¶404ï¼‰ è§£å†³æ–¹æ¡ˆ æˆ‘ä»¬éœ€è¦æœ‰ä¸ªæœåŠ¡æ¥ç®¡ç†åº”ç”¨çŠ¶æ€ï¼ŒçŸ¥é“æœåŠ¡çš„è¿è¡ŒçŠ¶æ€ï¼Œè¿™æ ·ï¼Œå½“å…¶ä»–æœåŠ¡è°ƒèµ·è¿™ä¸ªæœåŠ¡çš„æ—¶å€™ï¼Œæ‰èƒ½é€šè¿‡zookeeperæä¾›çš„åœ°å€è¿›è¡ŒåŒè¡Œ å®žçŽ°æ–¹å¼ æœåŠ¡å¯åŠ¨ä¼šæ³¨å†Œåˆ°zookeeperï¼Œå¹¶ä¿æŒå¿ƒè·³ï¼Œå…¶ä»–æœåŠ¡æƒ³è¦è°ƒç”¨æŸæœåŠ¡çš„æ—¶å€™ï¼Œè¯¢é—®zookeeperæ‹¿åˆ°åœ°å€ï¼Œç„¶åŽå‘é€è¯·æ±‚æŠ¥æ–‡ï¼ˆä¾‹å¦‚RPCï¼‰ 1.æ¯ä¸ªåº”ç”¨åˆ›å»ºä¸€ä¸ªæŒä¹…èŠ‚ç‚¹ï¼Œæ¯ä¸ªæœåŠ¡åœ¨æŒä¹…èŠ‚ç‚¹ä¸‹å»ºç«‹ä¸´æ—¶èŠ‚ç‚¹ï¼Œä¸åŒåº”ç”¨é—´ä¼šæœ‰ç›‘å¬ï¼ŒAæœåŠ¡å¦‚æžœå˜åŠ¨ï¼ŒBæœåŠ¡ä¼šæ”¶åˆ°è®¢é˜…]]></content>
      <categories>
        <category>zookeeper</category>
      </categories>
      <tags>
        <tag>introduction</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2019-12-15-@SpringBootApplication]]></title>
    <url>%2F2019%2F12%2F15%2F2019-12-15-SpringBootApplication%2F</url>
    <content type="text"><![CDATA[å¯åŠ¨ç±»æˆ‘ä»¬å¯ä»¥è§åˆ°æœ€ç®€å•çš„springbootçš„application.javaæ–‡ä»¶å¦‚ä¸‹123456@SpringBootApplicationpublic class SpringTestApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(SpringTestApplication.class, args); &#125; å®žé™…ä¸Šï¼ŒSpringApplicationçš„runæ–¹æ³•æ—¶é¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªSpringApplicationç±»çš„å¯¹è±¡ï¼Œåˆ©ç”¨æž„é€ æ–¹æ³•åˆ›å»ºSpringApplicationå¯¹è±¡æ—¶ä¼šè°ƒç”¨initializeæ–¹æ³• 1234567891011public static ConfigurableApplicationContext run(Object source, String... args) &#123; return run(new Object[] &#123; source &#125;, args); &#125; public static ConfigurableApplicationContext run(Object[] sources, String[] args) &#123; return new SpringApplication(sources).run(args); &#125; public SpringApplication(Object... sources) &#123; initialize(sources); &#125; å…¶ä¸­initializeæ–¹æ³•å¦‚ä¸‹ 1234567891011121314151617`private void initialize(Object[] sources) &#123; // åœ¨sourcesä¸ä¸ºç©ºæ—¶ï¼Œä¿å­˜é…ç½®ç±» if (sources != null &amp;&amp; sources.length &gt; 0) &#123; this.sources.addAll(Arrays.asList(sources)); &#125; // åˆ¤æ–­æ˜¯å¦ä¸ºwebåº”ç”¨ this.webEnvironment = deduceWebEnvironment(); // èŽ·å–å¹¶ä¿å­˜å®¹å™¨åˆå§‹åŒ–ç±»ï¼Œé€šå¸¸åœ¨webåº”ç”¨å®¹å™¨åˆå§‹åŒ–ä½¿ç”¨ // åˆ©ç”¨loadFactoryNamesæ–¹æ³•ä»Žè·¯å¾„MEAT-INF/spring.factoriesä¸­æ‰¾åˆ°æ‰€æœ‰çš„ApplicationContextInitializer setInitializers((Collection) getSpringFactoriesInstances( ApplicationContextInitializer.class)); // èŽ·å–å¹¶ä¿å­˜ç›‘å¬å™¨ // åˆ©ç”¨loadFactoryNamesæ–¹æ³•ä»Žè·¯å¾„MEAT-INF/spring.factoriesä¸­æ‰¾åˆ°æ‰€æœ‰çš„ApplicationListener setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class)); // ä»Žå †æ ˆä¿¡æ¯èŽ·å–åŒ…å«mainæ–¹æ³•çš„ä¸»é…ç½®ç±» this.mainApplicationClass = deduceMainApplicationClass();&#125; å®žä¾‹åŒ–åŽè°ƒç”¨runï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; FailureAnalyzers analyzers = null; // é…ç½®å±žæ€§ configureHeadlessProperty(); // èŽ·å–ç›‘å¬å™¨ // åˆ©ç”¨loadFactoryNamesæ–¹æ³•ä»Žè·¯å¾„MEAT-INF/spring.factoriesä¸­æ‰¾åˆ°æ‰€æœ‰çš„SpringApplicationRunListener SpringApplicationRunListeners listeners = getRunListeners(args); // å¯åŠ¨ç›‘å¬ // è°ƒç”¨æ¯ä¸ªSpringApplicationRunListenerçš„startingæ–¹æ³• listeners.starting(); try &#123; // å°†å‚æ•°å°è£…åˆ°ApplicationArgumentså¯¹è±¡ä¸­ ApplicationArguments applicationArguments = new DefaultApplicationArguments( args); // å‡†å¤‡çŽ¯å¢ƒ // è§¦å‘ç›‘å¬äº‹ä»¶â€”â€”è°ƒç”¨æ¯ä¸ªSpringApplicationRunListenerçš„environmentPreparedæ–¹æ³• ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); // ä»ŽçŽ¯å¢ƒä¸­å–å‡ºBannerå¹¶æ‰“å° Banner printedBanner = printBanner(environment); // ä¾æ®æ˜¯å¦ä¸ºwebçŽ¯å¢ƒåˆ›å»ºwebå®¹å™¨æˆ–è€…æ™®é€šçš„IOCå®¹å™¨ context = createApplicationContext(); analyzers = new FailureAnalyzers(context); // å‡†å¤‡ä¸Šä¸‹æ–‡ // 1.å°†environmentä¿å­˜åˆ°å®¹å™¨ä¸­ // 2.è§¦å‘ç›‘å¬äº‹ä»¶â€”â€”è°ƒç”¨æ¯ä¸ªSpringApplicationRunListenersçš„contextPreparedæ–¹æ³• // 3.è°ƒç”¨ConfigurableListableBeanFactoryçš„registerSingletonæ–¹æ³•å‘å®¹å™¨ä¸­æ³¨å…¥applicationArgumentsä¸ŽprintedBanner // 4.è§¦å‘ç›‘å¬äº‹ä»¶â€”â€”è°ƒç”¨æ¯ä¸ªSpringApplicationRunListenersçš„contextLoadedæ–¹æ³• prepareContext(context, environment, listeners, applicationArguments, printedBanner); // åˆ·æ–°å®¹å™¨ï¼Œå®Œæˆç»„ä»¶çš„æ‰«æï¼Œåˆ›å»ºï¼ŒåŠ è½½ç­‰ refreshContext(context); afterRefresh(context, applicationArguments); // è§¦å‘ç›‘å¬äº‹ä»¶â€”â€”è°ƒç”¨æ¯ä¸ªSpringApplicationRunListenerçš„finishedæ–¹æ³• listeners.finished(context, null); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; // è¿”å›žå®¹å™¨ return context; &#125; catch (Throwable ex) &#123; handleRunFailure(context, listeners, analyzers, ex); throw new IllegalStateException(ex); &#125;&#125; ä¸ºäº†å»ºç«‹è°ƒç”¨é€»è¾‘ç”»äº†ä¸€å¼ å›¾ï¼Œæ¯”è¾ƒç²—ç³™ æ€»ç»“SpringApplication.runä¸€å…±åšäº†ä¸¤ä»¶äº‹ åˆ›å»ºSpringApplicationå¯¹è±¡ï¼›åœ¨å¯¹è±¡åˆå§‹åŒ–æ—¶ä¿å­˜äº‹ä»¶ç›‘å¬å™¨ï¼Œå®¹å™¨åˆå§‹åŒ–ç±»ä»¥åŠåˆ¤æ–­æ˜¯å¦ä¸ºwebåº”ç”¨ï¼Œä¿å­˜åŒ…å«mainæ–¹æ³•çš„ä¸»é…ç½®ç±»ã€‚ è°ƒç”¨runæ–¹æ³•ï¼›å‡†å¤‡springçš„ä¸Šä¸‹æ–‡ï¼Œå®Œæˆå®¹å™¨çš„åˆå§‹åŒ–ï¼Œåˆ›å»ºï¼ŒåŠ è½½ç­‰ã€‚ä¼šåœ¨ä¸åŒçš„æ—¶æœºè§¦å‘ç›‘å¬å™¨çš„ä¸åŒäº‹ä»¶ https://www.cnblogs.com/davidwang456/p/5846513.html]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>annotation</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2019-12-14-åˆ†å¸ƒå¼ç³»ç»Ÿ]]></title>
    <url>%2F2019%2F12%2F14%2F2019-12-14-%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[[TOC] åˆ†å¸ƒå¼é”åŽŸå› ï¼šç›®çš„ï¼š æ•°æ®åº“å”¯ä¸€ç´¢å¼•redis çš„SETNXredisçš„RedLockåˆ†å¸ƒå¼äº‹åŠ¡CAPBASEPaxosRaft]]></content>
      <categories>
        <category>Distribution</category>
      </categories>
      <tags>
        <tag>KnowageTree</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2019-10-27-DynamicProgrammingåŠ¨æ€è§„åˆ’]]></title>
    <url>%2F2019%2F10%2F27%2F2019-10-27-DynamicProgramming%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%2F</url>
    <content type="text"><![CDATA[whatåŠ¨æ€è§„åˆ’æ˜¯é€šè¿‡ç»„åˆå­é—®é¢˜çš„è§£é‡Œæ±‚è§£åŽŸé—®é¢˜ï¼Œä¸€èˆ¬è¢«ç”¨æ¥æ±‚æœ€ä¼˜åŒ–é—®é¢˜ 1.åˆ»ç”»ä¸€ä¸ªæœ€ä¼˜è§£çš„ç»“æž„ç‰¹å¾ 2.é€’å½’å®šä¹‰æœ€ä¼˜è§£çš„å€¼ 3.è®¡ç®—æœ€ä¼˜è§£ 4.è®¡ç®—çš„ä¿¡æ¯æž„é€ æœ€ä¼˜è§£]]></content>
      <categories>
        <category>Algorithms</category>
      </categories>
      <tags>
        <tag>DynamicProgramming</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2019-09-21-ä¸­å°æ˜¯ä»€ä¹ˆ]]></title>
    <url>%2F2019%2F09%2F21%2F2019-09-21-%E4%B8%AD%E5%8F%B0%E6%98%AF%E4%BB%80%E4%B9%88%2F</url>
    <content type="text"><![CDATA[whyå…¬å¸æœ€è¿‘ä¸Šäº†ä¸€å¥—ä¸­å°æœåŠ¡ï¼Œå› ä¸ºå¥½å¥‡æ‰€ä»¥æŸ¥äº†ä¸€ä¸‹èµ„æ–™ï¼Œä¸­å°æ˜¯ä¸ºäº†æé«˜å¼€å‘æ•ˆçŽ‡ï¼Œå°†å„ä¸ªæœåŠ¡ä¸­å…±åŒçš„ç»„ç»‡ï¼Œèµ„æºé›†ä¸­ç®¡ç†ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“æœåŠ¡ï¼Œå®è§‚ä¸Šæˆ‘ä»¬å¯ä»¥æŠŠæ·˜å®å®¢æˆ·ç«¯ï¼Œç›’é©¬ç”Ÿé²œï¼Œé¥¿äº†ä¹ˆçœ‹åšå¤§å‰ç«¯ï¼Œè€Œä»–ä»¬æœ‰ä¸€éƒ¨åˆ†å…±äº«æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ï¼Œæ”¯ä»˜åŠŸèƒ½ï¼Œæœç´¢åŠŸèƒ½ç­‰ åˆæ¯”å¦‚æˆ‘ä»¬å…¬å¸çš„ç”µå•†å¹³å°ï¼Œæ ¸å¿ƒç³»ç»ŸåŒ…æ‹¬ï¼ŒERPï¼ˆä¼ä¸šèµ„æºè®¡åˆ’å³ ERP Enterprise Resource Planningï¼‰ï¼ŒWMSï¼ˆä»“åº“ç®¡ç†ç³»ç»ŸWarehouse Management Systemï¼‰ä»¥åŠä¸€å¥—äº¤ä»˜ç³»ç»Ÿï¼ˆåŒ…å«è´­ä¹°ï¼Œå®‰è£…æœåŠ¡ï¼Œç»´ä¿®æœåŠ¡ï¼Œä»£ç†å•†ç®¡ç†ç­‰ï¼‰ï¼Œä»–ä»¬éœ€è¦å…±äº«å•†å“ä¿¡æ¯ï¼ŒERPéœ€è¦ç”¨æ¥ç®—è´¦ï¼ŒWMSéœ€è¦ç”¨æ¥å‘è´§ï¼Œäº¤ä»˜ç³»ç»Ÿéœ€è¦ç”¨æ¥è®°å½•ä»–çš„ç”Ÿå‘½å‘¨æœŸï¼Œå°±åœ¨ä¸­å°é…ç½®ä¸€å¥—ä¿¡æ¯ï¼Œå°±å¯ä»¥è¾¾åˆ°ä¸‰å¥—ç³»ç»Ÿéƒ½å¯ä»¥è®¿é—®çš„æ•ˆæžœã€‚ whatä¸­å°ä¹Ÿå¯ä»¥åˆ†ç±»ï¼š ä¸šåŠ¡ä¸­å°ï¼ˆå¦‚ä¸Šä¸¾ä¾‹æˆ‘ä»¬å…¬å¸çš„ä¸šåŠ¡ï¼‰ æŠ€æœ¯ä¸­å°ï¼ˆå¦‚æ·˜å®çš„ä¸­å°ï¼Œå½“ç„¶ä¹Ÿæœ‰åä¸šåŠ¡çš„éƒ¨åˆ†ï¼Œä¸»è¦ç›®çš„é˜²æ­¢é‡å¤é€ è½®å­ï¼‰ æ•°æ®ä¸­å°ï¼ˆåŒ…æ‹¬å»ºæ¨¡ï¼Œæ—¥å¿—åˆ†æžï¼Œprofileï¼‰ ç®—æ³•ä¸­å°ï¼ˆæŽ¨èç®—æ³•ï¼Œæœç´¢ç®—æ³•ç­‰ï¼‰ featureç›®å‰ä¸­å°è¿˜æ˜¯æ¯”è¾ƒçƒ§é’±çš„å§ï¼Œå…¬å¸æ²¡æœ‰åˆ°è¾¾ä¸€å®šçš„è§„æ¨¡ï¼Œè¿™ä¸ªä¸œè¥¿è¿˜æ˜¯æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œæˆ‘ä»¬ç›®å‰ä¸Šäº†ä¸€å¥—ERPï¼Œä¸€å¥—ä¸­å°ï¼Œçº§åˆ«åœ¨åƒä¸‡å§ï¼Œè¿˜éœ€è¦å„ä¸ªéƒ¨é—¨è¿›è¡Œé…åˆï¼Œè¿›è¡Œç³»ç»Ÿæ•´åˆï¼ˆä»¥å‰éƒ½æ˜¯å„å¹²å„çš„ï¼Œç³»ç»Ÿé—´å‡ ä¹Žæ²¡æœ‰äº¤äº’ï¼Œé‡å¤é€ è½®å­ï¼‰ã€‚æ¶å¿ƒçš„æˆ‘å•Šï¼ŒåŠ äº†10117äº†ä¸‰ä¸ªæœˆæ‰å¤§ä½“ä¸Šèƒ½ç”¨äº† ä¸è¿‡æˆ‘è§‰å¾—ä¸­å°çš„å‘å±•åŽ†å²å¯èƒ½å’ŒæœåŠ¡ä¸€æ ·ï¼Œä¸€ä¸ªæ•´ä½“çš„æœåŠ¡è‡ƒè‚¿ï¼ŒåŽç»­çš„ä¸­å°è¿˜æ˜¯ä¼šå˜æˆä¸­å¿ƒåŒ–ï¼Œå³ä¸€ä¸ªæ ¸å¿ƒä¸šåŠ¡ï¼Œå…¶ä»–åšæˆå¾®æœåŠ¡ï¼Œåˆ†å¸ƒå¼çš„æž¶æž„ï¼Œæ˜¯ç›®å‰æŠ€æœ¯æ½®æµçš„å‰è¿›æ–¹å‘]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[2019-09-14Nodeæ—¥å¿—æ„Ÿå—]]></title>
    <url>%2F2019%2F09%2F14%2F2019-09-14-Node%E6%97%A5%E5%BF%97%E6%84%9F%E5%8F%97%2F</url>
    <content type="text"><![CDATA[whyæ—¥å¿—æ˜¯ç”¨æ¥è®°å½•ç¨‹åºè¿è¡Œé‡è¦çš„å·¥å…· è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œå…³é”®èŠ‚ç‚¹æ‰“ä¸Šæ—¥å¿—ï¼Œå¯ä»¥è¿½è¸ªé—®é¢˜ï¼ˆç”Ÿäº§ï¼‰ æ–¹ä¾¿è°ƒè¯•ï¼Œå®šä½æ•…éšœ ç›‘æŽ§åº”ç”¨çš„è¿è¡ŒçŠ¶æ€ what(egg.jsä¸ºä¾‹)æ—¥å¿—åˆ†ä¸ºï¼š appLoggeråº”ç”¨æ—¥å¿—ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„æ—¥å¿— coreLoggeræ ¸å¿ƒæ¡†æž¶ï¼Œæ’ä»¶æ—¥å¿— errorLogger agentLoggerç”¨äºŽç›‘æŽ§agentæ—¥å¿— æ—¥å¿—çº§åˆ«ï¼š ctx.logger.debug() ctx.logger.info() ctx.logger.warn() ctx.logger.error() ä»¥appLoggerä¸ºä¾‹ï¼Œä¸€å…±4*4ç§ æ—¥å¿—ç¼–ç ï¼š é»˜è®¤utf-8 featureç›®å‰æ—¥å¿—éƒ½æ”¯æŒåˆ‡å‰²ï¼Œæ¯å¤©ä¸€ä¸ªæ–‡ä»¶ï¼Œä»¥.log.2019-09-14ä¸ºå°¾ç¼€ï¼ˆå°æ—¶åˆ‡å‰²å’Œæ–‡ä»¶å¤§å°åˆ‡å‰²å®žç”¨æ€§ä¸é«˜ï¼‰ï¼Œç¼–å†™æ—¥å¿—çš„æ—¶å€™æˆ‘ä»¬ä¹Ÿéœ€è¦æ³¨æ„å¦‚ä¸‹å‡ ç‚¹ï¼š åœ¨å…³é”®è¯·æ±‚å…³é”®ä½ç½®æ‰“å¥½æ—¥å¿— æ‰“å°æ—¥å¿—æ³¨æ˜Žè¿™æ˜¯å“ªä¸ªæ–‡ä»¶å“ªä¸ªæ–¹æ³•å¤„ç†çš„æ—¥å¿— logger.debug(`&gt;&gt;&gt;&gt; Entering yourMethod(month = $&#123;month&#125;, count= $&#123;count&#125;"); //é€šè¿‡æ—¥å¿— &gt;&gt;&gt;&gt; å’Œ &lt;&lt;&lt;&lt; å°†ç»™å‡ºå‡½æ•°è¾“å…¥å’Œé€€å‡ºçš„ä¿¡æ¯ æ—¥å¿—ä¸èƒ½å¤ªå¤šï¼Œä¸€ä¸ªæ˜¯æŸ¥é—®é¢˜æ—¥å¿—å¤ªå¤šï¼Œç¬¬äºŒä¸ªæ˜¯å¯¹ç¡¬ç›˜å†™å…¥æ—¥å¿—ä¹Ÿæœ‰ä¸€å®šæ€§èƒ½å½±å“ï¼ˆeggæ˜¯å†™å…¥å†…å­˜ï¼Œæ¯ç§’ä¿å­˜ä¸€æ¬¡ç¡¬ç›˜ï¼‰ åˆç†ä½¿ç”¨try-catchæ¥è¿›è¡Œæ—¥å¿—è¾“å‡º æ—¥å¿—å†™æ³•ä¸€å®šè¦é¿å…ç®€æ´ï¼Œä¸è¦æ—¥å¿—å†æŠ›é”™ï¼ˆæ­£å¸¸æ‰“å°å‚æ•°ï¼Œæ‰“å°å¤„ç†ç»“æžœï¼‰ æ—¥å¿—ä¸èƒ½å…·å¤‡é™¤äº†æ—¥å¿—ä»¥å¤–çš„åŠŸèƒ½ æ­£ç¡®æŠŠæ¡æ—¥å¿—çº§åˆ«ï¼Œinfoè®°å½•ä¿¡æ¯ï¼ˆæœ€ä¸»è¦çš„ï¼‰ï¼Œdebugæ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ï¼Œwarnæ˜¾ç¤ºè­¦å‘Šï¼Œerrorä¿å­˜æ•°æ®åº“è¯·æ±‚ç±»åž‹çš„æŠ¥é”™ å°½é‡ä½¿ç”¨ctx.loggerè€Œå¹¶éžconsole.logï¼ŒåŽè€…å°†ä¼šæŠŠæ‰€æœ‰æ—¥å¿—æ‰“å°åœ¨stdoutä¸­ï¼Œæ— æ³•å…³é—­æˆ–æ‰“å¼€è°ƒè¯•ä¿¡æ¯ï¼Œå¹¶ä¸”ä¸åŒºåˆ†çº§åˆ«]]></content>
      <categories>
        <category>Node</category>
      </categories>
      <tags>
        <tag>logs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»å…´æ¸¸è®°]]></title>
    <url>%2F2019%2F05%2F06%2F2019-05-05-%E7%BB%8D%E5%85%B4%E6%B8%B8%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[5æœˆ1æ—¥æ­è½¦åŽ»äº†ç»å…´ï¼Œä¸€ä¸ªæ˜¯è‡ªå·±æ¯•ä¸šåŽå…¶å®žæ—¢æ²¡æœ‰æ¯•ä¸šæ—…è¡Œï¼Œä¹Ÿæ²¡æœ‰åŽ»å“ªé‡ŒçŽ©å„¿ï¼Œæ‰€ä»¥æƒ³è¡¥å¿è‡ªå·±ä¸€ä¸‹ï¼Œç¬¬äºŒä¸ªæ˜¯æˆ‘è¡¨å§ç»™æˆ‘ä¹°äº†ç¥¨äº†ï¼Œæƒ³ç€è¿˜æ˜¯åŽ»å§ã€‚ å› ä¸ºæœ€åŽä¸€ä¸ªå·¥ä½œæ—¥åŠ äº†ä¸ªç­ï¼Œç„¶åŽåˆèµ·å¾—å¾ˆæ—©ï¼Œè¯»ç€ä¸œé‡Žåœ­å¾çš„ã€Šå«Œç–‘äººXçš„çŒ®èº«ã€‹ï¼Œä¸­åˆé¥¿äº†å°±åœ¨é«˜é“ä¸Šä¹°äº†15å…ƒçš„ç›’é¥­ï¼Œæ‹¿ç€kindleå¼ºè¡Œç›–äº†ä¼šå„¿ï¼Œï¼Œé”å±çªç„¶æŽ¨é€äº†å¹¿å‘Šï¼Œè¿™å‡ ä¸ªå­—ï¼Œè¯»äº†å¥½å‡ éï¼Œå¥½æ˜¯å–œæ¬¢ã€‚è€³æœºåˆšå¥½æ’­æ”¾åˆ°æœ€è¿‘å¾ˆæ˜¯å–œæ¬¢çš„ã€Šä½ çš„é…’é¦†å¯¹æˆ‘æ‰“äº†æ ·ã€‹ï¼Œæˆ‘è°ƒæ•´äº†æ¤…å­ï¼Œæ—¶é€Ÿ307kmé€ƒç¦»ç€è¿™åº§æœ‰ä½ çš„åŸŽå¸‚ã€‚ æ­å·žé«˜æ¥¼é³žæ¬¡æ ‰æ¯”ï¼Œç©¿è¿‡ä¸€æ ‹æ ‹é«˜æ¥¼å°±æ¥åˆ°äº†ç»å…´ï¼Œè¿™ä¸ªåŸŽå¸‚ä¸æ˜¯å¾ˆç¹åŽï¼Œå€’ä¹Ÿæ˜¯ä¸€ä¸ªä¿ç•™çš„å¾ˆå¥½çš„æ±Ÿå—å¤é•‡ï¼Œæˆ‘å¾ˆå–œæ¬¢è¿™é‡Œï¼Œç«è½¦ç«™ï¼ŒèƒŒç€åŒ…ï¼Œå¸æœºå¸ˆå‚…æ“ç€ä¸€å£æµç•…çš„æ™®é€šè¯ç¤¼è²Œçš„é—®ç€æˆ‘åŽ»å“ªå„¿ï¼Œä¸€è¾¹ä»‹ç»ç€é£Žæ™¯åèƒœï¼Œæ»¡æ»¡çš„éƒ½æ˜¯å¯¹è¿™ä¸ªåŸŽå¸‚çš„çƒ­çˆ±ï¼Œæœ‰é£Žæ™¯åèƒœå…°äº­ï¼Œå£®é˜”çš„ä¸œæ¹–ï¼Œä¸€ä¸ªæ…¢èŠ‚å¥çš„å°åŸŽå¸‚ï¼Œé™¤å´äº†å¯¹é‡‘é’±çš„æ¸´æœ›ï¼Œè¿žæ½å®¢éƒ½å˜å¾—é‚£ä¹ˆæ‚ é—²ã€‚ åƒè¿‡é¥­ï¼Œå’Œä¾„å­ä¸€èµ·åŽ»äº†ä»“æ¡¥ç›´è¡—ï¼Œå…¶å®žå¯ä»¥ç†è§£ä¸ºä½Žé…ç‰ˆçš„å—é”£é¼“å··ï¼Œäººä¸ç®—ç‰¹åˆ«å¤šå§ï¼Œä½†æ˜¯é£Žæ™¯å´å¾ˆå¥½çš„ä¿ç•™äº†æ±Ÿå—çš„é£Žå‘³ï¼Œä¸€è½®æ˜Žæœˆï¼ˆéžp30proï¼‰ï¼Œä»¥åŠç¯å…‰çš„çƒ˜æ‰˜ï¼Œè®©æ±Ÿå—çš„å¤œæ™šï¼Œä¼¼ä¹Žæ¯”ç™½å¤©æ›´åŠ çš„å¤ºç›®ã€‚é™ˆæ—§çš„è¡—å··ä¿ç•™äº†æœ€åˆçš„æœ€åŽŸå§‹çš„çŸ³æ¿è¡—ï¼Œè¡—è¾¹çš„åº—å®¶è¿˜æ˜¯å¾ˆå¤æ—§çš„æ’‘ç€æ——å¸œï¼Œè¿˜æ˜¯è¿‡åŽ»é‚£ç§ä¸€ä¸ªå¾ˆå¤§çš„é—¨ï¼ˆ2mé«˜*7ä¸ªæœ¨æ¿ï¼‰è¿˜æœ‰å¾ˆå¤šè¿‡åŽ»çš„å®£ä¼ æ ‡è¯­ï¼Œå½“ç„¶ä¹Ÿæœ‰å¾ˆå¤šå°åƒã€‚ ç¬¬äºŒå¤©çš„è¡Œç¨‹ä¸»è¦å°±æ˜¯é²è¿…æ•…å±…äº†ï¼Œå…¶å®žå¹¶æ²¡æœ‰ä»€ä¹ˆè®©æˆ‘çœ¼å‰ä¸€äº®çš„åœ°æ–¹ï¼Œå› ä¸ºè¿™é‡Œçš„äººå®žåœ¨å¤ªå¤šäº†ï¼Œæˆ‘æ—©ä¸Šä¹ç‚¹åŠæŠµè¾¾æ™¯ç‚¹ï¼Œåˆ°11ç‚¹æ‰æŽ’é˜Ÿè¿›å…¥äº†é²è¿…ç¥–å±…ï¼Œå€’ä¹Ÿå¾ˆæ˜¯æ²®ä¸§ï¼Œè€Œä¸”ç¥–å±…é‡Œå…¶å®žå¹¶æ²¡æœ‰ä»€ä¹ˆå€¼å¾—å‚è€ƒçš„ï¼Œæ¸¸äººä»¬çœ‹é•¿å®‰èŠ±ä¸€æ ·ï¼Œå‚è§‚è€…ä¸€ä¸ªä¸€ä¸ªçš„æˆ¿é—´ã€‚ç„¶åŽæˆ‘åˆæŽ’é˜Ÿäº†40åˆ†é’Ÿè¿›å…¥äº†ç™¾è‰å›­ï¼Œæƒ³ä¸€çœ‹é²è¿…ç«¥å¹´æœ€å¿«ä¹çš„åœ°æ–¹ï¼Œä½†å´ä¹Ÿä»€ä¹ˆä¹Ÿæ²¡æœ‰çœ‹åˆ°ï¼Œä¸€ä¸ªä¸æ˜¯å¾ˆå¥½çœ‹çš„èŠ±å›­ï¼Œæ–™ç†çš„å’Œæˆ‘çˆ·çˆ·çš„èœåœ°ä¸€æ ·ï¼Œä¸è¿‡æˆ–è®¸æ ‘äººç«¥å¹´å°±æ˜¯åœ¨è¿™ä¹ˆä¸€å—åœ°æ–¹è¿›è¡ŒçŽ©è€çš„ï¼Œå¾ˆå¤šæ¸¸äººå›´ç€ç™¾è‰å›­çš„ä¸€å—å¤§çŸ³å¤´ä¸Šåˆå½±ç•™æ‹ï¼ŒæŽ’ç€é˜Ÿï¼Œå„ç§å§¿åŠ¿æ‘†æ‹ï¼Œä»¤æˆ‘è§‰å¾—å¾ˆæ˜¯ä¸èˆ’æœï¼ˆæˆ‘ä¹Ÿæ²¡æœ‰æ‹åˆ°ï¼‰ã€‚ å€’ä¹Ÿæ€Žä¹ˆçœ‹ï¼Œé²è¿…çš„ç«¥å¹´åº”è¯¥ä¹Ÿå¾ˆæ˜¯æ— èŠï¼Œå¼ºè¡Œæ‰¾ç€è‡ªå·±çš„ä¹å­å§ï¼ŒåŽæ¥æŽ’äº†30åˆ†é’Ÿçš„é˜Ÿä¼åŽ»äº†ä¸‰å‘³ä¹¦å±‹ï¼Œå…¶å®žæˆ‘å½“æ—¶çš„å¿ƒæƒ…æ˜¯æŠ—æ‹’çš„ï¼Œä½†è¿˜æ˜¯å¿ç€çƒˆæ—¥ï¼Œèµ°ä¸Šäº†ä¸å½’çš„é˜Ÿä¼ï¼Œä¹¦å±‹çš„æ™¯ç‚¹å…¶å®žå¾ˆå°ï¼Œä¸€ä¸ªå°çš„æ•™å®¤ï¼Œä¸¤è¾¹æ˜¯å®¶é•¿çš„åå¸­ï¼Œä¸­é—´æ˜¯å­¦ç”Ÿçš„åº§ä½ï¼Œå›¾ç‰‡å¯ä»¥çœ‹åˆ°é²è¿…å…¶å®žæ˜¯ååœ¨è®²å°å·¦è¾¹çš„ï¼Œçœ‹æ¥ä»–å°æ—¶å€™ä¹Ÿæ˜¯ä¸ªå…ˆç”Ÿç‰¹åˆ«å…³ç…§çš„å¯¹è±¡é¸­ã€‚ å…¶å®žæ¯é€›å®Œä¸€ä¸ªæ™¯ç‚¹éƒ½æ˜¯éžå¸¸é•¿çš„å•†ä¸šè¡—ï¼Œè·¯çš„ä¸¤è¾¹å……æ–¥ç€ç‰¹äº§è±†è…ï¼Œé»„é…’äº§å“ï¼Œè™½ç„¶æˆ‘ä¸æ˜¯å¾ˆåæ„Ÿè¿™ç§æ™¯ç‚¹æ°é¥­æƒ…æ™¯ï¼Œä½†æ˜¯æ»¡è¡—é£˜ç€è‡­è±†è…çš„å‘³é“ï¼Œå›žè¡åœ¨é²è¿…æ•…å±…çš„ä¸Šç©ºï¼Œä½†å¤šå°‘ä¹Ÿæ˜¯æœ‰ç‚¹è¿å’Œï¼Œç¬¬äºŒå¤©çš„è¡Œç¨‹æ˜¯å®‰æ˜Œå¤é•‡ï¼Œå…¶å®žä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ã€‚ åŽ†å²çš„å‰è½®ç¢¾åŽ‹è€Œè¿‡ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½å› ä¸ºå•†ä¸šåŒ–è€Œä¸¢å¤±äº†æ›¾ç»çš„è‡ªå·±ï¼Œä¸è¿‡æ€»ä½“æ¥è®²æˆ‘è¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢åƒè¿‡åˆé¥­ï¼Œåœ¨æ±Ÿå—çš„æ°´è¾¹èµ°ç€ï¼Œé‡åˆ°ä¸€ä½94å²çš„å¥¶å¥¶æ™’å¤ªé˜³ï¼Œæ‰“äº†ä¸ªæ‹›å‘¼ï¼Œä»–å±…ä½åœ¨è¿™é‡Œä¸‰åå¹´äº†ï¼Œæ¯æ¬¡èŠ‚å‡æ—¥ï¼Œè¿™é‡Œéƒ½ä¼šæ¥å¾ˆå¤šäººï¼Œä¹‹å‰å°±åœ¨è¿™æ²³é‡Œæ´—è¡£æœï¼Œæ‰“æ°´ï¼ŒåŽæ¥è…¿è„šä¸æ–¹ä¾¿äº†ï¼Œå°±æ¬æŠŠå‡³å­ååœ¨è¿™é‡Œï¼Œå¬ç€ç¹åŽçš„å£°éŸ³ï¼Œæ™’ç€å¤ªé˜³ï¼Œçœ‹ç€èˆ¹å¤«é€èµ°ä¸€ä¸ªåˆä¸€ä¸ªäººï¼Œè¿™é‡Œçš„ç“¦å¹´é¾„éƒ½å¾ˆå¤§ï¼Œä¹‹å‰å±‹å­çš„ç“¦è¿˜åè¿‡ä¸€ä¸ªï¼Œä»–æŠ˜è…¾äº†å¥½ä¹…æ‰æš‚æ—¶ä¸æ»´æ°´äº†ï¼Œå¥¹æ¶›æ¶›ä¸è§‰çš„è®²ç€ï¼Œæ²‰é†‰åœ¨è¿™ä¸ªå°é•‡å¸¦ç»™ä»–çš„å¿«ä¹å’Œçƒ¦æ¼ä¸­ ä¸¤å¤©çš„è¡Œç¨‹ä¸æ˜¯å¾ˆæ»¡ï¼Œä¸æ˜¯å¾ˆç´¯ï¼Œä¹Ÿä¸æ˜¯å¾ˆè½»æ¾ï¼ˆåˆ°å“ªå„¿ï¼Œå“ªå„¿éƒ½æŽ’é˜Ÿï¼‰ï¼Œå›žåŽ»æ²¡æœ‰æŠ¢åˆ°ç¥¨ï¼Œä»Žç»å…´ä¸€ç›´ç«™ç€å›žäº†åŒ—äº¬ï¼Œå°è¯´ç¡®å®žä¹Ÿæ²¡æœ‰è¯»çš„ä¸‹åŽ»ï¼Œæˆ‘çœ‹ç€çª—å¤–çš„é£Žæ™¯ï¼Œæ€å¿µç€ä¸€ä¸ªäººï¼Œè®¤è¯†è¿™ä¹ˆä¹…ï¼Œæˆ‘è¿˜æ²¡å’Œä½ ä¸€èµ·æ—…æ¸¸è¿‡]]></content>
  </entry>
  <entry>
    <title><![CDATA[2019-04-24-Nodejs12]]></title>
    <url>%2F2019%2F04%2F24%2F2019-04-24-Nodejs12%2F</url>
    <content type="text"><![CDATA[Introducing Node.js 12raw article Apr 24 This blog was written by Bethany Griggs and Michael Dawson, with additional contributions from the Node.js Release Team and Technical Steering committee. We are excited to announce Node.js 12 today. Highlighted updates and features include faster startup and better default heap limits, updates to V8, TLS, llhttp, new features including diagnostic report, bundled heap dump capability and updates to Worker Threads, N-API and ES6 module support and more. The Node.js 12 release replaces version 11 in our current release line. The Node.js release line will become a Node.js Long Term Support (LTS) release in Oct 2019 (more details on LTS strategy here). V8 Gets an Upgrade: V8 update to V8 7.4As always a new version of the V8 JavaScript engine brings performance tweaks and improvements as well as keeping Node.js up with the ongoing improvements in the language and runtime. Highlights include: Async stack traces: https://v8.dev/blog/v8-release-72#async-stack-traces Faster calls with arguments mismatch: https://v8.dev/blog/v8-release-74#faster-calls-with-arguments-mismatch Faster await: https://v8.dev/blog/v8-release-73#faster-await Faster javascript parsing: https://v8.dev/blog/v8-release-72#javascript-parsing Read more about V8 at their official blog. Hello TLS 1.3 Node.js 12 is introducing TLS1.3 support and making it the default max protocol, while also supporting CLI/NODE_OPTIONS switches to disable it if necessary. TLS1.3 is a major update to the TLS protocol, with many security enhancements and should be used over TLS1.2 whenever possible. TLS1.3 is different enough that even though the OpenSSL APIs are technically API/ABI compatible when TLS1.3 is negotiated, changes in the timing of protocol records and of callbacks broke assumptions hard-coded into the â€˜tlsâ€™ module. This change introduces no API incompatibilities when TLS1.2 is negotiated. It is the intention that it be backported to current and LTS release lines with the default maximum TLS protocol reset to â€˜TLSv1.2â€™. This will allow users of those lines to explicitly enable TLS1.3 if they want. If you want to read more you can check out these related articles:https://developer.ibm.com/blogs/openssl-111-has-landed-in-nodejs-master-and-why-its-important-for-nodejs-lts-releases/, https://developer.ibm.com/blogs/tls13-is-coming-to-nodejs/ Properly configure default heap limitsThis update will configure the JavaScript heap size based on available memory instead of using defaults that were set by V8 for use with browsers. In previous releases, unless configured, V8 defaulted to limiting the max heap size to 700 MB or 1400MB on 32 and 64-bit platforms respectively. Configuring the heap size based on available memory ensures that Node.js does not try to use more memory than is available and terminating when its memory is exhausted. This is particularly useful when processing large data-sets. As before, it will still be possible to set â€” max-old-space-size to use a different limit if the default is not appropriate for your application. Switch default http parser to llhttpNode.js 12 will also switch the default parser to llhttp. This will be beneficial in that it will make testing and comparing the new llhttp-based implementation easier. First introduced as llhttp experimental in v11.2.0, llhttp will be taken out of experimental in this release. Making Native Modules Easier â€” progress continuesNode.js 12 continues the trend of making building and supporting native modules easier. Changes include better support for native modules in combination with Worker threads, as well as N-API (https://nodejs.org/api/n-api.html#n_api_n_api) version 4 (which has also been backported to 8.x and 10.x) which makes it easier to use your own threads for native asynchronous functions. You can read more about this and how you can leverage it in your modules in this great article here: https://medium.com/the-node-js-collection/new-features-bring-native-add-ons-close-to-being-on-par-with-js-modules-cd4f9b8e4b4 Worker ThreadsWorker Threads (https://nodejs.org/api/worker_threads.html), while not new in this release, are still seeing progress. The use of Workers Threads no longer requires the use of a flag and they are progressing well towards moving out of experimental. While Node.js already performs well with the single-threaded event loop, there are some use-cases where additional threads can be leveraged for better results. Weâ€™d like you to try them out and let us know what use cases you have where they are helpful. For a quick introduction check out this great article: https://medium.com/@Trott/using-worker-threads-in-node-js-80494136dbb6. Diagnostic ReportsNode.js 12 brings with it a new experimental feature â€œDiagnostic report.â€ This allows you to generate a report on demand or when certain events occur. This report contains information that can be useful to help diagnose problems in production including crashes, slow performance, memory leaks, high CPU usage, unexpected errors and more. You can read more about it in this great article: https://medium.com/the-node-js-collection/easily-identify-problems-in-node-js-applications-with-diagnostic-report-dc82370d8029. Heap DumpsIf you ever needed to generate heap dumps in order to investigate memory issues but were slowed down by having to install a new module into production, the good news is that Node.js 12 brings integrated heap dump capability out of the box. You can check out the documentation in https://github.com/nodejs/node/pull/27133 and https://github.com/nodejs/node/pull/26501 to learn more. Startup ImprovementsIn Node.js 11 we shipped built-in code cache support in workers â€” when loading built-in libraries written in JavaScript, if the library was previously compiled on the main thread, the worker thread no longer needs to compile it from scratch but can reuse the v8 code cache generated by the main thread to speed up compilation. Similarly, the main thread can reuse the cache generated by workers. This gave a roughly 60% speedup for the startup of workers. Now in Node.js 12 we generate the code cache for built-in libraries in advance at build time, and embed it in the binary, so in the final release, the main thread can use the code cache to start up the initial load of any built-in library written in JavaScript. This gives a ~30% speedup in startup time for the main thread. ES6 Module SupportNode.js 12 brings an updated experimental version of support for ES6 modules. It is an important step toward a supported implementation and weâ€™d like you to try it out and give us feedback. For more details check out this great blog post. New compiler and platform minimumsNode.js and V8 continue to embrace newer C++ features and take advantage of newer compiler optimizations and security enhancements. With the release of Node.js 12, the codebase now requires a minimum of GCC 6 and glibc 2.17 on platforms other than macOS and Windows. Binaries released at Node.js org use this new toolchain minimum and therefore include new compile-time performance and security enhancements. The increment in minimum compiler and libc requirements also increments minimums in supported platforms. Platforms using glibc (most platforms other than macOS and Windows) must now include a minimum version of 2.17. Common Linux platforms compatible with this version include Enterprise Linux 7 (RHEL and CentOS), Debian 8 and Ubuntu 14.04. Binaries available from nodejs.org will be compatible with these systems. Users needing to compile their own binaries on systems not natively supporting GCC 6 may need to use a custom toolchain. Even though Node.js 12.0.0 may compile with older compilers, expect the Node.js 12 codebase (including V8) to rapidly adopt C++ features supported by GCC 6 during the pre-LTS timeframe. Windows minimums remain the same as Node.js 11, requiring at least Windows 7, 2008 R2 or 2012 R2 and a minimum compiler of Visual Studio 2017. macOS users needing to compile Node.js will require a minimum of Xcode 8 and Node.js binaries made available on nodejs.org will only support a minimum of macOS 10.10 â€œYosemiteâ€. Further details are available in the Node.js BUILDING.md. Thank you!A big thank you to everyone who made this release come together, whether you submitted a pull request, helped with our benchmarking efforts, or you were in charge of one of the release versions. Weâ€™d also like to thank the Node.js Build Working Group for ensuring we have the infrastructure to create and test releases. The release manager for Node.js 12 is Bethany Griggs. For a full list of the release team members head here. You can read more about the complete list of features here. If you are interested in contributing to Node.js, we welcome you. Learn more via our contributor guidelines.]]></content>
  </entry>
  <entry>
    <title><![CDATA[2019-04-20-rentingHouse]]></title>
    <url>%2F2019%2F04%2F20%2F2019-04-20-rentingHouse%2F</url>
    <content type="text"><![CDATA[å¿«è¦æ¯•ä¸šäº†ï¼Œæœ‹å‹åœˆé‡Œæ´‹æº¢ç€ï¼Œæ¯•ä¸šçš„å¿«ä¹ï¼Œç›´ç³»å­¦å¼Ÿä»¬ä¹Ÿè¿”æ ¡è¿›è¡Œäº†æ¯•ä¸šè®ºæ–‡çš„æœ€ç»ˆç­”è¾©ï¼Œä¹Ÿå¸Œæœ›ä»–ä»¬éƒ½å–å¾—ä¸€ä¸ªå¥½çš„æˆç»©ï¼Œèƒ½åœ¨å›žé¦–å¤§å­¦å››å¹´æ—¶å€™ï¼Œä¸å› ä¸ºç¢Œç¢Œæ— ä¸ºè€ŒåŽæ‚”ï¼Œèƒ½å¤Ÿåœ¨ç¤¾ä¸€ä¸­ï¼Œæ‰¾åˆ°ä¸€ä»½åˆé€‚çš„å·¥ä½œï¼Œå¹¶æ„Ÿè°¢æ›¾ç»é‚£ä¸ªåœ¨å¤§å­¦å¥‹æ–—çš„è‡ªå·±ã€‚ æ¯•ä¸šå­£ç¬¬ä¸€é“åŽå°±æ˜¯ç§Ÿæˆ¿ï¼ˆå®¶é‡Œæœ‰çŸ¿çš„ï¼Œè¿™ç¯‡æ–‡ç« ä½ å°±å¯ä»¥å…³æŽ‰äº†ï¼‰ï¼Œæ€»ä½“æ¥è¯´ï¼Œåœ¨äº¬å°±ä¸šï¼Œæˆ¿ç§Ÿç¡®å®žå¾ˆè´µçš„ï¼Œä¸è¿‡å¯¹äºŽè®¡ç®—æœºä¸“ä¸šæ¥è¯´ï¼Œåº”è¯¥è¿˜æ˜¯å¯ä»¥çš„ã€‚æˆ‘ä»¬ç†ŸçŸ¥çš„è®¡ç®—æœºåŒºåŸŸ æœ›äº¬SOHOï¼ˆå°ä¼ä¸šå±…å¤šï¼‰ ä¸­å…³æ‘ ä¸­å…³æ‘è½¯ä»¶å›­ï¼ˆå¤§åŽ‚ï¼‰ å¯¹åº”çš„ç§Ÿæˆ¿åœ°ç‚¹å¯ä»¥é€‰æ‹©ï¼š å­™æ²³ï¼ˆå°±å¯èƒ½åœ°é“ç«™è¿œä¸€ç‚¹ï¼‰ ä¸Šåœ°é™„è¿‘ å›žé¾™è§‚ï¼Œæœ±è¾›åº„ ä¸»è¦å¹³å°ï¼ˆæŒ‰æŽ¨èé¡ºåºï¼‰ï¼š è‡ªå¦‚ï¼ˆä¸ªäººé€‰æ‹©é¡¹ï¼Œåº”å±Šç”Ÿæœ‰ç‰¹æƒï¼‰ è±†ç“£å°ç»„ é—²é±¼ ç›¸å¦‚&gt;è›‹å£³=è´å£³ åº”å±Šç”Ÿå¯èƒ½å›Šä¸­ç¾žæ¶©ï¼Œæ‰€ä»¥å»ºè®®é€‰æ‹©è‡ªå¦‚ï¼Œåˆ†æœŸæœˆä»˜ï¼ˆåº”å±Šå…æŠ¼é‡‘ï¼Œåˆ†èµ·è´¹120é™„è¿‘ï¼‰ï¼Œä¸è¿‡è®¡ç®—æœºä¸“ä¸šçš„åº”å±Šç”Ÿè–ªèµ„ç†è®ºä¸Šæ˜¯&gt;=7kï¼Œæ‰€ä»¥æˆ‘è§‰å¾—åº”è¯¥é©¬é©¬è™Žè™Žå¯ä»¥ç”Ÿå­˜ä¸‹æ¥äº†ã€‚ä¹‹æ‰€ä»¥ä¸æŽ¨èå…¶ä»–çš„ä¸­ä»‹ï¼Œæ˜¯å› ä¸ºä½ å¯èƒ½ç§Ÿæˆ¿åŽï¼Œå¯¹äºŽç»´ä¿®ï¼Œèˆå‹æŠ½çƒŸï¼Œå…»çš„å® ç‰©åŠå¤œç‹‚å«ï¼Œåˆé€€ä¸äº†ç§Ÿï¼Œé™·å…¥éº»çƒ¦ä¸­ã€‚ï¼ˆè‡ªå¦‚éº»çƒ¦æ¥ç»“ä¸€ä¸‹å¹¿å‘Šè´¹ï¼‰ å¦å¤–æ•´ç†ä¸€ä¸‹æ‹›è˜çš„è½¯ä»¶ï¼ˆæŒ‰æŽ¨èé¡ºåºï¼‰ï¼š ï¼ˆä¸ªäººè½¯ä»¶å·¥ç¨‹ï¼Œä»…ä¾›å‚è€ƒï¼‰ BOSS æ‹‰é’© æ™ºè”æ‹›è˜ è„‰è„‰ å¸Œæœ›è¿™äº›èµ„æ–™å¯¹åˆšæ¯•ä¸šçš„ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå…¶ä½™æƒ³èµ·æ¥çš„ï¼Œå†ç›´æŽ¥æ›´æ–°]]></content>
  </entry>
  <entry>
    <title><![CDATA[2019-04-17-æ—¥è®°]]></title>
    <url>%2F2019%2F04%2F17%2F2019-04-17-%E6%97%A5%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ç»åŽ†äº†è¿žç»­9*13å°æ—¶çš„å·¥ä½œåŽï¼Œæˆ‘ç»ˆäºŽå¾—åˆ°äº†ä¸€å¤©çš„è°ƒä¼‘è®¡åˆ’ï¼Œæ˜¨æ™šåä¸€ç‚¹åŠæ‰“è½¦ä»Žäº”æ£µæ¾åˆ°å®¶ æ´—äº†ä¸ªçƒ­æ°´æ¾¡ï¼Œå…³äº†æ‰‹æœºé—¹é“ƒï¼Œæ‰“å¼€äº†Alexaçš„çŽ¯å¢ƒå™ªéŸ³ï¼Œéš¾çš„è¸å®žçš„è¿›å…¥äº†æ¢¦ä¸­ã€‚ ä½†æ˜¯ï¼ï¼ æˆ‘Alexaçš„é—¹é’Ÿå¿˜è®°å…³äº†ï¼Œä¸ƒç‚¹è¢«åµé†’åŽä¸€ç›´æ²¡æœ‰ç¡ç€ï¼Œæ‰€ä»¥èµ·åºŠçƒ­äº†æ¯ç‰›å¥¶ï¼Œå¼„äº†å¼ ç…Žé¥¼ï¼Œæ¶‚äº†ç‚¹ç•ªèŒ„é…±å°±å‡‘åˆåƒäº†ï¼ŒåŽæ¥å¤–å‡ºå’Œæœ‹å‹èŠäº†ä¼šå„¿å¤©ï¼Œå€’ç¡®å®žç‚¹å‡ºäº†ä¸€äº›ç›®å‰å­˜åœ¨çš„é—®é¢˜ ä¸€ä¸ªå¥½çš„æŠ€æœ¯ä¸ä»…è¦çŸ¥å…¶ç„¶ï¼Œæ›´è¦çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œå¤šæŒ–æŽ˜ä»–èƒŒåŽçš„æºç ï¼ŒåŽ»æ€è€ƒå¦‚ä½•å®žçŽ°ï¼Œè¿™æ ·æ‰èƒ½åœ¨é«˜å¹¶å‘æ—¶ï¼Œå°†200msä¼˜åŒ–åˆ°100msï¼Œæ‰æ˜¯ä¸€ä¸ªé«˜çº§ç¨‹åºå‘˜åº”è¯¥å…·å¤‡çš„ç´ è´¨ä¹‹ä¸€ Nodeå­¦ä¹ åˆ†ä¸ºä¸‰å¹´ï¼Œç¬¬ä¸€å¹´çŸ¥å…¶è¯­æ³•ï¼Œä¼šå†™åº”ç”¨ï¼Œç¬¬äºŒå¹´çŸ¥å…¶æ¡†æž¶ï¼Œé«˜çº§å¼€å‘ï¼Œç¬¬ä¸‰å¹´ï¼Œè¯»å…¶æºç ï¼ŒçŸ¥å…¶åŽŸç† å¤šç”¨è¯­è¨€åŽ»å†™ä¸€äº›å·¥å…·ç±»ï¼Œå¤šåŽ»å­¦ä¹ å’Œå‚è€ƒä¼˜è´¨è½®å­ï¼Œè€Œä¸æ˜¯å†™ä¸€äº›çŽ©å…·ï¼Œåˆ«äººéƒ½å†™çƒ‚çš„ä¸œè¥¿ ï¼ˆé‡è¦çš„åº”è¯¥å°±è¿™ä¹ˆå¤šäº†ï¼‰ æœ‹å‹çš„è¯å¾ˆå¯¹ï¼Œæˆ‘ä¹Ÿè¿›è¡Œäº†æ€è€ƒï¼Œè‡ªå·±åœ¨JSçš„é“è·¯ä¸Šï¼Œæ‘¸ç€é»‘èµ°è·¯ï¼Œå¯¹äºŽæºç å…¶å®žè¦è¯»ï¼Œä½†æ˜¯ä¹‹å‰æ‰“å¼€çœ‹è¿‡ä¸€çœ¼å°±ä¸€è„¸æ‡µé€¼çš„çŠ¶æ€ï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦æœ‰æ—¶é—´å­¦ä¹ ä¸€ä¸‹ä¼˜è´¨çš„GitHubï¼Œæ’•å¼€ä¸€ä¸ªå£å­ï¼Œç„¶åŽè¿›å…¥åˆ°æ­£è½¨ï¼Œè‡ªå·±åŽ»å¤šå†™ä¸€äº›æ–¹æ³•åŒºè°ƒç”¨ï¼Œç„¶åŽä¸€ç‚¹ç‚¹åŽ»ç¢ç£¨ï¼Œä»–çš„å®žçŽ°è¿‡ç¨‹ã€‚ 4æœˆåº•çš„è®¡åˆ’å°±æ˜¯ å°½é‡æ¢ä¸€ä»½å·¥ä½œï¼Œå—ä¸äº†8117ï¼Œè–ªèµ„è¿˜ä¸å¦‚éº¦å½“åŠ³çš„ä¸´æ—¶å·¥ è‡ªå¦‚ç§Ÿçº¦åˆ°æœŸäº†ï¼Œæ¬å®¶åˆ°æœ±è¾›åº„æˆ–è€…éœè¥ æ²¡æ¢å·¥ä½œçš„è¯ï¼Œä¹°ä¸€æœ¬ä¹¦é€šå‹¤çœ‹ä¼šå„¿ï¼Œæ¢å·¥ä½œçš„è¯ï¼ŒæŠ½ä¸ªé›¶ç¢Žçš„æ—¶é—´è¯»ï¼Œé¡ºä¾¿æ•´ç†ç¬”è®°ï¼Œæ›´åšï¼ˆæš‚å®šè¿™ä¸ªæœˆè¯»ä¸€ä¸‹v8çš„gcï¼‰ äº”ä¸€å‡ºåŽ»æ—…æ¸¸ï¼Œæš‚æ—¶æƒ³åŽ»æ­å·žçœ‹çœ‹ ä¹°ç‚¹ç«¹ç­’ï¼Œæƒ³åšç«¹ç­’é¥­]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æš‚åœæ›´æ–°é€šå‘Š[ä½œåºŸ]]]></title>
    <url>%2F2019%2F04%2F13%2F2019-04-13-%E6%9A%82%E5%81%9C%E6%9B%B4%E6%96%B0%E9%80%9A%E5%91%8A%2F</url>
    <content type="text"><![CDATA[è‡ªä»Šæ—¥èµ·ï¼Œåšå®¢å¼€å§‹åœæ›´ 996.icuå¹´åŽå¼€å§‹ï¼Œäº’è”ç½‘ä¼¼ä¹Žè¿‡å¾—éƒ½ä¸å¥½ï¼Œä»Žä¸ƒé™Œè¢«è£ï¼ˆä¹Ÿæœ‰ä¸ªäººåŽŸå› å§ï¼‰ï¼Œåˆ°è¢«èˆªå¤©äºŒé™¢ï¼ŒçŸ¥ç½‘ï¼Œä¸­ç”µç§‘å› ä¸ºå­¦åŽ†å¡ä½å…¥èŒï¼ˆBOSSç›´è˜ï¼Œé¢è¯•å®Œäº†ï¼ŒæŠ€æœ¯æ‰¾äººäº‹å®¡æ ¸ä¸é€šè¿‡ï¼‰ï¼ŒåŽæ¥é‡åˆ°äº†ä¸€ç³»åˆ—å‚²æ…¢çš„ä¸­ç§‘è½¯ç³»åˆ—é¢è¯•ï¼Œæ— é™åŠ ç­çš„åˆ›ä¸šå…¬å¸ï¼Œè¿˜æœ‰é‚£ç§ä»¥åŸ¹è®­æœºæž„ä¸ºç›®æ ‡æ‹›äººçš„å°å…¬å¸ã€‚æœ€ç»ˆæœªèƒ½æ”¶èŽ·ä¸€ä¸ªæ»¡æ„çš„offerï¼Œæœ€ç»ˆèˆ”ç‹—é€‰æ‹©äº†ä¸€å®¶è¯´æ˜¯ä¸åŠ ç­çš„æŸæ‰€ï¼Œç„¶ï¼ŒçŽ°åœ¨æ‰å‘çŽ°ï¼Œå®žåœ¨å¤ªå¿™ï¼ŒåŒ…æ‹¬çŽ°åœ¨ä¹Ÿåˆšåˆšåˆ°å®¶ï¼Œå·¥ä½œä¹Ÿæ²¡æœ‰pcï¼Œæ²¡æœ‰ç½‘ç»œï¼Œæ‰€ä»¥ä¹Ÿå¾ˆä¸æ–¹ä¾¿éšæ—¶å­¦ä¹ ï¼Œå¯èƒ½æœ‰ä¸€äº›æ‰‹å†™ç¬”è®°ï¼Œä½†ç»åŽ†æœ‰é™ï¼Œæ‰€ä»¥æœ€è¿‘ä¼šåœæ­¢æ›´æ–° å¹´åŽ996å†²ä¸Šäº†æ¦œé¦–ï¼Œè®©ä¸–ç•Œéƒ½åœ¨åæ€ä¸ºä»€ä¹ˆä¸­å›½çš„åŠ ç­ä¸ºä»€ä¹ˆå¦‚æ­¤ç–¯ç‹‚ï¼Œä½†è¯é¢˜çƒ­åº¦å¾ˆå¿«ä¸‹é™ï¼Œå› ä¸ºæ²¡æœ‰äººä¼šåŽ»æ”¾ä¸‹æ‰‹ä¸­çš„å·¥ä½œåŽ»æŠµåˆ¶ï¼Œæ¯•ç«Ÿç”Ÿæ´»æ€»è¦ç»§ç»­ä¸‹åŽ» ç”Ÿæ´»æ€»æ˜¯è¿™æ ·ï¼Œèµ·èµ·è½è½è½ åŠªåŠ›ä¸ä¸€å®šæœ‰å›žæŠ¥ï¼Œä½†ä¸åŠªåŠ›ä¸€å®šå¾ˆï¼ˆmeiï¼‰èˆ’ï¼ˆhuiï¼‰æœ(bao) æ™šå®‰~hexo]]></content>
  </entry>
  <entry>
    <title><![CDATA[PermutationSequence-60]]></title>
    <url>%2F2019%2F04%2F09%2F2019-04-09-PermutationSequence%2F</url>
    <content type="text"><![CDATA[ProblemThe set [1,2,3,...,*n*] contains a total of n! unique permutations. By listing and labeling all of the permutations in order, we get the following sequence for n = 3: &quot;123&quot; &quot;132&quot; &quot;213&quot; &quot;231&quot; &quot;312&quot; &quot;321&quot; Given n and k, return the kth permutation sequence. Note: Given n will be between 1 and 9 inclusive. Given k will be between 1 and n! inclusive. Example 1: 12Input: n &#x3D; 3, k &#x3D; 3Output: &quot;213&quot; Example 2: 12Input: n &#x3D; 4, k &#x3D; 9Output: &quot;2314&quot; keysolutionperfect]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[httpsä¸Žhttp]]></title>
    <url>%2F2019%2F04%2F06%2F2019-04-06-https%E4%B8%8Ehttp%2F</url>
    <content type="text"><![CDATA[whatadvantageå®¢æˆ·ç«¯åœ¨ä½¿ç”¨HTTPSæ–¹å¼ä¸ŽWebæœåŠ¡å™¨é€šä¿¡æ—¶æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚ ï¼ˆ1ï¼‰å®¢æˆ·ä½¿ç”¨httpsçš„URLè®¿é—®WebæœåŠ¡å™¨ï¼Œè¦æ±‚ä¸ŽWebæœåŠ¡å™¨å»ºç«‹SSLè¿žæŽ¥ã€‚ ï¼ˆ2ï¼‰WebæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åŽï¼Œä¼šå°†ç½‘ç«™çš„è¯ä¹¦ä¿¡æ¯ï¼ˆè¯ä¹¦ä¸­åŒ…å«å…¬é’¥ï¼‰ä¼ é€ä¸€ä»½ç»™å®¢æˆ·ç«¯ã€‚ ï¼ˆ3ï¼‰å®¢æˆ·ç«¯çš„æµè§ˆå™¨ä¸ŽWebæœåŠ¡å™¨å¼€å§‹åå•†SSLè¿žæŽ¥çš„å®‰å…¨ç­‰çº§ï¼Œä¹Ÿå°±æ˜¯ä¿¡æ¯åŠ å¯†çš„ç­‰çº§ã€‚ ï¼ˆ4ï¼‰å®¢æˆ·ç«¯çš„æµè§ˆå™¨æ ¹æ®åŒæ–¹åŒæ„çš„å®‰å…¨ç­‰çº§ï¼Œå»ºç«‹ä¼šè¯å¯†é’¥ï¼Œç„¶åŽåˆ©ç”¨ç½‘ç«™çš„å…¬é’¥å°†ä¼šè¯å¯†é’¥åŠ å¯†ï¼Œå¹¶ä¼ é€ç»™ç½‘ç«™ã€‚ ï¼ˆ5ï¼‰WebæœåŠ¡å™¨åˆ©ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†å‡ºä¼šè¯å¯†é’¥ã€‚ ï¼ˆ6ï¼‰WebæœåŠ¡å™¨åˆ©ç”¨ä¼šè¯å¯†é’¥åŠ å¯†ä¸Žå®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[SpiralMatrix2-59]]></title>
    <url>%2F2019%2F04%2F06%2F2019-04-06-SpiralMatrix2%2F</url>
    <content type="text"><![CDATA[problem Given a positive integer n, generate a square matrix filled with elements from 1 to n2 in spiral order. Example: 1234567&gt;Input: 3&gt;Output:&gt;[[ 1, 2, 3 ],[ 8, 9, 4 ],[ 7, 6, 5 ]&gt;] keyè™½ç„¶æ ‡äº†mediumï¼Œä½†æ˜¯ç¡®å®žå¾ˆç®€å•ï¼Œå½¢æˆä¸€ä¸ªå£å­—åž‹é—­çŽ¯ï¼Œä¸€å±‚å±‚åŽ»å¤„ç†å°±å¥½äº†ï¼Œç„¶åŽå†ä¸»è¦å°±æ˜¯æŽ§åˆ¶å£å­—å¾ªçŽ¯æ—¶å€™çš„è¾¹ç•Œï¼Œä»¥åŠæœ€åŽä¸€ä¸ªå…ƒç´ çš„åˆ¤æ–­ solution12345678910111213141516171819202122232425262728public int[][] generateMatrix(int n) &#123; int [][]res &#x3D; new int[n][n]; int left &#x3D; 0; int right &#x3D; n-1; int top &#x3D; 0; int bottom &#x3D; n-1; int index &#x3D; 1; int quit &#x3D; n*n; while(index&lt;&#x3D;quit)&#123; for(int i&#x3D;left;i&lt;&#x3D;right;i++) &#123; res[top][i] &#x3D; (index++); &#125; top++; for(int i&#x3D;top;i&lt;&#x3D;bottom;i++)&#123; res[i][right] &#x3D; (index++); &#125; right--; for(int i&#x3D;right;i&gt;&#x3D;left;i--) &#123; res[bottom][i]&#x3D;(index++); &#125; bottom--; for(int i&#x3D;bottom;i&gt;&#x3D;top;i--) &#123; res[i][left]&#x3D;(index++); &#125; left++; &#125; return res; &#125; perfectno]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LengthofLastWord]]></title>
    <url>%2F2019%2F04%2F06%2F2019-04-06-LengthofLastWord%2F</url>
    <content type="text"><![CDATA[problem Given a string s consists of upper/lower-case alphabets and empty space characters &#39; &#39;, return the length of last word in the string. If the last word does not exist, return 0. Note: A word is defined as a character sequence consists of non-space characters only. Example: 12Input: &quot;Hello World&quot;Output: 5 keyè¯¥æ–¹æ³•è°ƒç”¨äº†javaçš„String.split(regex)æ‰€ä»¥åœ¨å¤æ‚åº¦ä¸Šå›žå¾ˆé«˜ï¼Œå¤§æ¦‚ä»…ä»…beatäº†6%çš„çŽ©å®¶ï¼Œä½†è§£å†³å¾ˆå¿«ï¼Œæ­£ç¡®çš„ç®—æ³•æ€ç»´å°±å€’åºéåŽ†ï¼Œæœ€åŽå¼€å§‹æŸ¥å¾€å‰ï¼Œæœ€åŽä¸€ä¸ªéžç©ºæ ¼æŸ¥åˆ°ç©ºæ ¼ç»“æŸ solution123456789101112//7mspublic int lengthOfLastWord(String s) &#123; if(s.length()&lt;=0)return 0; String[] tmp = s.split(&quot;\\s&quot;); int lastIndex = tmp.length-1; if(lastIndex&lt;0) &#123; return 0; &#125;else &#123; return tmp[lastIndex].length(); &#125; &#125; perfect1234567891011121314151617181920212223class Solution &#123; public int lengthOfLastWord(String s) &#123; int n &#x3D; s.length() - 1; int length &#x3D; 0; for(int i &#x3D; n; i &gt;&#x3D; 0; i--) &#123; if(length &#x3D;&#x3D; 0) &#123; if(s.charAt(i) &#x3D;&#x3D; &#39; &#39;) &#123; continue; &#125;else &#123; length++; &#125; &#125;else &#123; if(s.charAt(i) &#x3D;&#x3D; &#39; &#39;) &#123; break; &#125; else &#123; length++; &#125; &#125; &#125; return length; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[eventLoop]]></title>
    <url>%2F2019%2F04%2F04%2F2019-04-04-eventLoop%2F</url>
    <content type="text"><![CDATA[whatEvent Loopæ˜¯ä¸€ä¸ªç¨‹åºç»“æž„ï¼Œç”¨äºŽç­‰å¾…å’Œå‘é€æ¶ˆæ¯å’Œäº‹ä»¶ a programming construct that waits for and dispatches events or messages in a program. ç®€å•è¯´ï¼Œå°±æ˜¯åœ¨ç¨‹åºä¸­è®¾ç½®ä¸¤ä¸ªçº¿ç¨‹ï¼šä¸€ä¸ªè´Ÿè´£ç¨‹åºæœ¬èº«çš„è¿è¡Œï¼Œç§°ä¸ºâ€ä¸»çº¿ç¨‹â€ï¼›å¦ä¸€ä¸ªè´Ÿè´£ä¸»çº¿ç¨‹ä¸Žå…¶ä»–è¿›ç¨‹ï¼ˆä¸»è¦æ˜¯å„ç§I/Oæ“ä½œï¼‰çš„é€šä¿¡ï¼Œè¢«ç§°ä¸ºâ€Event Loopçº¿ç¨‹â€ï¼ˆå¯ä»¥è¯‘ä¸ºâ€æ¶ˆæ¯çº¿ç¨‹â€ï¼‰ã€‚ ç”±ä¸Šå›¾å¯ä»¥æ¸…æ¥šçŸ¥é“Nodeçš„å•çº¿ç¨‹æŒ‡çš„æ˜¯ä¸»çº¿ç¨‹ä¸ºå•çº¿ç¨‹ å¼‚æ­¥æ‰§è¡Œ1234567&#x2F;&#x2F; test.jssetTimeout(() &#x3D;&gt; console.log(1));setImmediate(() &#x3D;&gt; console.log(2));process.nextTick(() &#x3D;&gt; console.log(3));&#x2F;&#x2F;å¼‚æ­¥æœ€å¿«Promise.resolve().then(() &#x3D;&gt; console.log(4));(() &#x3D;&gt; console.log(5))();&#x2F;&#x2F;åŒæ­¥ä»»åŠ¡æœ€æ—©æ‰§è¡Œ&#x2F;&#x2F;53412 å¼‚æ­¥åˆ†ä¸ºä¸¤ç§ï¼š æœ¬è½®å¾ªçŽ¯ï¼šprocess.nextTick(),Promise æ¬¡è½®å¾ªçŽ¯:setTimeout(),setInterval,setImmediate æ¯ä¸€æ¬¡å¾ªçŽ¯ä¸­ï¼ŒsetTimeoutç­‰æ¬¡è½®å¾ªçŽ¯åœ¨timersé˜¶æ®µæ‰§è¡Œï¼Œè€Œæœ¬è½®å¾ªçŽ¯å°±åœ¨checké˜¶æ®µæ‰§è¡Œï¼Œæ‰€ä»¥ä¼šå…ˆå±•ç¤º]]></content>
  </entry>
  <entry>
    <title><![CDATA[æ˜¥èŠ‚12å“]]></title>
    <url>%2F2019%2F04%2F04%2F2019-04-04-%E6%98%A5%E8%8A%8212%E5%93%8D%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920212223242526272829303132&#x2F;&#x2F; File: twelve_biubiu.c&#x2F;&#x2F; Permission: CN-2082-2&#x2F;&#x2F; Author: Li.YiYi&#x2F;&#x2F; Dept: PE-362, UG&#x2F;&#x2F; Origin: TI-352132&#x2F;&#x2F; æ˜¥èŠ‚åäºŒå“ biu biu biu!#env &quot;planet_engine&quot;int init() &#123; set_engine_number_mask(ENGINE_ALL); set_funeral_level(FUNERAL_FULL); &#x2F;&#x2F; å…è®¸è¯¯å·®10ç§’ä»¥å†… if (unix_time() &lt; make_unix_time(2082, 1, 28, 23, 59, 60-10)) return ERR_ENGIN_ENV; return engine_check_init(); &#x2F;&#x2F; after compile and before real run&#125;int main() &#123; set_curve(CURVE_NATURAL); &#x2F;&#x2F; è‡ªç„¶æ›²çº¿è€—è´¹ç‡ƒæ–™æœ€å°‘ for (int i :range(0, 12, 1)) &#123; engine_start(); wait_engine(ENGINE_STATE_CHAGNE); sleep(2000); engin_stop(); wait_engine(ENGINE_STATE_CHAGNE); sleep(4000); &#x2F;&#x2F; è¿™ä¸ªæ—¶é•¿åœ¨æ¨¡æ‹Ÿå™¨é‡Œå¬èµ·æ¥æ›´åƒå¿ƒè·³ &#125; return 0;&#125;int final() &#123; engine_ensure_shutdown();&#125;]]></content>
      <categories>
        <category>life</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å„ç§Javaä¸­é”]]></title>
    <url>%2F2019%2F04%2F04%2F2019-04-04-%E5%90%84%E7%A7%8DJava%E4%B8%AD%E9%94%81%2F</url>
    <content type="text"><![CDATA[æ‚²è§‚é”ï¼šå…ˆé”åŽç”¨æ¯æ¬¡è¯»æ•°æ®éƒ½æ‚²è§‚è®¤ä¸ºä¼šè¢«å…¶ä»–æ“ä½œä¿®æ”¹ï¼Œåº”ç”¨äºŽsynchroized , ReentrantLockï¼Œå› ä¸ºæ‚²è§‚æ‰€ä»¥å¼€é”€å¤§ï¼Œä¼šé˜»å¡žå…¶ä»–çº¿ç¨‹ ä¹è§‚é”ï¼šå…ˆç”¨åŽåˆ¤æ–­æ¯æ¬¡è¯»æ•°æ®ä¹è§‚è®¤ä¸ºæ²¡æœ‰è¢«å…¶ä»–æ“ä½œä¿®æ”¹ï¼Œåº”ç”¨äºŽjava.util.concurrent.atomic,ä½¿ç”¨ç‰ˆæœ¬å·å’ŒCASç®—æ³•å®žçŽ° é€‚ç”¨äºŽå¤šè¯»çš„åº”ç”¨ç±»åž‹ï¼Œæé«˜åžåé‡ å…¬å¹³é”ï¼šå¤šä¸ªçº¿ç¨‹æŒ‰ç”³è¯·æ‰€é¡ºåºå–é”æ—  éžå…¬å¹³é”å¤šä¸ªçº¿ç¨‹ä¸æŒ‰ç”³è¯·é¡ºåºå–é”ï¼Œæé«˜åžåé‡ å¯å…¥é”å¤–å±‚ä½¿ç”¨é”åŽï¼Œå†…å±‚ä»å¯ä»¥ä½¿ç”¨ï¼Œè€Œä¸”ä¸ä¼šæ­»é” ä¸å¯é‡å…¥é”ç‹¬äº«é”å…±äº«é”äº’æ–¥é” è¯»å†™é” åˆ†æ®µé” åå‘é” è½»é‡çº§é” é‡é‡çº§é” è‡ªæ—‹é”]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>lock</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MinStack]]></title>
    <url>%2F2019%2F03%2F24%2F2019-03-24-MinStack%2F</url>
    <content type="text"><![CDATA[problem Design a stack that supports push, pop, top, and retrieving the minimum element in constant time. push(x) â€“ Push element x onto stack. pop() â€“ Removes the element on top of the stack. top() â€“ Get the top element. getMin() â€“ Retrieve the minimum element in the stack. Example: 12345678MinStack minStack &#x3D; new MinStack();minStack.push(-2);minStack.push(0);minStack.push(-3);minStack.getMin(); --&gt; Returns -3.minStack.pop();minStack.top(); --&gt; Returns 0.minStack.getMin(); --&gt; Returns -2.]]></content>
  </entry>
  <entry>
    <title><![CDATA[FindMinimumInRotatedSortedArrayII]]></title>
    <url>%2F2019%2F03%2F23%2F2019-03-23-FindMinimumInRotatedSortedArrayII%2F</url>
    <content type="text"><![CDATA[problem Find Minimum in Rotated Sorted Array II Hard Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand. (i.e., [0,1,2,4,5,6,7] might become [4,5,6,7,0,1,2]). Find the minimum element. The array may contain duplicates. Example 1: 12&gt;Input: [1,3,5]&gt;Output: 1 Example 2: 12&gt;Input: [2,2,2,0,1]&gt;Output: 0 Note: This is a follow up problem to Find Minimum in Rotated Sorted Array. Would allow duplicates affect the run-time complexity? How and why? key??? solution12345678910class Solution &#123; public int findMin(int[] nums) &#123; for (int i = 0; i &lt; nums.length - 1; i++) &#123; if (nums[i] &gt; nums[i + 1]) &#123; return nums[i + 1]; &#125; &#125; return nums[0]; &#125;&#125; perfect]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Hard</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FindMinimumInRotatedSortedArray]]></title>
    <url>%2F2019%2F03%2F23%2F2019-03-23-FindMinimumInRotatedSortedArray%2F</url>
    <content type="text"><![CDATA[problem Find Minimum in Rotated Sorted Array Medium Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand. (i.e., [0,1,2,4,5,6,7] might become [4,5,6,7,0,1,2]). Find the minimum element. You may assume no duplicate exists in the array. Example 1: 12&gt;Input: [3,4,5,1,2] &gt;Output: 1 Example 2: 12&gt;Input: [4,5,6,7,0,1,2]&gt;Output: 0 keysolution12345678public int findMin(int[] nums) &#123; for (int i = 0; i &lt; nums.length - 1; i++) &#123; if (nums[i] &gt; nums[i + 1]) &#123; return nums[i + 1]; &#125; &#125; return nums[0]; &#125; perfect12I&#39;m the perfectbut this problem will harder in the next problem]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®‰å…¨é˜²èŒƒ]]></title>
    <url>%2F2019%2F03%2F23%2F2019-03-23-%E5%AE%89%E5%85%A8%E9%98%B2%E8%8C%83%2F</url>
    <content type="text"><![CDATA[åˆ†ç±» XSS æ”»å‡»ï¼šå¯¹ Web é¡µé¢æ³¨å…¥è„šæœ¬ï¼Œä½¿ç”¨ JavaScript çªƒå–ç”¨æˆ·ä¿¡æ¯ï¼Œè¯±å¯¼ç”¨æˆ·æ“ä½œã€‚ CSRF æ”»å‡»ï¼šä¼ªé€ ç”¨æˆ·è¯·æ±‚å‘ç½‘ç«™å‘èµ·æ¶æ„è¯·æ±‚ã€‚ é’“é±¼æ”»å‡»ï¼šåˆ©ç”¨ç½‘ç«™çš„è·³è½¬é“¾æŽ¥æˆ–è€…å›¾ç‰‡åˆ¶é€ é’“é±¼é™·é˜±ã€‚ HTTPå‚æ•°æ±¡æŸ“ï¼šåˆ©ç”¨å¯¹å‚æ•°æ ¼å¼éªŒè¯çš„ä¸å®Œå–„ï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œå‚æ•°æ³¨å…¥æ”»å‡»ã€‚ è¿œç¨‹ä»£ç æ‰§è¡Œï¼šç”¨æˆ·é€šè¿‡æµè§ˆå™¨æäº¤æ‰§è¡Œå‘½ä»¤ï¼Œç”±äºŽæœåŠ¡å™¨ç«¯æ²¡æœ‰é’ˆå¯¹æ‰§è¡Œå‡½æ•°åšè¿‡æ»¤ï¼Œå¯¼è‡´åœ¨æ²¡æœ‰æŒ‡å®šç»å¯¹è·¯å¾„çš„æƒ…å†µä¸‹å°±æ‰§è¡Œå‘½ä»¤ã€‚ XSSæ”»å‡»cross-site-scriptingè·¨åŸŸè„šæœ¬æ”»å‡»]]></content>
      <categories>
        <category>security</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[mysqläº‹åŠ¡]]></title>
    <url>%2F2019%2F03%2F23%2F2019-03-23-mysql%E4%BA%8B%E5%8A%A1%2F</url>
    <content type="text"><![CDATA[whatMYSQLäº‹åŠ¡ä¸»è¦ç”¨äºŽä¿è¯ä¸€ä¸²äº‹æƒ…è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆå°±å›žæ»šï¼Œä¾‹å¦‚ä»˜æ¬¾åŽï¼Œè¦å…ˆå†™å…¥æ”¯ä»˜è®¢å•è¡¨ï¼Œå†ä¸ªäººä¿¡æ¯ä¸­åŠ å…¥ä¼šå‘˜æƒç›Šã€‚è¿™ä¸¤ä¸ªæ“ä½œè¦ä¹ˆé¡ºåºæ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆå°±å›žæ»š åŽŸåˆ™ACID AtomicityåŽŸå­æ€§ ç¡®ä¿äº‹åŠ¡å†…çš„æ‰€æœ‰æ“ä½œéƒ½æˆåŠŸå®Œæˆï¼Œå¦åˆ™äº‹åŠ¡å°†è¢«ä¸­æ­¢åœ¨æ•…éšœç‚¹ï¼Œä»¥å‰çš„æ“ä½œå°†å›žæ»šåˆ°ä»¥å‰çš„çŠ¶æ€ã€‚ Consistencyä¸€è‡´æ€§ æ•°æ®åº“çš„ä¿®æ”¹æ˜¯ä¸€è‡´çš„ Isolationéš”ç¦»æ€§ äº‹åŠ¡æ˜¯å½¼æ­¤ç‹¬ç«‹çš„ Durabilityå¯é æ€§ ç¡®ä¿äº‹åŠ¡æäº¤åŽï¼Œç»“æžœæ°¸ä¹…å­˜åœ¨ éš”ç¦»æ€§ éš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºŽäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚äº‹åŠ¡éš”ç¦»åˆ†ä¸ºä¸åŒçº§åˆ«ï¼ŒåŒ…æ‹¬ è¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰â€“ä¸ä¸¥æ ¼ è¯»æäº¤ï¼ˆread committedï¼‰ å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰â€“é»˜è®¤çº§åˆ«ï¼ˆé¿å…å¹»è¯»ï¼‰ ä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰â€“æœ€ä¸¥æ ¼ æ²¡æœ‰éš”ç¦»æ€§çš„é—®é¢˜1.è„è¯»12update account set money&#x3D;money+100 where name&#x3D;â€™Bâ€™;update account set money&#x3D;money - 100 where name&#x3D;â€™Aâ€™; å½“æ‰§è¡Œç¬¬ä¸€æ¡è¯­å¥çš„æ—¶å€™ï¼Œäº‹åŠ¡æ²¡æœ‰æäº¤ï¼Œé‚£ä¹ˆæ¥è¯»Bçš„è´¦æˆ·é’±éƒ½å¤šäº†100å— è„è¯»ï¼šè¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ® 2.ä¸å¯é‡å¤è¯»æƒ…æ™¯ï¼šå¤šæ¬¡è¯»åŒä¸€ä¸ªæ•°æ®çš„æ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®è¢«åˆ«äººæ”¹äº†ï¼Œå¯¼è‡´ç»“æžœä¸ä¸€è‡´ 3.å¹»è¯»å¹»è¯»å’Œä¸å¯é‡å¤è¯»ä¸€æ ·ï¼Œè¯»å–åˆ°äº†å¦å¤–ä¸€æ¡å·²ç»æäº¤çš„äº‹åŠ¡ï¼Œæ‰€ä¸åŒçš„æ˜¯å®ƒé’ˆå¯¹çš„æ˜¯ä¸€æ‰¹æ•°æ®çš„æ•´ä½“ å®žçŽ°æ–¹å¼è‡ªåŠ¨æ–¹å¼beginTransactionScope(scope, ctx) 1234567const result &#x3D; await app.mysql.beginTransactionScope(async conn &#x3D;&gt; &#123; &#x2F;&#x2F; don&#39;t commit or rollback by yourself await conn.insert(table, row1); await conn.update(table, row2); return &#123; success: true &#125;;&#125;, ctx); &#x2F;&#x2F; if error throw on scope, will auto rollback æ‰‹åŠ¨æ–¹å¼beginTransaction 12345678910const conn &#x3D; await app.mysql.beginTransaction(); &#x2F;&#x2F; åˆå§‹åŒ–äº‹åŠ¡try &#123; await conn.insert(table, row1); &#x2F;&#x2F; ç¬¬ä¸€æ­¥æ“ä½œ await conn.update(table, row2); &#x2F;&#x2F; ç¬¬äºŒæ­¥æ“ä½œ await conn.commit(); &#x2F;&#x2F; æäº¤äº‹åŠ¡&#125; catch (err) &#123; &#x2F;&#x2F; error, rollback await conn.rollback(); &#x2F;&#x2F; ä¸€å®šè®°å¾—æ•èŽ·å¼‚å¸¸åŽå›žæ»šäº‹åŠ¡ï¼ï¼ throw err;&#125; è¡¨è¾¾å¼Literalapp.mysql.literals.now æŸ¥çœ‹æ•°æ®åº“äº‹åŠ¡éš”ç¦»æ€§çº§åˆ« 1select @@tx_isolation;]]></content>
      <categories>
        <category>mysql</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[bashrc]]></title>
    <url>%2F2019%2F03%2F15%2F2019-03-15-bashrc%2F</url>
    <content type="text"><![CDATA[whereé€šå¸¸åœ¨homeç›®å½•ä¸‹çš„ä¸€ä¸ªéšè—æ–‡ä»¶ï¼Œè®¿é—®å¯ä»¥1vim ~&#x2F;.bashrc whatbash åœ¨æ¯æ¬¡å¯åŠ¨æ—¶éƒ½ä¼šåŠ è½½ .bashrc æ–‡ä»¶çš„å†…å®¹ã€‚æ¯ä¸ªç”¨æˆ·çš„ home ç›®å½•éƒ½æœ‰è¿™ä¸ª shell è„šæœ¬ã€‚å®ƒç”¨æ¥å­˜å‚¨å¹¶åŠ è½½ä½ çš„ç»ˆç«¯é…ç½®å’ŒçŽ¯å¢ƒå˜é‡ end12&#x2F;&#x2F;æ›´æ–°ä¿®æ”¹source ~&#x2F;.bashrc]]></content>
  </entry>
  <entry>
    <title><![CDATA[å®‰è£…mysqlæœåŠ¡ä»¥åŠå¸¸è§é—®é¢˜è§£å†³]]></title>
    <url>%2F2019%2F03%2F14%2F2019-03-14-ubuntu%E5%AE%89%E8%A3%85mysql%E6%9C%8D%E5%8A%A1%E4%BB%A5%E5%8F%8A%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%2F</url>
    <content type="text"><![CDATA[å®‰è£…sudo apt-get update sudo apt-get install mysql-server è§£å†³è¿œç¨‹è¿žæŽ¥ tipsæœ¬äººä½¿ç”¨çŽ¯å¢ƒubuntu16 å®Œæˆå®‰è£…åŽï¼Œè¿œç¨‹è¿žæŽ¥ä½ ä¼šå‘çŽ°2003æŠ¥é”™ï¼Œæ­¤æ—¶ï¼Œä½ å¯¹ /etc/mysql/mysql.conf.d/ æ–‡ä»¶å¤¹ä¸­æ‰“å¼€ mysqld.cnfæ–‡ä»¶ä¿®æ”¹å³å¯ ä¿®æ”¹å†…å®¹å°†#bind-address = 127.0.0.1 åŽŸæœ¬æ²¡æœ‰æ³¨é‡Šï¼Œè¿›è¡Œæ³¨é‡Š ç„¶åŽä½ é‡æ–°è¿œç¨‹è¿žæŽ¥mysqlç›´æŽ¥å˜æˆ1130çš„æ‹’ç»è®¿é—®æœåŠ¡ï¼ŒæŽ¥ä¸‹æ¥ä½ è¦åœ¨æœåŠ¡å™¨ç«¯ç™»å½•mysqlï¼Œæ‰§è¡Œ è¿›å…¥æ•°æ®åº“ mysql -u root -p åˆ‡æ¢æ•°æ®åº“, mysql&gt;use mysql; æŸ¥çœ‹rootè´¦å·çš„ç™»å½•æƒé™, mysql&gt;select host, user from user; ä¿®æ”¹ç™»å½•æƒé™ mysql&gt;update user set host = â€˜%â€™ where user = â€˜rootâ€™; åˆ·æ–°,ç”Ÿæ•ˆ,æœ€åŽä¸€æ­¥,è‡³å…³é‡è¦ mysql&gt;flush privileges;]]></content>
  </entry>
  <entry>
    <title><![CDATA[SpringbootMQ]]></title>
    <url>%2F2019%2F03%2F13%2F2019-03-13-SpringbootMQ%2F</url>
    <content type="text"><![CDATA[what is MQå¦‚æžœæƒ³çŸ¥é“MQçš„è¯¦ç»†çŸ¥è¯†å¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—MQ è¿™é‡Œé€‰æ‹©æœ€é‡è¦çš„æä¸€ä¸‹ï¼šMQå³æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”¨æ¥å®žçŽ°ç¨‹åºçš„å¼‚æ­¥å’Œè§£è€¦ï¼Œèµ·åˆ°æ¶ˆæ¯ç¼“å†²ï¼Œæ¶ˆæ¯åˆ†å‘ã€‚é€šä¿—æ¥è®²å°±æ˜¯ä¸€ä¸ªåŒ»é™¢ï¼ˆæœåŠ¡å™¨ï¼‰é‡Œé¢æœ‰å¤šä¸ªåŒ»ç”Ÿï¼ˆçº¿ç¨‹æˆ–è¿›ç¨‹ï¼‰ï¼Œè®©ç—…äººéƒ½æŽ’é˜Ÿï¼ˆæ¶ˆæ¯ç¼“å†²ï¼‰ï¼Œæœ‰çš„åŽ»Aéƒ¨é—¨ï¼Œæœ‰çš„åŽ»Béƒ¨é—¨ï¼ˆæ¶ˆæ¯åˆ†å‘ï¼‰ã€‚ æˆå‘˜RabbitMQRabbitMQæ˜¯å®žçŽ°AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®Advanced Message Queuing Protocolï¼‰çš„æ¶ˆæ¯ä¸­é—´ä»¶çš„ä¸€ç§ï¼ŒFeatureå°±æ˜¯ç»„ä»¶ä¹‹é—´è§£è€¦ï¼Œç—…äººæŽ’ä»–çš„é˜Ÿï¼ŒåŒ»ç”Ÿçœ‹ä»–çš„ç—…äººï¼Œè‡³äºŽæ€Žä¹ˆæŽ’ï¼ŒåŒ»ç”Ÿä¸ç”¨æ“å¿ƒï¼Œè‡³äºŽæ€Žä¹ˆçœ‹ç—…ï¼Œç—…äººä¸ç”¨æ“å¿ƒï¼Œéƒ½äº¤ç»™MQ æœ¯è¯­ï¼šé¢å‘æ¶ˆæ¯ï¼Œé˜Ÿåˆ—ï¼Œè·¯ç”±ï¼ˆç‚¹å¯¹ç‚¹/å‘å¸ƒè®¢é˜…ï¼‰ï¼Œå¯é å®‰å…¨]]></content>
      <categories>
        <category>high_availability</category>
      </categories>
      <tags>
        <tag>MQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaé—®é¢˜æŽ’æŸ¥å·¥å…·]]></title>
    <url>%2F2019%2F03%2F13%2F2019-03-13-Java%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5%E5%B7%A5%E5%85%B7%2F</url>
    <content type="text"><![CDATA[ä¸€ä¸‹æ–‡å­—æ‘˜è‡ªJAVAå…¬ä¼—å· Linuxå‘½ä»¤ç±»tailæœ€å¸¸ç”¨çš„tail -f 1tail -300f shopbase.log #å€’æ•°300è¡Œå¹¶è¿›å…¥å®žæ—¶ç›‘å¬æ–‡ä»¶å†™å…¥æ¨¡å¼ grep12345678910grep forest f.txt #æ–‡ä»¶æŸ¥æ‰¾grep forest f.txt cpf.txt #å¤šæ–‡ä»¶æŸ¥æ‰¾grep &#39;log&#39; &#x2F;home&#x2F;admin -r -n #ç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰ç¬¦åˆå…³é”®å­—çš„æ–‡ä»¶cat f.txt | grep -i shopbase grep &#39;shopbase&#39; &#x2F;home&#x2F;admin -r -n --include *.&#123;vm,java&#125; #æŒ‡å®šæ–‡ä»¶åŽç¼€grep &#39;shopbase&#39; &#x2F;home&#x2F;admin -r -n --exclude *.&#123;vm,java&#125; #ååŒ¹é…seq 10 | grep 5 -A 3 #ä¸ŠåŒ¹é…seq 10 | grep 5 -B 3 #ä¸‹åŒ¹é…seq 10 | grep 5 -C 3 #ä¸Šä¸‹åŒ¹é…ï¼Œå¹³æ—¶ç”¨è¿™ä¸ªå°±å¦¥äº†cat f.txt | grep -c &#39;SHOPBASE&#39; awk1 åŸºç¡€å‘½ä»¤ 123456awk &#39;&#123;print $4,$6&#125;&#39; f.txtawk &#39;&#123;print NR,$0&#125;&#39; f.txt cpf.txt awk &#39;&#123;print FNR,$0&#125;&#39; f.txt cpf.txtawk &#39;&#123;print FNR,FILENAME,$0&#125;&#39; f.txt cpf.txtawk &#39;&#123;print FILENAME,&quot;NR&#x3D;&quot;NR,&quot;FNR&#x3D;&quot;FNR,&quot;$&quot;NF&quot;&#x3D;&quot;$NF&#125;&#39; f.txt cpf.txtecho 1:2:3:4 | awk -F: &#39;&#123;print $1,$2,$3,$4&#125;&#39; 2 åŒ¹é… 1234awk &#39;&#x2F;ldb&#x2F; &#123;print&#125;&#39; f.txt #åŒ¹é…ldbawk &#39;!&#x2F;ldb&#x2F; &#123;print&#125;&#39; f.txt #ä¸åŒ¹é…ldbawk &#39;&#x2F;ldb&#x2F; &amp;&amp; &#x2F;LISTEN&#x2F; &#123;print&#125;&#39; f.txt #åŒ¹é…ldbå’ŒLISTENawk &#39;$5 ~ &#x2F;ldb&#x2F; &#123;print&#125;&#39; f.txt #ç¬¬äº”åˆ—åŒ¹é…ldb 3 å†…å»ºå˜é‡ NR:NRè¡¨ç¤ºä»Žawkå¼€å§‹æ‰§è¡ŒåŽï¼ŒæŒ‰ç…§è®°å½•åˆ†éš”ç¬¦è¯»å–çš„æ•°æ®æ¬¡æ•°ï¼Œé»˜è®¤çš„è®°å½•åˆ†éš”ç¬¦ä¸ºæ¢è¡Œç¬¦ï¼Œå› æ­¤é»˜è®¤çš„å°±æ˜¯è¯»å–çš„æ•°æ®è¡Œæ•°ï¼ŒNRå¯ä»¥ç†è§£ä¸ºNumber of Recordçš„ç¼©å†™ã€‚ FNR:åœ¨awkå¤„ç†å¤šä¸ªè¾“å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œåœ¨å¤„ç†å®Œç¬¬ä¸€ä¸ªæ–‡ä»¶åŽï¼ŒNRå¹¶ä¸ä¼šä»Ž1å¼€å§‹ï¼Œè€Œæ˜¯ç»§ç»­ç´¯åŠ ï¼Œå› æ­¤å°±å‡ºçŽ°äº†FNRï¼Œæ¯å½“å¤„ç†ä¸€ä¸ªæ–°æ–‡ä»¶çš„æ—¶å€™ï¼ŒFNRå°±ä»Ž1å¼€å§‹è®¡æ•°ï¼ŒFNRå¯ä»¥ç†è§£ä¸ºFile Number of Recordã€‚ NF: NFè¡¨ç¤ºç›®å‰çš„è®°å½•è¢«åˆ†å‰²çš„å­—æ®µçš„æ•°ç›®ï¼ŒNFå¯ä»¥ç†è§£ä¸ºNumber of Fieldã€‚ find12345678910111213sudo -u admin find &#x2F;home&#x2F;admin &#x2F;tmp &#x2F;usr -name \*.log(å¤šä¸ªç›®å½•åŽ»æ‰¾)find . -iname \*.txt(å¤§å°å†™éƒ½åŒ¹é…)find . -type d(å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•)find &#x2F;usr -type l(å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„ç¬¦å·é“¾æŽ¥)find &#x2F;usr -type l -name &quot;z*&quot; -ls(ç¬¦å·é“¾æŽ¥çš„è¯¦ç»†ä¿¡æ¯ eg:inode,ç›®å½•)find &#x2F;home&#x2F;admin -size +250000k(è¶…è¿‡250000kçš„æ–‡ä»¶ï¼Œå½“ç„¶+æ”¹æˆ-å°±æ˜¯å°äºŽäº†)find &#x2F;home&#x2F;admin f -perm 777 -exec ls -l &#123;&#125; \; (æŒ‰ç…§æƒé™æŸ¥è¯¢æ–‡ä»¶)find &#x2F;home&#x2F;admin -atime -1 1å¤©å†…è®¿é—®è¿‡çš„æ–‡ä»¶find &#x2F;home&#x2F;admin -ctime -1 1å¤©å†…çŠ¶æ€æ”¹å˜è¿‡çš„æ–‡ä»¶ find &#x2F;home&#x2F;admin -mtime -1 1å¤©å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶find &#x2F;home&#x2F;admin -amin -1 1åˆ†é’Ÿå†…è®¿é—®è¿‡çš„æ–‡ä»¶find &#x2F;home&#x2F;admin -cmin -1 1åˆ†é’Ÿå†…çŠ¶æ€æ”¹å˜è¿‡çš„æ–‡ä»¶ find &#x2F;home&#x2F;admin -mmin -1 1åˆ†é’Ÿå†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶ pgmæ‰¹é‡æŸ¥è¯¢vm-shopbaseæ»¡è¶³æ¡ä»¶çš„æ—¥å¿— 1pgm -A -f vm-shopbase &#39;cat &#x2F;home&#x2F;admin&#x2F;shopbase&#x2F;logs&#x2F;shopbase.log.2017-01-17|grep 2069861630&#39; tsartsaræ˜¯å’±å…¬å¸è‡ªå·±çš„é‡‡é›†å·¥å…·ã€‚å¾ˆå¥½ç”¨, å°†åŽ†å²æ”¶é›†åˆ°çš„æ•°æ®æŒä¹…åŒ–åœ¨ç£ç›˜ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬å¿«é€Ÿæ¥æŸ¥è¯¢åŽ†å²çš„ç³»ç»Ÿæ•°æ®ã€‚å½“ç„¶å®žæ—¶çš„åº”ç”¨æƒ…å†µä¹Ÿæ˜¯å¯ä»¥æŸ¥è¯¢çš„å•¦ã€‚å¤§éƒ¨åˆ†æœºå™¨ä¸Šéƒ½æœ‰å®‰è£…ã€‚ 1tsar ##å¯ä»¥æŸ¥çœ‹æœ€è¿‘ä¸€å¤©çš„å„é¡¹æŒ‡æ ‡ 1tsar --live ##å¯ä»¥æŸ¥çœ‹å®žæ—¶æŒ‡æ ‡ï¼Œé»˜è®¤äº”ç§’ä¸€åˆ· 1tsar -d 20161218 ##æŒ‡å®šæŸ¥çœ‹æŸå¤©çš„æ•°æ®ï¼Œè²Œä¼¼æœ€å¤šåªèƒ½çœ‹å››ä¸ªæœˆçš„æ•°æ® 1234tsar --memtsar --loadtsar --cpu##å½“ç„¶è¿™ä¸ªä¹Ÿå¯ä»¥å’Œ-då‚æ•°é…åˆæ¥æŸ¥è¯¢æŸå¤©çš„å•ä¸ªæŒ‡æ ‡çš„æƒ…å†µ toptopé™¤äº†çœ‹ä¸€äº›åŸºæœ¬ä¿¡æ¯ä¹‹å¤–ï¼Œå‰©ä¸‹çš„å°±æ˜¯é…åˆæ¥æŸ¥è¯¢vmçš„å„ç§é—®é¢˜äº† 123ps -ef | grep javatop -H -p pid èŽ·å¾—çº¿ç¨‹10è¿›åˆ¶è½¬16è¿›åˆ¶åŽjstackåŽ»æŠ“çœ‹è¿™ä¸ªçº¿ç¨‹åˆ°åº•åœ¨å¹²å•¥ å…¶ä»–12netstat -nat|awk &#39;&#123;print $6&#125;&#39;|sort|uniq -c|sort -rn #æŸ¥çœ‹å½“å‰è¿žæŽ¥ï¼Œæ³¨æ„close_waitåé«˜çš„æƒ…å†µï¼Œæ¯”å¦‚å¦‚ä¸‹ æŽ’æŸ¥åˆ©å™¨btraceé¦–å½“å…¶å†²çš„è¦è¯´çš„æ˜¯btraceã€‚çœŸæ˜¯ç”Ÿäº§çŽ¯å¢ƒ&amp;é¢„å‘çš„æŽ’æŸ¥é—®é¢˜å¤§æ€å™¨ã€‚ ç®€ä»‹ä»€ä¹ˆçš„å°±ä¸è¯´äº†ã€‚ç›´æŽ¥ä¸Šä»£ç å¹² æŸ¥çœ‹å½“å‰è°è°ƒç”¨äº†ArrayListçš„addæ–¹æ³•ï¼ŒåŒæ—¶åªæ‰“å°å½“å‰ArrayListçš„sizeå¤§äºŽ500çš„çº¿ç¨‹è°ƒç”¨æ ˆ @OnMethod(clazz = â€œjava.util.ArrayListâ€, method=â€addâ€, location = @Location(value = Kind.CALL, clazz = â€œ/./â€œ, method = â€œ/./â€œ))public static void m(@ProbeClassName String probeClass, @ProbeMethodName String probeMethod, @TargetInstance Object instance, @TargetMethodOrField String method) { 1234567if(getInt(field(&quot;java.util.ArrayList&quot;, &quot;size&quot;), instance) &gt; 479)&#123; println(&quot;check who ArrayList.add method:&quot; + probeClass + &quot;#&quot; + probeMethod + &quot;, method:&quot; + method + &quot;, size:&quot; + getInt(field(&quot;java.util.ArrayList&quot;, &quot;size&quot;), instance)); jstack(); println(); println(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;); println();&#125; } ç›‘æŽ§å½“å‰æœåŠ¡æ–¹æ³•è¢«è°ƒç”¨æ—¶è¿”å›žçš„å€¼ä»¥åŠè¯·æ±‚çš„å‚æ•° @OnMethod(clazz = â€œcom.taobao.sellerhome.transfer.biz.impl.C2CApplyerServiceImplâ€, method=â€navâ€, location = @Location(value = Kind.RETURN))public static void mt(long userId, int current, int relation, String check, String redirectUrl, @Return AnyType result) { 1println(&quot;parameter# userId:&quot; + userId + &quot;, current:&quot; + current + &quot;, relation:&quot; + relation + &quot;, check:&quot; + check + &quot;, redirectUrl:&quot; + redirectUrl + &quot;, result:&quot; + result); } å…¶ä»–åŠŸèƒ½é›†å›¢çš„ä¸€äº›å·¥å…·æˆ–å¤šæˆ–å°‘éƒ½æœ‰ï¼Œå°±ä¸è¯´äº†ã€‚æ„Ÿå…´è¶£çš„è¯·ç§»æ­¥ã€‚https://github.com/btraceio/btrace æ³¨æ„: ç»è¿‡è§‚å¯Ÿï¼Œ1.3.9çš„releaseè¾“å‡ºä¸ç¨³å®šï¼Œè¦å¤šè§¦å‘å‡ æ¬¡æ‰èƒ½çœ‹åˆ°æ­£ç¡®çš„ç»“æžœ æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…traceç±»æ—¶èŒƒå›´ä¸€å®šè¦æŽ§åˆ¶ï¼Œå¦åˆ™æžæœ‰å¯èƒ½å‡ºçŽ°è·‘æ»¡CPUå¯¼è‡´åº”ç”¨å¡æ­»çš„æƒ…å†µ ç”±äºŽæ˜¯å­—èŠ‚ç æ³¨å…¥çš„åŽŸç†ï¼Œæƒ³è¦åº”ç”¨æ¢å¤åˆ°æ­£å¸¸æƒ…å†µï¼Œéœ€è¦é‡å¯åº”ç”¨ã€‚ GreysGreysæ˜¯@æœç¨çš„å¤§ä½œå§ã€‚è¯´å‡ ä¸ªæŒºæ£’çš„åŠŸèƒ½(éƒ¨åˆ†åŠŸèƒ½å’Œbtraceé‡åˆ): sc -df xxx: è¾“å‡ºå½“å‰ç±»çš„è¯¦æƒ…,åŒ…æ‹¬æºç ä½ç½®å’Œclassloaderç»“æž„ trace class method: ç›¸å½“å–œæ¬¢è¿™ä¸ªåŠŸèƒ½! å¾ˆæ—©å‰å¯ä»¥æ—©JProfilerçœ‹åˆ°è¿™ä¸ªåŠŸèƒ½ã€‚æ‰“å°å‡ºå½“å‰æ–¹æ³•è°ƒç”¨çš„è€—æ—¶æƒ…å†µï¼Œç»†åˆ†åˆ°æ¯ä¸ªæ–¹æ³•ã€‚å¯¹æŽ’æŸ¥æ–¹æ³•æ€§èƒ½æ—¶å¾ˆæœ‰å¸®åŠ©ï¼Œæ¯”å¦‚æˆ‘ä¹‹å‰è¿™ç¯‡å°±æ˜¯ä½¿ç”¨äº†traceå‘½ä»¤æ¥çš„:http://www.atatech.org/articles/52947ã€‚ å…¶ä»–åŠŸèƒ½éƒ¨åˆ†å’Œbtraceé‡åˆï¼Œå¯ä»¥é€‰ç”¨ï¼Œæ„Ÿå…´è¶£çš„è¯·ç§»æ­¥ã€‚http://www.atatech.org/articles/26247 å¦å¤–ç›¸å…³è”çš„æ˜¯arthasï¼Œä»–æ˜¯åŸºäºŽGreysçš„ï¼Œæ„Ÿå…´è¶£çš„å†ç§»æ­¥http://mw.alibaba-inc.com/products/arthas/docs/middleware-container/arthas.wiki/home.html?spm=a1z9z.8109794.header.32.1lsoMc javOSizeå°±è¯´ä¸€ä¸ªåŠŸèƒ½classesï¼šé€šè¿‡ä¿®æ”¹äº†å­—èŠ‚ç ï¼Œæ”¹å˜äº†ç±»çš„å†…å®¹ï¼Œå³æ—¶ç”Ÿæ•ˆã€‚ æ‰€ä»¥å¯ä»¥åšåˆ°å¿«é€Ÿçš„åœ¨æŸä¸ªåœ°æ–¹æ‰“ä¸ªæ—¥å¿—çœ‹çœ‹è¾“å‡ºï¼Œç¼ºç‚¹æ˜¯å¯¹ä»£ç çš„ä¾µå…¥æ€§å¤ªå¤§ã€‚ä½†æ˜¯å¦‚æžœè‡ªå·±çŸ¥é“è‡ªå·±åœ¨å¹²å˜›ï¼Œçš„ç¡®æ˜¯ä¸é”™çš„çŽ©æ„å„¿ã€‚ å…¶ä»–åŠŸèƒ½Greyså’Œbtraceéƒ½èƒ½å¾ˆè½»æ˜“åšçš„åˆ°ï¼Œä¸è¯´äº†ã€‚ å¯ä»¥çœ‹çœ‹æˆ‘ä¹‹å‰å†™çš„ä¸€ç¯‡javOSizeçš„ç®€ä»‹http://www.atatech.org/articles/38546å®˜ç½‘è¯·ç§»æ­¥http://www.javosize.com/ JProfilerä¹‹å‰åˆ¤æ–­è®¸å¤šé—®é¢˜è¦é€šè¿‡JProfilerï¼Œä½†æ˜¯çŽ°åœ¨Greyså’ŒbtraceåŸºæœ¬éƒ½èƒ½æžå®šäº†ã€‚å†åŠ ä¸Šå‡ºé—®é¢˜çš„åŸºæœ¬ä¸Šéƒ½æ˜¯ç”Ÿäº§çŽ¯å¢ƒ(ç½‘ç»œéš”ç¦»)ï¼Œæ‰€ä»¥åŸºæœ¬ä¸æ€Žä¹ˆä½¿ç”¨äº†ï¼Œä½†æ˜¯è¿˜æ˜¯è¦æ ‡è®°ä¸€ä¸‹ã€‚å®˜ç½‘è¯·ç§»æ­¥https://www.ej-technologies.com/products/jprofiler/overview.html å¤§æ€å™¨eclipseMATå¯ä½œä¸ºeclipseçš„æ’ä»¶ï¼Œä¹Ÿå¯ä½œä¸ºå•ç‹¬çš„ç¨‹åºæ‰“å¼€ã€‚è¯¦æƒ…è¯·ç§»æ­¥http://www.eclipse.org/mat/ zprofileré›†å›¢å†…çš„å¼€å‘åº”è¯¥æ˜¯æ— äººä¸çŸ¥æ— äººä¸æ™“äº†ã€‚ç®€è€Œè¨€ä¹‹ä¸€å¥è¯:æœ‰äº†zprofilerè¿˜è¦matå¹²å˜›è¯¦æƒ…è¯·ç§»æ­¥zprofiler.alibaba-inc.com javaä¸‰æ¿æ–§ï¼Œå™¢ä¸å¯¹ï¼Œæ˜¯ä¸ƒæŠŠjpsæˆ‘åªç”¨ä¸€æ¡å‘½ä»¤ï¼š 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;java&#x2F;bin&#x2F;jps -mlvV jstackæ™®é€šç”¨æ³•: 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jstack 2815 native+javaæ ˆ: 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jstack -m 2815 jinfoå¯çœ‹ç³»ç»Ÿå¯åŠ¨çš„å‚æ•°ï¼Œå¦‚ä¸‹ 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jinfo -flags 2815 jmapä¸¤ä¸ªç”¨é€” 1.æŸ¥çœ‹å †çš„æƒ…å†µ 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jmap -heap 2815 2.dump 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jmap -dump:live,format&#x3D;b,file&#x3D;&#x2F;tmp&#x2F;heap2.bin 2815 æˆ–è€… 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jmap -dump:format&#x3D;b,file&#x3D;&#x2F;tmp&#x2F;heap3.bin 2815 3.çœ‹çœ‹å †éƒ½è¢«è°å äº†? å†é…åˆzprofilerå’Œbtraceï¼ŒæŽ’æŸ¥é—®é¢˜ç®€ç›´æ˜¯å¦‚è™Žæ·»ç¿¼ 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jmap -histo 2815 | head -10 jstatjstatå‚æ•°ä¼—å¤šï¼Œä½†æ˜¯ä½¿ç”¨ä¸€ä¸ªå°±å¤Ÿäº† 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;install&#x2F;ajdk-8_1_1_fp1-b52&#x2F;bin&#x2F;jstat -gcutil 2815 1000 jdbæ—¶è‡³ä»Šæ—¥ï¼Œjdbä¹Ÿæ˜¯ç»å¸¸ä½¿ç”¨çš„ã€‚jdbå¯ä»¥ç”¨æ¥é¢„å‘debug,å‡è®¾ä½ é¢„å‘çš„java_homeæ˜¯/opt/taobao/java/ï¼Œè¿œç¨‹è°ƒè¯•ç«¯å£æ˜¯8000.é‚£ä¹ˆsudo -u admin /opt/taobao/java/bin/jdb -attach 8000. å‡ºçŽ°ä»¥ä¸Šä»£è¡¨jdbå¯åŠ¨æˆåŠŸã€‚åŽç»­å¯ä»¥è¿›è¡Œè®¾ç½®æ–­ç‚¹è¿›è¡Œè°ƒè¯•ã€‚å…·ä½“å‚æ•°å¯è§oracleå®˜æ–¹è¯´æ˜Žhttp://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html CHLSDBCHLSDBæ„Ÿè§‰å¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥çœ‹åˆ°æ›´å¥½çŽ©çš„ä¸œè¥¿ï¼Œä¸è¯¦ç»†å™è¿°äº†ã€‚ æŸ¥è¯¢èµ„æ–™å¬è¯´jstackå’Œjmapç­‰å·¥å…·å°±æ˜¯åŸºäºŽå®ƒçš„ã€‚ 1sudo -u admin &#x2F;opt&#x2F;taobao&#x2F;java&#x2F;bin&#x2F;java -classpath &#x2F;opt&#x2F;taobao&#x2F;java&#x2F;lib&#x2F;sa-jdi.jar sun.jvm.hotspot.CLHSDB æ›´è¯¦ç»†çš„å¯è§Rå¤§æ­¤è´´http://rednaxelafx.iteye.com/blog/1847971 plugin of intellij ideakey promoterå¿«æ·é”®ä¸€æ¬¡ä½ è®°ä¸ä½ï¼Œå¤šæ¥å‡ æ¬¡ä½ æ€»èƒ½è®°ä½äº†å§ï¼Ÿ maven helperåˆ†æžmavenä¾èµ–çš„å¥½å¸®æ‰‹ã€‚ VM options ä½ çš„ç±»åˆ°åº•æ˜¯ä»Žå“ªä¸ªæ–‡ä»¶åŠ è½½è¿›æ¥çš„ï¼Ÿ 123-XX:+TraceClassLoadingç»“æžœå½¢å¦‚[Loaded java.lang.invoke.MethodHandleImpl$Lazy from D:\programme\jdk\jdk8U74\jre\lib\rt.jar] åº”ç”¨æŒ‚äº†è¾“å‡ºdumpæ–‡ä»¶ 12-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath&#x3D;&#x2F;home&#x2F;admin&#x2F;logs&#x2F;java.hprofé›†å›¢çš„vmå‚æ•°é‡Œè¾¹åŸºæœ¬éƒ½æœ‰è¿™ä¸ªé€‰é¡¹ jaråŒ…å†²çªæŠŠè¿™ä¸ªå•ç‹¬å†™ä¸ªå¤§æ ‡é¢˜ä¸è¿‡åˆ†å§ï¼Ÿæ¯ä¸ªäººæˆ–å¤šæˆ–å°‘éƒ½å¤„ç†è¿‡è¿™ç§çƒ¦äººçš„caseã€‚æˆ‘ç‰¹ä¹ˆä¸‹è¾¹è¿™ä¹ˆå¤šæ–¹æ¡ˆä¸ä¿¡å°±æžä¸å®šä½ ? mvn dependency:tree &gt; ~/dependency.txtæ‰“å‡ºæ‰€æœ‰ä¾èµ– mvn dependency:tree -Dverbose -Dincludes=groupId:artifactIdåªæ‰“å‡ºæŒ‡å®šgroupIdå’ŒartifactIdçš„ä¾èµ–å…³ç³» -XX:+TraceClassLoadingvmå¯åŠ¨è„šæœ¬åŠ å…¥ã€‚åœ¨tomcatå¯åŠ¨è„šæœ¬ä¸­å¯è§åŠ è½½ç±»çš„è¯¦ç»†ä¿¡æ¯ -verbosevmå¯åŠ¨è„šæœ¬åŠ å…¥ã€‚åœ¨tomcatå¯åŠ¨è„šæœ¬ä¸­å¯è§åŠ è½½ç±»çš„è¯¦ç»†ä¿¡æ¯ greys:scgreysçš„scå‘½ä»¤ä¹Ÿèƒ½æ¸…æ™°çš„çœ‹åˆ°å½“å‰ç±»æ˜¯ä»Žå“ªé‡ŒåŠ è½½è¿‡æ¥çš„ tomcat-classloader-locateé€šè¿‡ä»¥ä¸‹urlå¯ä»¥èŽ·çŸ¥å½“å‰ç±»æ˜¯ä»Žå“ªé‡ŒåŠ è½½çš„curl http://localhost:8006/classloader/locate?class=org.apache.xerces.xs.XSObject ALI-TOMCATå¸¦ç»™æˆ‘ä»¬çš„æƒŠå–œ(æ„Ÿè°¢@åŠ¡è§‚) åˆ—å‡ºå®¹å™¨åŠ è½½çš„jaråˆ—è¡¨ curl http://localhost:8006/classloader/jars åˆ—å‡ºå½“å‰å½“å½“å‰ç±»åŠ è½½çš„å®žé™…jaråŒ…ä½ç½®ï¼Œè§£å†³ç±»å†²çªæ—¶æœ‰ç”¨ curl http://localhost:8006/classloader/locate?class=org.apache.xerces.xs.XSObject å…¶ä»–gprefhttp://www.atatech.org/articles/33317 dmesgå¦‚æžœå‘çŽ°è‡ªå·±çš„javaè¿›ç¨‹æ‚„æ— å£°æ¯çš„æ¶ˆå¤±äº†ï¼Œå‡ ä¹Žæ²¡æœ‰ç•™ä¸‹ä»»ä½•çº¿ç´¢ï¼Œé‚£ä¹ˆdmesgä¸€å‘ï¼Œå¾ˆæœ‰å¯èƒ½æœ‰ä½ æƒ³è¦çš„ã€‚ 1sudo dmesg|grep -i kill|less åŽ»æ‰¾å…³é”®å­—oom_killerã€‚æ‰¾åˆ°çš„ç»“æžœç±»ä¼¼å¦‚ä¸‹: 12345[6710782.021013] java invoked oom-killer: gfp_mask&#x3D;0xd0, order&#x3D;0, oom_adj&#x3D;0, oom_scoe_adj&#x3D;0[6710782.070639] [&lt;ffffffff81118898&gt;] ? oom_kill_process+0x68&#x2F;0x140 [6710782.257588] Task in &#x2F;LXC011175068174 killed as a result of limit of &#x2F;LXC011175068174 [6710784.698347] Memory cgroup out of memory: Kill process 215701 (java) score 854 or sacrifice child [6710784.707978] Killed process 215701, UID 679, (java) total-vm:11017300kB, anon-rss:7152432kB, file-rss:1232kB ä»¥ä¸Šè¡¨æ˜Žï¼Œå¯¹åº”çš„javaè¿›ç¨‹è¢«ç³»ç»Ÿçš„OOM Killerç»™å¹²æŽ‰äº†ï¼Œå¾—åˆ†ä¸º854.è§£é‡Šä¸€ä¸‹OOM killerï¼ˆOut-Of-Memory killerï¼‰ï¼Œè¯¥æœºåˆ¶ä¼šç›‘æŽ§æœºå™¨çš„å†…å­˜èµ„æºæ¶ˆè€—ã€‚å½“æœºå™¨å†…å­˜è€—å°½å‰ï¼Œè¯¥æœºåˆ¶ä¼šæ‰«ææ‰€æœ‰çš„è¿›ç¨‹ï¼ˆæŒ‰ç…§ä¸€å®šè§„åˆ™è®¡ç®—ï¼Œå†…å­˜å ç”¨ï¼Œæ—¶é—´ç­‰ï¼‰ï¼ŒæŒ‘é€‰å‡ºå¾—åˆ†æœ€é«˜çš„è¿›ç¨‹ï¼Œç„¶åŽæ€æ­»ï¼Œä»Žè€Œä¿æŠ¤æœºå™¨ã€‚ dmesgæ—¥å¿—æ—¶é—´è½¬æ¢å…¬å¼:logå®žé™…æ—¶é—´=æ ¼æž—å¨æ²»1970-01-01+(å½“å‰æ—¶é—´ç§’æ•°-ç³»ç»Ÿå¯åŠ¨è‡³ä»Šçš„ç§’æ•°+dmesgæ‰“å°çš„logæ—¶é—´)ç§’æ•°ï¼š 1date -d &quot;1970-01-01 UTC &#96;echo &quot;$(date +%s)-$(cat &#x2F;proc&#x2F;uptime|cut -f 1 -d&#39; &#39;)+12288812.926194&quot;|bc &#96; seconds&quot; å‰©ä¸‹çš„ï¼Œå°±æ˜¯çœ‹çœ‹ä¸ºä»€ä¹ˆå†…å­˜è¿™ä¹ˆå¤§ï¼Œè§¦å‘äº†OOM-Killeräº†ã€‚ æ–°æŠ€èƒ½getRateLimiteræƒ³è¦ç²¾ç»†çš„æŽ§åˆ¶QPS? æ¯”å¦‚è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œä½ è°ƒç”¨æŸä¸ªæŽ¥å£ï¼Œå¯¹æ–¹æ˜Žç¡®éœ€è¦ä½ é™åˆ¶ä½ çš„QPSåœ¨400ä¹‹å†…ä½ æ€Žä¹ˆæŽ§åˆ¶ï¼Ÿè¿™ä¸ªæ—¶å€™RateLimiterå°±æœ‰äº†ç”¨æ­¦ä¹‹åœ°ã€‚è¯¦æƒ…å¯ç§»æ­¥http://ifeve.com/guava-ratelimite]]></content>
  </entry>
  <entry>
    <title><![CDATA[JumpGame]]></title>
    <url>%2F2019%2F03%2F13%2F2019-03-13-JumpGame%2F</url>
    <content type="text"><![CDATA[problem Given an array of non-negative integers, you are initially positioned at the first index of the array. Each element in the array represents your maximum jump length at that position. Determine if you are able to reach the last index. Example 1: 123Input: [2,3,1,1,4]Output: trueExplanation: Jump 1 step from index 0 to 1, then 3 steps to the last index. Example 2: 1234Input: [3,2,1,0,4]Output: falseExplanation: You will always arrive at index 3 no matter what. Its maximum jump length is 0, which makes it impossible to reach the last index. keyæœ¬é¢˜æœ‰ä¸¤ä¸ªæ˜“ç†è§£é”™çš„åœ°æ–¹ è¾¾åˆ°æœ€åŽä¸€ä¸ªindexæˆ–è€…è¶…è¿‡æœ€åŽä¸€ä¸ªindexæ˜¯å¯ä»¥çš„ ã€2,5,0,0ã€‘ç¬¬ä¸€ä¸ª2å¯ä»¥è·³ä¸¤æ­¥ï¼Œç„¶åŽæˆ‘ä»¬åœ¨5çš„åŸºç¡€ä¸Šè·³äº”æ­¥ æœ¬é¢˜é‡‡ç”¨è´ªå¿ƒç®—æ³•ï¼Œç®—å‡ºå±€éƒ¨æœ€ä¼˜è§£å°±å¯ä»¥äº†ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è€ƒè™‘dpï¼Œä½†æœ¬é¢˜æ²¡æœ‰è¿™ä¸ªå¿…è¦ solution123456public boolean canJump(int[] nums) &#123; int reach = nums[0]; for(int i = 1; i &lt; nums.length &amp;&amp; reach &gt;= i; i++) if(i + nums[i] &gt; reach) reach = i + nums[i]; return reach &gt;= (nums.length-1) ? true : false; &#125; perfect1I&#39;m the perfect]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpiralMatrix]]></title>
    <url>%2F2019%2F03%2F12%2F2019-03-12-SpiralMatrix%2F</url>
    <content type="text"><![CDATA[54.problem Given a matrix of m x n elements (m rows, n columns), return all elements of the matrix in spiral order. Example 1: 1234567Input:[ [ 1, 2, 3 ], [ 4, 5, 6 ], [ 7, 8, 9 ]]Output: [1,2,3,6,9,8,7,4,5] Example 2: 1234567Input:[ [1, 2, 3, 4], [5, 6, 7, 8], [9,10,11,12]]Output: [1,2,3,4,8,12,11,10,9,5,6,7] keyå¾ˆç®€å•çš„å¾ªçŽ¯è¾“å‡ºçš„ä¾‹å­ï¼Œä»Žã€0,0ã€‘çš„ä½ç½®é¡ºæ—¶é’ˆæ‰«ä¸€åœˆï¼Œç„¶åŽç¼©å°ä¸€åœˆï¼Œç»§ç»­æ‰«æï¼Œä¸è¿‡æœ‰ä¸€ä¸ªç»†èŠ‚å°±æ˜¯ç¬¬ä¸‰æ¬¡ç¬¬å››å¾ªçŽ¯å‰ï¼Œè¦åˆ¤æ–­ä¸€ä¸‹,é˜²æ­¢æœ€åŽä¸€å±‚å¾ªçŽ¯åªæœ‰ä¸€è¡Œ solution123456789101112131415161718192021222324252627282930public List&lt;Integer&gt; spiralOrder(int[][] matrix) &#123; List&lt;Integer&gt; ans = new ArrayList&lt;Integer&gt;(); if (matrix.length == 0) return ans; int rs = 0, re = matrix.length - 1;// rowStart rowEnd int cs = 0, ce = matrix[0].length - 1;// columnStart columnEnd while (rs &lt;= re &amp;&amp; cs &lt;= ce) &#123; for (int i = cs; i &lt;= ce; i++) &#123; ans.add(matrix[rs][i]); &#125; for(int j=rs+1;j&lt;=re;j++) &#123; ans.add(matrix[j][ce]); &#125; if(rs&lt;re&amp;&amp;cs&lt;ce) &#123; for(int k=ce-1;k&gt;cs;k--) &#123; ans.add(matrix[re][k]); &#125; for(int l=re;l&gt;rs;l--) &#123; ans.add(matrix[l][cs]); &#125; &#125; rs++; re--; cs++; ce--; &#125; return ans; &#125; perfect1yehh,I&#39;m the perfect]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Medium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•è®¾ç½®hexoçš„favico]]></title>
    <url>%2F2019%2F03%2F12%2F2019-03-12-%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AEhexo%E7%9A%84favico%2F</url>
    <content type="text"><![CDATA[solutionsource ä¸‹æ”¾ç½®32*32çš„favico.iconæ–‡ä»¶å¹¶åœ¨æ ¹ç›®å½•çš„_config.ymlä¸­è®¾ç½® favicon: /favicon.ico]]></content>
      <categories>
        <category>others</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•å°†åŸŸåç»‘å®šåˆ°hexo]]></title>
    <url>%2F2019%2F03%2F12%2F2019-03-12-%E5%A6%82%E4%BD%95%E5%B0%86%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A%E5%88%B0hexo%2F</url>
    <content type="text"><![CDATA[problemå¾ˆå¤šäººå¯èƒ½éƒ½æœ‰hexoåšå®¢ï¼Œä¼šæœ‰ä¸€ä¸ªgithubname.github.ioçš„åœ°å€ï¼Œç„¶åŽè‡ªå·±å¯èƒ½æƒ³åŽ»ä¹°ä¸€ä¸ªåŸŸåï¼Œæ–¹ä¾¿è®°å¿†ï¼Œä½†æ˜¯è§£æžåŽè¿Ÿè¿Ÿç”¨ä¸äº†ï¼Œè¯¥æ–‡ç« å°±æ¥è¯¦ç»†æè¿°ä¸€ä¸‹æ­¥éª¤ã€‚ solution1.æ‹¥æœ‰ä¸€ä¸ªgithubname.github.ioå¯ä»¥æ­£å¸¸è®¿é—®çš„åŸŸåï¼Œå¦‚æˆ‘çš„GitHubåšå®¢ï¼šhttps://shawngoethe.github.io 2.è´­ä¹°åŸŸåï¼Œä¸ªäººæŽ¨èé˜¿é‡Œäº‘ï¼Œé¦–å¹´å¹´è´¹æ¯”è¾ƒä¾¿å®œï¼Œé€‚åˆä¸ªäººæŠ˜è…¾ï¼Œåšå®¢å»ºè®®com,me,info,proï¼ˆä¸“å®¶ï¼‰,mobi(kindleç”µå­ä¹¦çš„æ ¼å¼)ï¼Œå†ä¸æµŽå¯ä»¥é€‰æ‹©techï¼Œccä¹‹ç±»çš„ï¼Œå›½å¤–å¯ä»¥å‚è€ƒLinostä¹‹ç±»çš„ç½‘é¡µ 3.è´­ä¹°åŸŸåè¿›è¡Œå®žåè®¤è¯ï¼Œå¦åˆ™æ— æ³•ä½¿ç”¨ 4.è¿›è¡Œè§£æžï¼šè®°å½•ç±»åž‹CNAMEï¼ˆè¿›è¡Œè½¬å‘ï¼‰ï¼Œä¸»æœºè®°å½•@ï¼ˆé¿å…ä¸»æœºè®°å½•é€‰æ‹©wwwï¼Œè¾“å…¥åŸŸåè¦å¤šå†™wwwï¼‰ï¼Œè®°å½•å€¼ä¸ºshawngoethe.github.io,TTLé€‰æ‹©10åˆ†é’Ÿå°±å¯ä»¥äº† ä¸Šè¿°æ–¹æ³•å±žäºŽå°†æˆ‘è´­ä¹°çš„zehai.infoè½¬å‘åˆ°äº†shawngoethe.github.io,è¿˜å¯ä»¥â€œè®°å½•ç±»åž‹â€é€‰æ‹©â€œAâ€æ¥å¡«å†™IPv4çš„åœ°å€ï¼Œåœ°å€å¯ä»¥é€šè¿‡ping shawngoethe.github.io æ¥èŽ·å¾— 5.ä¿®æ”¹ä»£ç ï¼šå¾ˆå¤šäººå¿½è§†äº†è¦åœ¨æºä»£ç /hexoblog/source/ç›®å½•ä¸‹æ·»åŠ CNAMEæ–‡ä»¶ï¼ˆæ³¨æ„æ²¡æœ‰å°¾ç¼€ï¼‰ï¼Œç„¶åŽåœ¨è¯¥æ–‡ä»¶ä¸‹å¡«å†™zehai.infoï¼ˆå¯ä»¥å…¼å®¹ï¼Œwww.zehai.info å’Œ zehai.info ä¸¤ç§è®¿é—®æ–¹å¼ï¼Œä½†å¦‚æžœå¡«å†™ www.zehai.info åˆ™åªæ”¯æŒ www.zehai.info ä¸€ç§è®¿é—®æ–¹å¼ï¼‰ 6.ç­‰ååˆ†é’Ÿå·¦å³ï¼Œè®©è§£æžç”Ÿæ•ˆï¼Œå¥½äº†ï¼Œä½ å¯ä»¥è®¿é—®æˆ‘çš„hexoèŽ·å–æ›´å¤šå†…å®¹]]></content>
      <categories>
        <category>others</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MaximumSubarray]]></title>
    <url>%2F2019%2F03%2F10%2F2019-03-10-MaximumSubarray%2F</url>
    <content type="text"><![CDATA[problem Maximum Subarray Easy Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum. Example: 123Input: [-2,1,-3,4,-1,2,1,-5,4],Output: 6Explanation: [4,-1,2,1] has the largest sum &#x3D; 6. Follow up: If you have figured out the O(n) solution, try coding another solution using the divide and conquer approach, which is more subtle. keyæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå’Œä¸ºç¬¬ä¸€ä½æ•°ï¼Œç„¶åŽç”¨curSumæ¥ä¿å­˜é€’å¢žé‡ ps ansâ€“&gt;answer curâ€“&gt;cursor solution12345678910111213class Solution &#123; public int maxSubArray(int[] nums) &#123; int ans=nums[0], curSum=0; for (int i=0; i&lt;nums.length; i++) &#123; curSum = curSum + nums[i]; ans = Math.max(ans, curSum); curSum = Math.max(0, curSum); &#125; return ans; &#125;&#125; perfect12345678910class Solution &#123; public int maxSubArray(int[] nums) &#123; int dp = nums[0], maxSum=nums[0]; for (int i=1; i&lt;nums.length; i++) &#123; dp = dp&lt;0?nums[i]:nums[i]+dp; maxSum=Math.max(maxSum, dp); &#125; return maxSum; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pow(x,n)]]></title>
    <url>%2F2019%2F03%2F10%2F2019-03-10-pow-x-n%2F</url>
    <content type="text"><![CDATA[problem \50. Pow(x, n) Medium Implement pow(x, n), which calculates x raised to the power n (xn). Example 1: 12Input: 2.00000, 10Output: 1024.00000 Example 2: 12Input: 2.10000, 3Output: 9.26100 Example 3: 123Input: 2.00000, -2Output: 0.25000Explanation: 2-2 &#x3D; 1&#x2F;22 &#x3D; 1&#x2F;4 &#x3D; 0.25 Note: -100.0 &lt; x &lt; 100.0 n is a 32-bit signed integer, within the range [âˆ’231, 231 âˆ’ 1] solution12345678910111213141516171819202122public double myPow(double x, int n) &#123; long N = n; if (N &lt; 0) &#123; x = 1 / x; N = -N; &#125; double ans = 1; double cur = x;//2 for (long i = N; i &gt; 0; i /= 2) &#123; if (i % 2 == 1) ans = ans * cur; cur = cur * cur; &#125; return ans; &#125;//å·æ‡’æ–¹æ³•public double myPow(double x, int n) &#123; return Math.pow(x, n); &#125; keyå…¶å®žå…ˆä½¿ç”¨äº†å·æ‡’çš„æ–¹æ³•ï¼Œè°ƒç”¨Mathåº“çš„powæ–¹æ³•ï¼Œç„¶åŽå†™è¿‡ä¸€ç‰ˆ 123for(long i=N;i&gt;0;i--) &#123; ans=ans*cur;&#125; è¿™ä¸ªä¼šç›´æŽ¥æŠ¥è¶…æ—¶çš„é”™è¯¯ï¼Œå› ä¸ºçš„è®¡ç®—é‡ä¼šéžå¸¸å¤§ï¼Œåœ¨è®¡ç®—ï¼ˆ-1.00000ï¼Œ-2147483648ï¼‰æ—¶å€™è¶…æ—¶äº†ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ¤æ–­xæ¥é¿å…è¿™ä¸€ä¸ªè¶…æ—¶ï¼Œä½†æ˜¯æˆ‘æƒ³åˆ°äº†ï¼Œå¯ä»¥é€šè¿‡n/2æ¥è¿…é€Ÿå‡å°‘ç›¸ä¹˜çš„æ¬¡æ•°ã€‚æ—¶é—´å¤§æ¦‚æ˜¯8ms perfect1234567891011121314151617181920212223242526272829class Solution &#123; public double findPower(double x,long n)&#123; if(n == Long.valueOf(1)) return x; if(n % 2 == 0)&#123; double half_pow = findPower(x,n/2); return half_pow * half_pow; &#125;else&#123; double half_pow = findPower(x,(n-1)/2); return half_pow * half_pow * x; &#125; &#125; public double myPow(double x, int n) &#123; if( n==0 ) return 1; long n_long = (long) n; if( n &gt; 0 ) return findPower(x,n); x = 1 / x; long n_long_abs = (long) Math.abs((long)n); if(n_long_abs == 1) return x; return findPower(x,n_long_abs); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘åœ¨ä¸€ä¸ªä¸å±žäºŽæˆ‘çš„åœ°æ–¹æ¸¸è¡]]></title>
    <url>%2F2019%2F03%2F06%2F2019-03-06-%E6%88%91%E5%9C%A8%E4%B8%80%E4%B8%AA%E4%B8%8D%E5%B1%9E%E4%BA%8E%E6%88%91%E7%9A%84%E5%9C%B0%E6%96%B9%E6%B8%B8%E8%8D%A1%2F</url>
    <content type="text"><![CDATA[æˆ‘åœ¨ä¸€ä¸ªä¸å±žäºŽæˆ‘çš„åœ°æ–¹æ¸¸è¡2019å¹´çš„3æœˆ6æ—¥ï¼Œè·ç¦»æˆ‘ä¸Šä¸€ä»½å·¥ä½œç¦»èŒï¼Œå·²ç»37å¤©ï¼Œæ—¥å­è¿‡å¾—è™½ç„¶ä¸å¥½ï¼Œä½†ä¹Ÿä¸ç®—å·®ï¼Œå¥½æ¶ˆæ¯æ˜¯é˜¿lenè¿˜é™ªç€æˆ‘ï¼Œåæ¶ˆæ¯æ˜¯ä¸€ç›´è¿‡ç€å¼‚åœ°æ‹çš„ç”Ÿæ´»ï¼Œä¸çŸ¥é“æ˜¯ä¸ºä»€ä¹ˆï¼Œæ˜¯æˆ‘è¿›å…¥äº†ç„¦è™‘çš„çŠ¶æ€ï¼Œæ¯å¤©çš„æ—¥å¸¸å°±æ˜¯æŠ•ç®€åŽ†ï¼Œæ€è€ƒäººç”Ÿï¼Œå‘å‘†ï¼Œçœ‹upä¸»ç§€æ©çˆ± å…¶å®žå›žé¡¾å‰ä¸‰æ¬¡çš„æ‰¾å·¥ä½œç»åŽ†ï¼Œå“ªæ¬¡ä¸æ˜¯è§‰å¾—è‡ªå·±å¿«è¦å˜æˆå’¸é±¼äº†ï¼Œç„¶åŽæ”¶åˆ°äº†ä¸€ä¸¤ä¸ªofferï¼Œä¸è¿‡ä»Šå¹´çš„ä¸åŒç‚¹å°±æ˜¯ï¼Œæœ‰ä¸‰å®¶ï¼Œæˆ‘å·²ç»è¿‡äº†ç”¨äººå•ä½çš„é¢è¯•ï¼Œå´è¢«å¡åœ¨äº†äººåŠ›èµ„æºéƒ¨é—¨çš„å®¡æ ¸ä¸Šï¼Œæˆ‘æ—¶å¸¸æ¨è‡ªå·±çš„å­¦åŽ†ï¼Œå´æ— æ³•åŽ»åŽŸè°…æ›¾ç»é«˜è€ƒçš„è‡ªå·±ï¼Œå†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œæˆ‘åˆšåˆšä»Žæ¸…åŽçš„åŒ—é—¨è¿›å…¥æ ¡å›­ï¼Œä¸‹åˆä¸¤ç‚¹åŠçš„å®¿èˆåŒºï¼Œæ²¡æœ‰ä¸€ç‚¹å™ªéŸ³ï¼Œå¤©ç©ºçš„ä¹Œé¸¦é¸£å«åœ¨ç©ºæ—·çš„æ ¡å›­å›žè¡ï¼Œä»¿ä½›ï¼Œåœ¨æ„Ÿå¹ä»Šæ—¥çš„å¥½å¤©æ°”ï¼Œé˜³å…‰é‚£ä¹ˆæ˜Žäº®ï¼Œæ´’åœ¨å…‰ç§ƒç§ƒçš„æ ‘æžä¸Šã€‚ 17å¹´è€ƒç ”å¤ä¹ æœŸé—´åŸ‹ä¸‹æ¥çš„é›·ï¼Œæœ€ç»ˆè¿˜æ˜¯çˆ†ç‚¸äº†ï¼Œ18å¹´ï¼Œ19å¹´ï¼Œ20å¹´ï¼Œä¼¼ä¹Žæ—¶é—´è¿‡å¾—å¾ˆå¿«ï¼Œæˆ‘ä¸¢å¤±äº†é‚£ä¸€æ¬¡æœºä¼šåŽï¼Œæˆ‘ä¼¼ä¹Žå†ä¹Ÿæ²¡æœ‰æœºä¼šåŽ»æŠ•å…¥èº«å¿ƒåŽ»å¤ä¹ ï¼Œæ¯å¤©çš„å¤§è„‘é‡Œæ›´å¤šçš„æ˜¯ï¼Œå¥½ç´¯å•Šï¼Œå¥½çƒ¦å•Šï¼Œä»€ä¹ˆæ—¶å€™å‘å·¥èµ„å•Šã€‚è¶Šç”Ÿæ˜¯æ€€å¿µèµ·æ— å¿§æ— è™‘çš„æœ¬ç§‘ç”Ÿæ´»ï¼Œå¤©å¤©ä¸ç”¨æ‹…å¿ƒæˆ‘æ˜¯è°ï¼Œæˆ‘åœ¨å“ªå„¿ï¼Œå­¦ä»€ä¹ˆï¼Œå¯èƒ½å”¯ä¸€éœ€è¦è´¹ç‚¹è„‘ç»çš„å°±æ˜¯ï¼Œä¸­åˆåƒå•¥ è€ŒçŽ°åœ¨ï¼Œæˆ‘èµ°åœ¨ä¸€ä¸ªä¸å±žäºŽæˆ‘çš„ä¸–ç•Œé‡Œï¼Œç†Ÿæ‚‰åˆé™Œç”Ÿï¼Œæˆ‘ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œå› ä¸ºæˆ‘ä¸çŸ¥é“æˆ‘è¦å¹²å˜›ï¼Œå‰æ–¹ä¸€ä¸ªæ˜¯æ‰¾ä¸åˆ°å·¥ä½œçš„å·¥ä½œæ–¹å‘ï¼Œä¸€ä¸ªæ˜¯ä¼šé¥¿æ­»çš„è€ƒç ”æ–¹å‘ï¼Œä¸–ç•Œå¾ˆç²¾å½©ï¼Œæˆ‘å´æ˜¾å¾—é‚£ä¹ˆæ¸ºå°ï¼Œå°±æ·±æ·±æƒ³èµ·æ¥ç”¨äººéƒ¨é—¨å‘ä¿¡æ¯å’Œæˆ‘è¯´ï¼š ä»ŽæŠ€æœ¯å±‚é¢ä¸Šï¼Œæˆ‘è®¤ä¸ºä»Žå·¥ä½œå¹´é™ä¸Šï¼Œä½ çš„æ°´å¹³æ˜¯å¤Ÿçš„ã€‚å¯¹äºŽå€™é€‰äººçš„å­¦åŽ†èƒŒæ™¯ä¸Šï¼Œå¤®ä¼æœ‰è‡ªèº«çš„ç—¼ç–¾ï¼Œç”¨äººéƒ¨é—¨çš„è¯è¯­æƒä¸ä¸€å®šå¤§äºŽäººåŠ›éƒ¨é—¨ï¼Œè¿™ä¸ªä½ ä¹Ÿæ— é¡»ä»‹æ€€ã€‚ å·¥ä½œçš„å‰ä¸‰å¹´å¯¹äºŽä¸€ä¸ªå·¥ç¨‹å¸ˆæ¥è¯´æ˜¯è‡³å…³é‡è¦çš„ï¼Œå¦‚æžœå–œæ¬¢è¿™æ¡è·¯ï¼Œå°±å¤šèŠ±ç‚¹æ—¶é—´ï¼ŒåŠ æ²¹ï¼æ±Ÿæ¹–ä¸å¤§ï¼Œæœ‰ç¼˜å†è§ï¼ ä¸çŸ¥é“æŽ¥ä¸‹æ¥åº”è¯¥åšä»€ä¹ˆï¼Œæˆ–è®¸è¿™å°±æ˜¯åº”è¯•æ•™è‚²çš„æ‚²å“€ï¼Œæˆ‘ä¹Ÿåªèƒ½è®¸æ„¿ï¼Œä¸‰æœˆä»½èƒ½å¤Ÿæ‹¿åˆ°ä¸€ä¸ªä¸é”™çš„offerï¼Œå…ˆæ´»ä¸‹æ¥ï¼Œæˆ‘æ˜¯å­è‹ï¼Œä¸€ä¸ªå¿«è¦å¾—æŠ‘éƒç—‡çš„äººã€‚]]></content>
      <categories>
        <category>mood</category>
      </categories>
      <tags>
        <tag>diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[docker+springboot]]></title>
    <url>%2F2019%2F03%2F05%2F2019-03-05-docker-springboot%2F</url>
    <content type="text"><![CDATA[whatåœ¨ pom.xml-propertiesä¸­æ·»åŠ  Docker é•œåƒåç§° 123&lt;properties&gt; &lt;docker.image.prefix&gt;springboot&lt;&#x2F;docker.image.prefix&gt;&lt;&#x2F;properties&gt; plugins ä¸­æ·»åŠ  Docker æž„å»ºæ’ä»¶ï¼š 1234567891011121314151617181920212223242526&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;&#x2F;artifactId&gt; &lt;&#x2F;plugin&gt; &lt;!-- Docker maven plugin --&gt; &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;&#x2F;groupId&gt; &lt;artifactId&gt;docker-maven-plugin&lt;&#x2F;artifactId&gt; &lt;version&gt;1.0.0&lt;&#x2F;version&gt; &lt;configuration&gt; &lt;imageName&gt;$&#123;docker.image.prefix&#125;&#x2F;$&#123;project.artifactId&#125;&lt;&#x2F;imageName&gt; &lt;dockerDirectory&gt;src&#x2F;main&#x2F;docker&lt;&#x2F;dockerDirectory&gt; &lt;resources&gt; &lt;resource&gt; &lt;targetPath&gt;&#x2F;&lt;&#x2F;targetPath&gt; &lt;directory&gt;$&#123;project.build.directory&#125;&lt;&#x2F;directory&gt; &lt;include&gt;$&#123;project.build.finalName&#125;.jar&lt;&#x2F;include&gt; &lt;&#x2F;resource&gt; &lt;&#x2F;resources&gt; &lt;&#x2F;configuration&gt; &lt;&#x2F;plugin&gt; &lt;!-- Docker maven plugin --&gt; &lt;&#x2F;plugins&gt;&lt;&#x2F;build&gt; åœ¨ç›®å½•src/main/dockerä¸‹åˆ›å»º Dockerfile æ–‡ä»¶ï¼ŒDockerfile æ–‡ä»¶ç”¨æ¥è¯´æ˜Žå¦‚ä½•æ¥æž„å»ºé•œåƒã€‚ 1234FROM openjdk:8-jdk-alpineVOLUME &#x2F;tmpADD spring-boot-docker-1.0.jar app.jarENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd&#x3D;file:&#x2F;dev&#x2F;.&#x2F;urandom&quot;,&quot;-jar&quot;,&quot;&#x2F;app.jar&quot;] è¿™ä¸ª Dockerfile æ–‡ä»¶å¾ˆç®€å•ï¼Œæž„å»º Jdk åŸºç¡€çŽ¯å¢ƒï¼Œæ·»åŠ  Spring Boot Jar åˆ°é•œåƒä¸­ï¼Œç®€å•è§£é‡Šä¸€ä¸‹: FROM ï¼Œè¡¨ç¤ºä½¿ç”¨ Jdk8 çŽ¯å¢ƒ ä¸ºåŸºç¡€é•œåƒï¼Œå¦‚æžœé•œåƒä¸æ˜¯æœ¬åœ°çš„ä¼šä»Ž DockerHub è¿›è¡Œä¸‹è½½ VOLUME ï¼ŒVOLUME æŒ‡å‘äº†ä¸€ä¸ª/tmpçš„ç›®å½•ï¼Œç”±äºŽ Spring Boot ä½¿ç”¨å†…ç½®çš„Tomcatå®¹å™¨ï¼ŒTomcat é»˜è®¤ä½¿ç”¨/tmpä½œä¸ºå·¥ä½œç›®å½•ã€‚è¿™ä¸ªå‘½ä»¤çš„æ•ˆæžœæ˜¯ï¼šåœ¨å®¿ä¸»æœºçš„/var/lib/dockerç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¹¶æŠŠå®ƒé“¾æŽ¥åˆ°å®¹å™¨ä¸­çš„/tmpç›®å½• ADD ï¼Œæ‹·è´æ–‡ä»¶å¹¶ä¸”é‡å‘½å ENTRYPOINT ï¼Œä¸ºäº†ç¼©çŸ­ Tomcat çš„å¯åŠ¨æ—¶é—´ï¼Œæ·»åŠ java.security.egdçš„ç³»ç»Ÿå±žæ€§æŒ‡å‘/dev/urandomä½œä¸º ENTRYPOINT è¿™æ · Spring Boot é¡¹ç›®æ·»åŠ  Docker ä¾èµ–å°±å®Œæˆäº†ã€‚]]></content>
      <categories>
        <category>docker</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[dockerfile]]></title>
    <url>%2F2019%2F03%2F04%2F2019-03-04-dockerfile%2F</url>
    <content type="text"><![CDATA[whaté€šè¿‡dockerfileå†™å…¥ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®å‚æ•°ç­‰ï¼Œæ¥ç”Ÿæˆimageæ–‡ä»¶ï¼Œå¯ä»¥ç±»æ¯”nodeçš„package.jsonæˆ–è€…nginx.confçš„æ–‡ä»¶ format1234567891011121314151617181920## Dockerfileæ–‡ä»¶æ ¼å¼# This dockerfile uses the ubuntu image# VERSION 2 - EDITION 1# Author: docker_user# Command format: Instruction [arguments / command] .. # 1ã€ç¬¬ä¸€è¡Œå¿…é¡»æŒ‡å®š åŸºç¡€é•œåƒä¿¡æ¯FROM ubuntu # 2ã€ç»´æŠ¤è€…ä¿¡æ¯MAINTAINER docker_user docker_user@email.com # 3ã€é•œåƒæ“ä½œæŒ‡ä»¤RUN echo &quot;deb http://archive.ubuntu.com/ubuntu/ raring main universe&quot; &gt;&gt; /etc/apt/sources.listRUN apt-get update &amp;&amp; apt-get install -y nginxRUN echo &quot;\ndaemon off;&quot; &gt;&gt; /etc/nginx/nginx.conf # 4ã€å®¹å™¨å¯åŠ¨æ‰§è¡ŒæŒ‡ä»¤CMD /usr/sbin/nginx build image1docker build è¿è¡Œè¯¥å‘½ä»¤æ—¶ï¼Œæ ¹æ®dockerfileæ–‡ä»¶åŠä¸Šä¸‹æ–‡æž„å»ºæ–°çš„dockeré•œåƒï¼Œå…¶ä¸­ä¸Šä¸‹æ–‡æ˜¯æŒ‡dockerfileæ‰€åœ¨çš„æœ¬åœ°è·¯å¾„æˆ–è€…ç½‘ç»œè·¯å¾„urlã€‚ ps:dokcer buildæ—¶å€™ï¼Œä¼šåœ¨åŽå°å®ˆæŠ¤è¿›ç¨‹daemonä¸­è¿›è¡Œï¼Œè€Œä¸æ˜¯cliï¼ˆcommon line interfaceï¼‰ä¸­ï¼Œæž„å»ºå‰ï¼Œæž„å»ºè¿›ç¨‹å°†å…¨éƒ¨å†…å®¹é€’å½’æ”¾åˆ°å®ˆæŠ¤è¿›ç¨‹ï¼Œå°†dockerfileæ–‡ä»¶æ”¾åœ¨ï¼ˆæœ¬å°±åœ¨ç©ºç›®å½•ä¸‹æž„å»ºï¼‰è¯¥ç›®å½•ä¸‹ è¿˜å¯ä»¥é€šè¿‡.dockerignoreçš„æ–‡ä»¶æ¥å¿½ç•¥ä¸Šä¸‹æ–‡ç›®å½•ä¸­çš„éƒ¨åˆ†æ–‡ä»¶å’Œç›®å½•ï¼ŒåŒ.gitignore é€šè¿‡-få‘½ä»¤æŒ‡å®šæ–‡ä»¶ä½ç½®ï¼Œå¦‚ï¼š 1docker buid -f /path/to/dockerfile . image tagé•œåƒæ ‡ç­¾docker build -t ngix/v3 cacheDocker å®ˆæŠ¤è¿›ç¨‹ä¼šä¸€æ¡ä¸€æ¡çš„æ‰§è¡Œ Dockerfile ä¸­çš„æŒ‡ä»¤ï¼Œè€Œä¸”ä¼šåœ¨æ¯ä¸€æ­¥æäº¤å¹¶ç”Ÿæˆä¸€ä¸ªæ–°é•œåƒï¼Œæœ€åŽä¼šè¾“å‡ºæœ€ç»ˆé•œåƒçš„IDã€‚ç”Ÿæˆå®ŒæˆåŽï¼ŒDocker å®ˆæŠ¤è¿›ç¨‹ä¼šè‡ªåŠ¨æ¸…ç†ä½ å‘é€çš„ä¸Šä¸‹æ–‡ã€‚ Dockerfileæ–‡ä»¶ä¸­çš„æ¯æ¡æŒ‡ä»¤ä¼šè¢«ç‹¬ç«‹æ‰§è¡Œï¼Œå¹¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°é•œåƒï¼ŒRUN cd /tmpç­‰å‘½ä»¤ä¸ä¼šå¯¹ä¸‹æ¡æŒ‡ä»¤äº§ç”Ÿå½±å“ã€‚ Docker ä¼šé‡ç”¨å·²ç”Ÿæˆçš„ä¸­é—´é•œåƒï¼Œä»¥åŠ é€Ÿdocker buildçš„æž„å»ºé€Ÿåº¦ã€‚ example12345678910111213141516171819mkdir mynginxcd mynginxvi Dockerfile//åˆ¶ä½œdokcerfileFROM nginxRUN echo &#x27;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&#x27; &gt; /usr/share/nginx/html/index.html//save &amp;&amp; run this code in mynginxdocker build -t nginx:v1 .//v1 åŽé¢æœ‰ä¸€ä¸ªç©ºæ ¼å’Œä¸€ä¸ªç‚¹//ç‚¹ä»£è¡¨å½“å‰ç›®å½•//æŸ¥çœ‹imagedokcer images//rundokcer run --name docker_nginx_v1 -d -p 80:80 nginx:v1//docker_nginx_v1ä¸ºå®¹å™¨å//nginx:v1ä¸ºimageå]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NoSql-introduction]]></title>
    <url>%2F2019%2F03%2F04%2F2019-03-04-NoSql-introduction%2F</url>
    <content type="text"><![CDATA[why nosqlNoSqlå¯ä»¥å¤„ç†ç»“æž„åŒ–ï¼Œéžç»“æž„åŒ–çš„æ•°æ®ï¼Œå¯ä»¥æ°´å¹³ä¼¸ç¼©ï¼Œåœ¨å®žæ—¶å’Œæ‰¹é‡æ•°æ®åˆ†æžä¸­å…·æœ‰ä¼˜åŠ¿ difference]]></content>
      <categories>
        <category>database</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[docker]]></title>
    <url>%2F2019%2F03%2F04%2F2019-03-04-docker%2F</url>
    <content type="text"><![CDATA[why docker è§£å†³â€œåœ¨æˆ‘çš„æœºå­ä¸Šå¯ä»¥æ­£å¸¸å·¥ä½œâ€çš„é—®é¢˜ è¿ç»´æ›´å¥½åœ°ç®¡ç†æœåŠ¡ æ›´å¥½åœ°è¿ç§»å’Œæ‹“å±•ï¼ˆä»»æ„å¹³å°è¿è¡Œï¼‰ what is dockerdockerå±žäºŽLinuxå®¹å™¨çš„ä¸€ç§å°è£…ï¼Œå’ŒVMç±»ä¼¼ï¼Œä½†ä»–ä¸åƒVMä¸€æ ·è™šæ‹Ÿåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œè€Œæ˜¯å’Œæ“ä½œç³»ç»Ÿå¹³çº§ï¼Œç¨‹åºè¿è¡Œåœ¨å®¹å™¨é‡Œï¼Œå°±å’Œåœ¨çœŸå®žçš„ç‰©ç†æœºä¸Šé¢è¿è¡Œä¸€æ · ç®€å•ä¸€ç‚¹ç†è§£å°±æ˜¯ï¼šç¨‹åºè¿è¡Œåœ¨dockerä¸Šå’ŒçœŸæœºä¸Šå‡ ä¹Žè¯¯å·®ï¼Œå°†ç¨‹åºåŒ…è£…èµ·æ¥ç®¡ç† åè¯è§£é‡Š daemonï¼šå®ˆæŠ¤è¿›ç¨‹ Clientï¼šå‘½ä»¤è¡Œ imageï¼šé•œåƒï¼Œç”¨æ¥åˆ›å»ºå®¹å™¨ containerï¼šè¿è¡Œç»„ä»¶ï¼Œå¯åŠ¨çš„imageå°±æ˜¯å®¹å™¨ registryï¼šç®¡ç†imageçš„åœ°æ–¹ install #ubuntu $ sudo apt-get install docker-ce docker-ce-cli containerd.io HelloWorld 123sudo docker container run hello-world//ä»–ä¼šå…ˆæ‰¾æœ¬åœ°ï¼Œç„¶åŽå†åŽ»ä»“åº“ä¸‹è½½//è¯¥è¿‡ç¨‹å°†imageå˜æˆå®¹å™¨ï¼Œå³imageæ–‡ä»¶äº§ç”Ÿcontaineræ–‡ä»¶ å¸¸ç”¨å‘½ä»¤ docker pull image_name//æ‹‰å–é•œåƒ docker images//æœ¬åœ°é•œåƒ docker rmi xxx//remove image docker ps//view what docker is running docker ps -a //ä»¥ä¸‹ä½¿ç”¨cnä»£æ›¿ container_name/container_id docker start|stop|restart cn docker attach cn//å¯åŠ¨åŽè¿›å…¥å®¹å™¨ dokcer rm cn docker info docker search nginx]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LineageOS16.0-RELEASE]]></title>
    <url>%2F2019%2F03%2F02%2F2019-03-02-LineageOS16-0-RELEASE%2F</url>
    <content type="text"><![CDATA[16.0æ­£å¼å‘å¸ƒæˆ‘ä»¬ä»ŽåŽ»å¹´å…«æœˆå¼€å§‹ï¼ŒåŠªåŠ›å°†æˆ‘ä»¬LineageOsçš„æ–°ç‰¹æ€§ç§»æ¤åˆ°æ–°ç‰ˆæœ¬çš„å®‰å“ä¸Šï¼Œéžå¸¸æ„Ÿè°¢ä¹‹å‰ç‰ˆæœ¬ä¸­çš„å·¥ä½œè€…ä»¬ï¼Œæˆ‘ä»¬æ‰èƒ½å¤Ÿåœ¨è¿™æ¬¡çš„ç‰ˆæœ¬æ–°ç‰¹æ€§ä¸­æŠ•å…¥æ›´å¤šçš„ç²¾åŠ›ï¼Œå°¤å…¶æ˜¯ï¼Œéšç§å®ˆæŠ¤ï¼ˆPrivacy Guardï¼‰å’Œæ’ä»¶ï¼ˆsu addonï¼‰ä¸Šæ”¶åˆ°äº†äº†å¤§é‡çš„æå‡å»ºè®®ã€‚é€šè¿‡å¯¹Styles APIçš„ä¸€äº›ç»†å¾®æ›´æ”¹ï¼Œä»–çŽ°åœ¨å¯ä»¥å…¼å®¹å®‰å“æš—é»‘æ¨¡å¼çš„é»˜è®¤å®žçŽ°ï¼Œåœ¨æœªæ¥ï¼Œè¶Šæ¥è¶Šå¤šçš„ä¸‰æ–¹åº”ç”¨å°†éµå¾ªç³»ç»Ÿé£Žæ ¼ï¼Œè¿™æ„å‘³ç€Styles APIå°†å…è®¸åœ¨è·¨åº”ç”¨ç¨‹åºæ—¶èŽ·å¾—æ›´ä¸€è‡´çš„ä½“éªŒã€‚æ­£å¦‚æˆ‘ä»¬å‘å¸ƒå¤å­£ç¬¬äºŒæ¬¡è°ƒç ”ç»“æžœé‚£æ ·ï¼Œæˆ‘ä»¬å°†ä»‹ç»Trustçš„æ–°ç‰¹æ€§ï¼Œé¦–å…ˆæ˜¯è®¾å¤‡é”å®šæ—¶é˜»æ­¢æ–°USBè®¾å¤‡è¿žæŽ¥ã€‚è¯·æ³¨æ„ï¼Œç”±äºŽåŸºäºŽåº•å±‚ï¼Œæ‰€ä»¥è¿™ä¸ªç‰¹æ€§å¿…é¡»åœ¨æ¯ä¸ªè®¾å¤‡åº•å±‚ä¸­å¯ç”¨ã€‚TrebuchetçŽ°åœ¨è¿˜å¯ä»¥éšè—appä»¥åŠåœ¨æ‰“å¼€appå‰è¿›è¡Œèº«ä»½éªŒè¯ã€‚è¯¥é™åˆ¶ä¹Ÿä»…åœ¨Trebuchetä¸­ï¼Œå¹¶éžç³»ç»ŸèŒƒå›´ã€‚æˆ‘ä»¬è®¤ä¸º16.0çš„åˆ†æ”¯å·²ç»è¾¾åˆ°äº†15.1ç‰ˆæœ¬çš„ç‰¹æ€§æµ‹è¯•å¹¶åšå¥½äº†å‘å¸ƒå‡†å¤‡ã€‚éšç€16.0åˆ†æ”¯æˆä¸ºæœ€æ–°æœ€æ´»è·ƒçš„åˆ†æ”¯ï¼Œåœ¨2019.3.1ï¼Œå®ƒå°†å¼€å§‹æ—¥æ›´æ–°æž„å»ºï¼Œå¹¶ä¸”15.1å°†ä¼šç§»åŠ¨åˆ°å‘¨æ›´æ–°ã€‚16.0ç‰ˆæœ¬å°†ä¼šä»Žå°éƒ¨åˆ†æœºå™¨å¼€å§‹è¿è¡Œï¼Œä¸€äº›å…¶ä»–çš„æœºå­å¦‚æžœå‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬ä¹Ÿä¼šåšä¸€äº›å°æ”¹åŠ¨ï¼Œå¼€å§‹æž„å»ºï¼Œå¹¶é€šè¿‡æ”¹åŠ¨æž„å»ºè„šæœ¬æ¥æ›´å¥½åœ°å¤„ç†æˆ‘ä»¬æœ€æ–°æ‰‹æœºçš„ï¼Œç‹¬ç‰¹featureï¼Œä»¥åŠç”±æ­¤äº§ç”Ÿçš„å¤æ‚é—®é¢˜ æ”¯æŒæ›´æ–°åå• Asus BQ Fairphone Google HTC Huawei LeEco Lenovo LG Moto Nextbit Nubia Nvdia OnePlus(my oneplus 5T receive 16.0) Oppo Samsung Sony Wileyfox Wingtech Xiaomi YU ZTE Zuk more å…¶ä»–çƒ­é—¨çš„ROM MoKee] crDroid MIUI Flyme PixelExperience åŽŸæ–‡ Hello LineageOS 16.0Weâ€™ve been working hard since August to port our unique features to this new version of Android. Thanks to the major cleanup and refactoring done in the previous version, we were able to focus more on features and reliability this time; in particular, both Privacy Guard and the su addon received a sizeable amount of improvements. With some minor changes made to the Styles API, it is now compatible with what will eventually become the default implementation of dark mode in Android. In the future, more and more third party apps will follow the system style, meaning our Styles API will allow you to have a more coherent experience across apps. As we announced when the Summer Survey 2 results were posted, we will be introducing new features to Trust, beginning with the ability to block new USB device connections when device is locked. Please note that this feature has to be enabled on a per-device basis due to the layer at which this was implemented. Trebuchet is also now able to hide apps and require authentication before opening them. Please note that this restriction is limited to Trebuchet and is not system-wide. We feel that the 16.0 branch has reached feature parity with 15.1 and is ready for initial release. With 16.0 being the most recent and most actively-developed branch, on March 1st, 2019 it will begin receiving builds nightly and 15.1 will be moved to weekly builds. LineageOS 16.0 will be launching with a small selection of devices. Additional devices will begin receiving builds as they are ready and after we make minor change to our build scripts to better handle the unique features, and resulting complications, of the most modern devices. Upgrading to LineageOS 16.0 (Optional) Make a backup of your important data Download the build either from download portal or built in Updater app You can export the downloaded package from the Updater app to the sdcard by long-pressing it and then selecting â€œExportâ€ in the popup menu Download proper addons packages (GApps, suâ€¦) for Android 9.0/Lineage OS 16.0 Make sure your recovery and firmware are up to date Format your system partition Follow the â€œInstalling LineageOS from recoveryâ€ section on your deviceâ€™s installation page Please note that if youâ€™re currently on an official build, you DO NOT need to wipe your device. If you are installing from an unofficial build, you MUST wipe data from recovery before installing.]]></content>
      <categories>
        <category>phones</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[javaç±»çš„åŠ è½½æœºåˆ¶]]></title>
    <url>%2F2019%2F03%2F02%2F2019-03-02-java%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[å†™åœ¨æœ€å‰é¢ï¼šè¯¥æ–‡ç« ä¸ºç¬”è®°ï¼Œæ¥è‡ªçº¯æ´çš„å¾®ç¬‘ what is the loading of classç±»åŠ è½½å³ï¼š å°†ç¼–è¯‘classæ–‡ä»¶ä¸­çš„äºŒè¿›åˆ¶æ•°æ®è¯»åˆ°å†…å­˜ä¸­æ–¹æ³•åŒºï¼Œç„¶åŽåœ¨å †åŒºé€šè¿‡java.lang.Classå®žä¾‹åŒ–å¯¹è±¡ï¼Œå¯¹æ–¹æ³•åŒºçš„æ•°æ®è¿›è¡Œæ“ä½œ è¯¥åŠ è½½è¿‡ç¨‹åŒ…å«é¦–æ¬¡ä½¿ç”¨åŠ è½½ï¼Œä»¥åŠé¢„åŠ è½½ åŠ è½½classæ–‡ä»¶çš„æ–¹å¼ æœ¬åœ° ç½‘ç»œ zipï¼Œjaræ–‡ä»¶ä¸­ æ•°æ®åº“ åŠ¨æ€ç¼–è¯‘ ç±»çš„ç”Ÿå‘½å‘¨æœŸ]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ShoppingOffers]]></title>
    <url>%2F2019%2F03%2F02%2F2019-03-02-ShoppingOffers%2F</url>
    <content type="text"><![CDATA[problem In LeetCode Store, there are some kinds of items to sell. Each item has a price. However, there are some special offers, and a special offer consists of one or more different kinds of items with a sale price. You are given the each itemâ€™s price, a set of special offers, and the number we need to buy for each item. The job is to output the lowest price you have to pay for exactly certain items as given, where you could make optimal use of the special offers. Each special offer is represented in the form of an array, the last number represents the price you need to pay for this special offer, other numbers represents how many specific items you could get if you buy this offer. You could use any of special offers as many times as you want. examples Example 1: 1234567Input: [2,5], [[3,0,5],[1,2,10]], [3,2]Output: 14Explanation: There are two kinds of items, A and B. Their prices are $2 and $5 respectively. In special offer 1, you can pay $5 for 3A and 0BIn special offer 2, you can pay $10 for 1A and 2B. You need to buy 3A and 2B, so you may pay $10 for 1A and 2B (special offer #2), and $4 for 2A. Example 2: 1234567Input: [2,3,4], [[1,1,0,4],[2,2,1,9]], [1,2,1]Output: 11Explanation: The price of A is $2, and $3 for B, $4 for C. You may pay $4 for 1A and 1B, and $9 for 2A ,2B and 1C. You need to buy 1A ,2B and 1C, so you may pay $4 for 1A and 1B (special offer #1), and $3 for 1B, $4 for 1C. You cannot add more items, though only $9 for 2A ,2B and 1C. solution123456789101112131415161718192021222324252627282930313233343536373839404142434445import java.util.ArrayList;import java.util.Arrays;import java.util.List;public class ShoppingOffers &#123; public static void main(String[] args) &#123; /*ä»¥ä¸‹è´´å‡ºæµ‹è¯•æ–¹å¼ï¼Œå› ä¸ºå¯¹ArrayListä¸ç†Ÿæ‚‰ï¼Œå¦‚æœ‰æ›´å¥½çš„æ–¹å¼ï¼Œæ¬¢è¿ŽæŒ‡å‡º*/ List&lt;Integer&gt; price = new ArrayList&lt;Integer&gt;(); List&lt;List&lt;Integer&gt;&gt; special = new ArrayList&lt;List&lt;Integer&gt;&gt;(); List&lt;Integer&gt; needs = new ArrayList&lt;Integer&gt;(); price.add(0, 2);price.add(1, 5); Integer[][] arr = new Integer[][] &#123;&#123;3,0,5&#125;,&#123;1,2,10&#125;&#125;; special.add((List&lt;Integer&gt;)Arrays.asList(arr[0])); special.add((List&lt;Integer&gt;)Arrays.asList(arr[1])); needs.add(0,3);needs.add(1,2); ShoppingOffers so = new ShoppingOffers(); int res = so.shoppingOffers(price, special, needs); System.out.println(res); &#125; public int shoppingOffers(List &lt; Integer &gt; price, List &lt; List &lt; Integer &gt;&gt; special, List &lt; Integer &gt; needs) &#123; return shopping(price, special, needs); &#125; public int shopping(List &lt; Integer &gt; price, List &lt; List &lt; Integer &gt;&gt; special, List &lt; Integer &gt; needs) &#123; int j = 0, res = dot(needs, price); for (List &lt; Integer &gt; s: special) &#123; ArrayList &lt; Integer &gt; clone = new ArrayList &lt; &gt; (needs); for (j = 0; j &lt; needs.size(); j++) &#123; int diff = clone.get(j) - s.get(j); if (diff &lt; 0) break; clone.set(j, diff); &#125; if (j == needs.size()) res = Math.min(res, s.get(j) + shopping(price, special, clone)); &#125; return res; &#125; public int dot(List &lt; Integer &gt; needs, List &lt; Integer &gt; price) &#123; int sum = 0; for (int i = 0; i &lt; needs.size(); i++) &#123; sum += needs.get(i) * price.get(i); &#125; return sum; &#125;&#125; keyæœ¬é¢˜ç›®é‡‡ç”¨åŠ¨æ€è§„åˆ’çš„æ€è·¯ï¼Œæˆ‘ä»¬å¸¦å…¥æµ‹è¯•æ ·ä¾‹1çš„ 1234&gt;Input: [2,5], [[3,0,5],[1,2,10]], [3,2]&gt;å³A&#x3D;$2,B&#x3D;$5&gt;3A&#x3D;5$,1A+2B&#x3D;10$&gt;éœ€è´­ä¹°3A+2B å°è¯• price 1:å•ä¹° 16 2å•ä¹°302å¥—é¤ï¼Œè¿˜å·®2ä¸ªBï¼Œåˆ™å…ˆç®—å‡º2Bçš„resä¸º10ï¼Œå…ˆè¯•305å¥—é¤ï¼ŒAä¹°è¶…äº†ï¼Œåˆ™é€€å‡º305å¥—é¤ï¼Œæ­¤æ—¶è¿˜æœ‰1210å¥—é¤ï¼ŒAä¹°å¤šäº†ï¼Œé€€å‡ºå¥—é¤ï¼Œä¸¤ä¸ªå¥—é¤è¯•å®Œäº†ï¼Œå¾—åˆ°äº†å•ä¹°ä¸¤ä¸ªBï¼Œ$10çš„å¥—é¤ï¼Œæ€»ä»·å°±ä¸º15å…ƒï¼Œ 15ï¼ˆè¦†ç›–16ï¼‰ 3å•ä¹°1210å¥—é¤ï¼Œè¿˜å·®2Aï¼Œ0Bï¼Œè´¹ç”¨ç›®å‰10å…ƒï¼Œå…ˆå•ä¹°2Aï¼Œè´¹ç”¨4å…ƒï¼Œæ€»ä»·14å…ƒï¼Œç„¶åŽå…ˆå°è¯•305å¥—é¤ï¼Œå‘çŽ°è¶…ï¼Œç„¶åŽå†è¯•1210å¥—é¤ï¼Œå‘çŽ°Bè¶…äº†ï¼Œå¾—åˆ°ç›®å‰æœ€ä½Žè´¹ç”¨ä¸º14å…ƒ 14ï¼ˆè¦†ç›–15ï¼‰ é—®é¢˜çš„å…³é”®å°±åœ¨äºŽcloneçš„ç²¾é«“ä¹‹å¤„ï¼Œç”¨æ¥è®°å½•è¿˜éœ€è¦å¤šå°‘é›¶ä»¶çš„ä¸ªæ•°ï¼Œä½¿ç”¨é€’å½’ï¼Œè¿›è¡Œæ“ä½œã€‚å¦‚æžœä¸ç¬¦åˆï¼Œï¼ˆå¦‚ä¹°è¶…äº†ï¼‰ç›´æŽ¥breakåŽï¼Œé‡æ–°è®¡ç®—cloneï¼Œç›´åˆ°specialæ–¹æ³•éƒ½è¯•å®Œäº†ï¼Œç„¶åŽæ‰è¿”å›žï¼Œå¦‚æžœä¸€ç›´éƒ½æ˜¯breakçš„çŠ¶æ€åˆ™ä¼šè¿”å›žå•ä¹°çš„ä»·æ ¼ã€‚ perfect123456789101112131415161718192021222324252627282930313233343536373839404142class Solution &#123; private Integer res; public int shoppingOffers(List&lt;Integer&gt; price, List&lt;List&lt;Integer&gt;&gt; special, List&lt;Integer&gt; needs) &#123; res=Integer.MAX_VALUE; int[] parr=new int[price.size()]; int[] aarr=new int[needs.size()]; for(int i=0;i&lt;parr.length; i++)&#123; parr[i]=price.get(i); aarr[i]=needs.get(i); &#125; findMinimum(special, 0, aarr, parr, 0); return res; &#125; private void findMinimum(List&lt;List&lt;Integer&gt;&gt; special, int curOffer, int[] remain, int[] single, int total)&#123; if(total&gt;=res||curOffer==special.size()) return; int buyNow=buySingle(remain, single, total); if(buyNow&lt;res) res=buyNow; int[] newRemain=remainAfterUse(special.get(curOffer), remain); if(newRemain!=null) findMinimum(special, curOffer, newRemain, single, total+special.get(curOffer).get(remain.length)); findMinimum(special, curOffer+1, remain, single, total); &#125; private int[] remainAfterUse(List&lt;Integer&gt; special, int[] remain)&#123; int[] res=new int[remain.length]; for(int i=0;i&lt;remain.length;i++)&#123; res[i]=remain[i]-special.get(i); if(res[i]&lt;0) return null; &#125; return res; &#125; private int buySingle(int[] remain, int[] single, int total)&#123; for(int i=0; i&lt;remain.length; i++)&#123; total+=remain[i]*single[i]; &#125; return total; &#125; &#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Node10å€¼å¾—å…³æ³¨çš„å‡çº§]]></title>
    <url>%2F2019%2F02%2F23%2F2019-02-23-Node10%E5%80%BC%E5%BE%97%E5%85%B3%E6%B3%A8%E7%9A%84%E5%8D%87%E7%BA%A7%2F</url>
    <content type="text"><![CDATA[http2ä¼˜åŠ¿ æ›´æœ‰æ•ˆçš„ç½‘ç»œåˆ©ç”¨çŽ‡ å¼•å…¥ HTTP Header åŽ‹ç¼©å‡å°æŠ¥æ–‡ä½“ç§¯ åœ¨åŒä¸€ä¸ªè¿žæŽ¥ä¸­æ”¯æŒå¤šè·¯å¹¶å‘ æ”¯æŒ Server Push å¤šè·¯å¤ç”¨ï¼ˆMultiplexingï¼‰ç”±äºŽHTTPè¿žæŽ¥ï¼Œèµ·åˆæœ‰è¦æ±‚é™åˆ¶åŒä¸€åŸŸåä¸‹çš„è¯·æ±‚æœ‰æ•°é‡é™åˆ¶ï¼Œè¶…è¿‡åˆ™è¢«é˜»å¡žï¼Œè€ŒHTTP2å¯ä»¥å‘èµ·å¤šé‡è¯·æ±‚ï¼Œå¦‚åŒæ—¶è¯·æ±‚æ ·å¼æ–‡ä»¶å’Œè„šæœ¬æ–‡ä»¶ äºŒè¿›åˆ¶åˆ†å¸§ HTTP/2 é€šè¿‡è®©æ‰€æœ‰æ•°æ®æµå…±ç”¨åŒä¸€ä¸ªè¿žæŽ¥ï¼Œå¯ä»¥æ›´æœ‰æ•ˆåœ°ä½¿ç”¨ TCP è¿žæŽ¥ï¼Œè®©é«˜å¸¦å®½ä¹Ÿèƒ½çœŸæ­£çš„æœåŠ¡äºŽ HTTP çš„æ€§èƒ½æå‡ã€‚ http2.0çš„æ ¼å¼å®šä¹‰æ›´æŽ¥è¿‘tcpå±‚çš„æ–¹å¼ï¼Œè¿™å¼ äºŒæœºåˆ¶çš„æ–¹å¼ååˆ†é«˜æ•ˆä¸”ç²¾ç®€ã€‚lengthå®šä¹‰äº†æ•´ä¸ªframeçš„å¼€å§‹åˆ°ç»“æŸï¼Œtypeå®šä¹‰frameçš„ç±»åž‹ï¼ˆä¸€å…±10ç§ï¼‰ï¼Œflagsç”¨bitä½å®šä¹‰ä¸€äº›é‡è¦çš„å‚æ•°ï¼Œstream idç”¨ä½œæµæŽ§åˆ¶ï¼Œå‰©ä¸‹çš„payloadå°±æ˜¯requestçš„æ­£æ–‡äº†ã€‚ server Pushhttp2.0èƒ½é€šè¿‡pushçš„æ–¹å¼å°†å®¢æˆ·ç«¯éœ€è¦çš„å†…å®¹é¢„å…ˆæŽ¨é€è¿‡åŽ» é¦–éƒ¨åŽ‹ç¼©ï¼ˆHeader Compression) BigInt *fs.mkdir å’Œ fs.mkdirSync æ”¯æŒé€’å½’å‚æ•° CLI Flag è‡ªåŠ¨è¡¥å…¨ Windows å®‰è£…åŒ…ä¼˜åŒ–]]></content>
  </entry>
  <entry>
    <title><![CDATA[Eggæ”¯æŒJSæ™ºèƒ½æé†’]]></title>
    <url>%2F2019%2F02%2F23%2F2019-02-23-Egg%E6%94%AF%E6%8C%81JSTS%E6%99%BA%E8%83%BD%E6%8F%90%E9%86%92%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡ç« æ€è·¯æ¥è‡ªhttps://zhuanlan.zhihu.com/p/56780733 å®šä½å…¶å®žç”±äºŽEggæœ¬èº«çš„åŠ¨æ€åŠ è½½æœºåˆ¶ï¼Œæ‰€ä»¥JavaScriptå¾ˆéš¾åŽ»åšæ™ºèƒ½æé†’ï¼ˆå¦‚å˜é‡å®šä¹‰æ£€æŸ¥ï¼‰ï¼Œæœ¬æ¬¡å€Ÿé‰´TSçš„åŠ¨æ€ç”Ÿæˆd.tsï¼Œä½¿ç”¨tsçš„Declaration Mergingï¼ˆå£°æ˜Žåˆå¹¶ï¼‰ç‰¹æ€§ï¼Œè¯»å–JSDocæ³¨é‡Šã€‚ èŽ·å– æ›´æ–°egg-binæ¨¡å— package.json æ·»åŠ  â€œeggâ€: { â€œdeclarationsâ€: true } å®žæ“ï¼Œå‡çº§ä¸ªäººGitHubé¡¹ç›®chum,æ‰§è¡Œ npm i egg-bin å°†å…¶ä»Ž4.9.0â€“&gt;4.11.0å¹¶åœ¨package.jsonçš„å°¾éƒ¨åŠ ä¸Šä¸Šè¿°eggçš„kvï¼Œåœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆtpypingæ–‡ä»¶å¤¹ï¼Œå°†appç›®å½•ä¸‹çš„controllerï¼Œmodelï¼Œä»¥åŠæ ¹ç›®å½•ä¸‹çš„indexï¼Œconfigç›®å½•éƒ½è¿›è¡Œäº†tsæ–‡ä»¶ç”Ÿæˆ å…¶å®žeggåŽŸç”Ÿæ”¯æŒJavaScriptï¼Œå¯¹äºŽTSåªæ˜¯æ”¯æŒä¸æŽ¨èçš„æ€åº¦ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨TSåŽ»é‡æž„ï¼Œæœ¬æ¬¡æ™ºèƒ½æé†’ï¼Œåº”è¯¥æ˜¯å¯¹JSä¸€ä¸ªåŠ£åŠ¿çš„è¡¥é½ï¼Œè§£å†³æ–¹æ¡ˆä¹Ÿä¼¼ä¹Žå€Ÿé‰´äº†TSçš„æ–¹å¼ï¼Œä½†åˆä¿ç•™äº†äººä»¬ä¹¦å†™JSçš„ä¹ æƒ¯]]></content>
      <categories>
        <category>framework</category>
      </categories>
      <tags>
        <tag>egg</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ThreeSum]]></title>
    <url>%2F2019%2F02%2F19%2F2019-02-19-15ThreeSum%2F</url>
    <content type="text"><![CDATA[Problem123456789101112131415Given an array nums of n integers, are there elements a, b, c in nums such that a + b + c &#x3D; 0? Find all unique triplets in the array which gives the sum of zero.Note:The solution set must not contain duplicate triplets.Example:Given array nums &#x3D; [-1, 0, 1, 2, -1, -4],A solution set is:[ [-1, 0, 1], [-1, -1, 2]] Solution123456789101112131415161718192021222324252627282930313233343536373839public class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) &#123; Arrays.sort(nums); ArrayList&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;List&lt;Integer&gt;&gt;(); for(int i = 0; i &lt; nums.length - 2; i++)&#123; // è·³è¿‡é‡å¤å…ƒç´  if(i &gt; 0 &amp;&amp; nums[i] == nums[i-1]) continue; // è®¡ç®—2Sum ArrayList&lt;List&lt;Integer&gt;&gt; curr = twoSum(nums, i, 0 - nums[i]); res.addAll(curr); &#125; return res; &#125; private ArrayList&lt;List&lt;Integer&gt;&gt; twoSum(int[] nums, int i, int target)&#123; int left = i + 1, right = nums.length - 1; ArrayList&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;List&lt;Integer&gt;&gt;(); while(left &lt; right)&#123; if(nums[left] + nums[right] == target)&#123; ArrayList&lt;Integer&gt; curr = new ArrayList&lt;Integer&gt;(); curr.add(nums[i]); curr.add(nums[left]); curr.add(nums[right]); res.add(curr); do &#123; left++; &#125;while(left &lt; nums.length &amp;&amp; nums[left] == nums[left-1]); do &#123; right--; &#125; while(right &gt;= 0 &amp;&amp; nums[right] == nums[right+1]); &#125; else if (nums[left] + nums[right] &gt; target)&#123; right--; &#125; else &#123; left++; &#125; &#125; return res; &#125;&#125; Keytipsï¼šå¾ˆä¹…æ²¡æœ‰å†™Javaäº†ï¼ŒèŠ±äº†ç‚¹æ—¶é—´åŽ»æ•´ç†äº†ä¸€äº›çŸ¥è¯†ï¼Œæ‰€ä»¥ä¸Šé¢çš„ç®—æ³•å…¶å®žæ˜¯ctrl+vçš„ï¼ŒçŽ°åœ¨æ•´ç†ä¸€ä¸‹listç›¸å…³çš„çŸ¥è¯†ï¼š 1.List&lt;List&gt;ä¸ºåµŒå¥—çš„listé›†åˆï¼Œå£°æ˜Žæ–¹å¼ List&lt;List&gt; list = new Array() or List&lt;List&gt; list = new ArrayList&lt;&gt;();//recomend 2.Listæ˜¯ä¸€ä¸ªæŽ¥å£ï¼Œè€ŒArrayListæ˜¯ListæŽ¥å£çš„ä¸€ä¸ªå®žçŽ°ç±» List list = new List();//æ˜¯é”™è¯¯çš„ç”¨æ³• List list = new ArrayList();//listä¼šä¸¢å¤±ArrayListçš„trimToSize()æ–¹æ³• ArrayList list=newArrayList() 3.ç„¶åŽæ˜Žå¤©å†å›žæ¥é‡æ–°å†™è¿™é“é¢˜]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç¼“å­˜]]></title>
    <url>%2F2019%2F02%2F19%2F2019-02-19-%E7%BC%93%E5%AD%98%2F</url>
    <content type="text"><![CDATA[ç¼“å­˜why é«˜æ€§èƒ½ ä¾‹å¦‚ï¼šæŠŠæŸ¥å®Œçš„å€¼ç¼“å­˜ï¼Œä¸‹æ¬¡ç›´æŽ¥è®¿é—® é«˜å¹¶å‘ ä¾‹å¦‚ï¼šæŠŠè¯·æ±‚æŽ’é˜Ÿ differenceï¼ˆvs memcached) ç‰¹å¾ redis memchched æ•°æ®ç»“æž„ æ›´å¤æ‚çš„æ•°æ®ç»“æž„ï¼Œæ›´ä¸°å¯Œçš„æ•°æ®æ“ä½œ é›†ç¾¤ æ”¯æŒ ä¸æ”¯æŒ æ€§èƒ½ å•æ ¸ å¤šæ ¸ redisçº¿ç¨‹æ¨¡åž‹redis å†…éƒ¨ä½¿ç”¨æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ file event handlerï¼Œè¿™ä¸ªæ–‡ä»¶äº‹ä»¶å¤„ç†å™¨æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥ redis æ‰å«åšå•çº¿ç¨‹çš„æ¨¡åž‹ã€‚å®ƒé‡‡ç”¨ IO å¤šè·¯å¤ç”¨æœºåˆ¶åŒæ—¶ç›‘å¬å¤šä¸ª socketï¼Œæ ¹æ® socket ä¸Šçš„äº‹ä»¶æ¥é€‰æ‹©å¯¹åº”çš„äº‹ä»¶å¤„ç†å™¨è¿›è¡Œå¤„ç†ã€‚ å‡è®¾ä¸€ä¸ª Redis æœåŠ¡å™¨æ­£åœ¨è¿ä½œï¼Œ é‚£ä¹ˆè¿™ä¸ªæœåŠ¡å™¨çš„ç›‘å¬å¥—æŽ¥å­—çš„ AE_READABLE äº‹ä»¶åº”è¯¥æ­£å¤„äºŽç›‘å¬çŠ¶æ€ä¹‹ä¸‹ï¼Œ è€Œè¯¥äº‹ä»¶æ‰€å¯¹åº”çš„å¤„ç†å™¨ä¸ºè¿žæŽ¥åº”ç­”å¤„ç†å™¨ã€‚ å¦‚æžœè¿™æ—¶æœ‰ä¸€ä¸ª Redis å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·è¿žæŽ¥ï¼Œ é‚£ä¹ˆç›‘å¬å¥—æŽ¥å­—å°†äº§ç”Ÿ AE_READABLE äº‹ä»¶ï¼Œ è§¦å‘è¿žæŽ¥åº”ç­”å¤„ç†å™¨æ‰§è¡Œï¼š å¤„ç†å™¨ä¼šå¯¹å®¢æˆ·ç«¯çš„è¿žæŽ¥è¯·æ±‚è¿›è¡Œåº”ç­”ï¼Œ ç„¶åŽåˆ›å»ºå®¢æˆ·ç«¯å¥—æŽ¥å­—ï¼Œ ä»¥åŠå®¢æˆ·ç«¯çŠ¶æ€ï¼Œ å¹¶å°†å®¢æˆ·ç«¯å¥—æŽ¥å­—çš„ AE_READABLE äº‹ä»¶ä¸Žå‘½ä»¤è¯·æ±‚å¤„ç†å™¨è¿›è¡Œå…³è”ï¼Œ ä½¿å¾—å®¢æˆ·ç«¯å¯ä»¥å‘ä¸»æœåŠ¡å™¨å‘é€å‘½ä»¤è¯·æ±‚ã€‚ ä¹‹åŽï¼Œ å‡è®¾å®¢æˆ·ç«¯å‘ä¸»æœåŠ¡å™¨å‘é€ä¸€ä¸ªå‘½ä»¤è¯·æ±‚ï¼Œ é‚£ä¹ˆå®¢æˆ·ç«¯å¥—æŽ¥å­—å°†äº§ç”Ÿ AE_READABLE äº‹ä»¶ï¼Œ å¼•å‘å‘½ä»¤è¯·æ±‚å¤„ç†å™¨æ‰§è¡Œï¼Œ å¤„ç†å™¨è¯»å–å®¢æˆ·ç«¯çš„å‘½ä»¤å†…å®¹ï¼Œ ç„¶åŽä¼ ç»™ç›¸å…³ç¨‹åºåŽ»æ‰§è¡Œã€‚ æ‰§è¡Œå‘½ä»¤å°†äº§ç”Ÿç›¸åº”çš„å‘½ä»¤å›žå¤ï¼Œ ä¸ºäº†å°†è¿™äº›å‘½ä»¤å›žå¤ä¼ é€å›žå®¢æˆ·ç«¯ï¼Œ æœåŠ¡å™¨ä¼šå°†å®¢æˆ·ç«¯å¥—æŽ¥å­—çš„ AE_WRITABLE äº‹ä»¶ä¸Žå‘½ä»¤å›žå¤å¤„ç†å™¨è¿›è¡Œå…³è”ï¼š å½“å®¢æˆ·ç«¯å°è¯•è¯»å–å‘½ä»¤å›žå¤çš„æ—¶å€™ï¼Œ å®¢æˆ·ç«¯å¥—æŽ¥å­—å°†äº§ç”Ÿ AE_WRITABLE äº‹ä»¶ï¼Œ è§¦å‘å‘½ä»¤å›žå¤å¤„ç†å™¨æ‰§è¡Œï¼Œ å½“å‘½ä»¤å›žå¤å¤„ç†å™¨å°†å‘½ä»¤å›žå¤å…¨éƒ¨å†™å…¥åˆ°å¥—æŽ¥å­—ä¹‹åŽï¼Œ æœåŠ¡å™¨å°±ä¼šè§£é™¤å®¢æˆ·ç«¯å¥—æŽ¥å­—çš„ AE_WRITABLE äº‹ä»¶ä¸Žå‘½ä»¤å›žå¤å¤„ç†å™¨ä¹‹é—´çš„å…³è”ã€‚]]></content>
      <categories>
        <category>high_availability</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è”åˆç´¢å¼•]]></title>
    <url>%2F2019%2F02%2F19%2F2019-02-19-%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95%2F</url>
    <content type="text"><![CDATA[keyå½“å…·å¤‡å¤šä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œå¦‚ï¼šKEY è”åˆç´¢å¼• (a,b,c)ä¸ºç´¢å¼•ï¼Œé™¤(b,c)æ¡ä»¶ç´¢å¼•ä¸ä¼šè§¦å‘è¯¥ç´¢å¼•è¡¨å¤–ï¼Œ(a,b),(a,c),(a,b,c)å‡ä¼šè§¦å‘ä¸Šè¿°è”åˆç´¢å¼•ï¼Œå…·ä½“å¯å‚è§explainçš„keyç±»åž‹ï¼Œç†è®ºåº”è¯¥æ˜¾ç¤ºè”ç«‹ç´¢å¼• å¦‚ï¼š EXPLAIN SELECT FROM TABLENAME WHERE a=â€™2222â€™ AND b=â€˜222â€™* å¦‚æžœä½ è®¾ç½®å¤šä¸ªå•åˆ—ç´¢å¼•ï¼Œåœ¨explainä¸‹ï¼Œkeyçš„å€¼å°±ä¸ºå…¶å•åˆ—çš„ç´¢å¼•ï¼Œå¦‚ä¸Šè¿°çš„aåˆ—]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ ‘çš„åŽåºéåŽ†]]></title>
    <url>%2F2019%2F02%2F19%2F2019-02-19-%E6%A0%91%E7%9A%84%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%2F</url>
    <content type="text"><![CDATA[definition1234567891011121314151617181920private static class BinaryNode&lt;AnyType&gt;&#123; BinaryNode(AnyType theElement) &#123; this(theElement, null, null); &#125; BinaryNode(AnyType theElement, BinaryNode&lt;AnyType&gt; lt, BinaryNode&lt;AnyType&gt; rt) &#123; element &#x3D; theElement; left &#x3D; lt; right &#x3D; rt; &#125; AnyType element; BinaryNode&lt;AnyType&gt; left; BinaryNode&lt;AnyType&gt; right;&#125;private BinaryNode&lt;AnyType&gt; root; posOrder123456789public void posOrder(BinaryNode&lt;AnyType&gt; Node) &#123; if (Node != null) &#123; posOrder(Node.left); posOrder(Node.right); System.out.print(Node.element + &quot; &quot;); &#125; &#125; 1234567891011121314151617181920212223242526272829public void posOrder(BinaryNode&lt;AnyType&gt; Node)&#123; Stack&lt;BinaryNode&gt; stack1 &#x3D; new Stack&lt;&gt;(); Stack&lt;Integer&gt; stack2 &#x3D; new Stack&lt;&gt;(); int i &#x3D; 1; while(Node !&#x3D; null || !stack1.empty()) &#123; while (Node !&#x3D; null) &#123; stack1.push(Node); stack2.push(0); Node &#x3D; Node.left; &#125; while(!stack1.empty() &amp;&amp; stack2.peek() &#x3D;&#x3D; i) &#123; stack2.pop(); System.out.print(stack1.pop().element + &quot; &quot;); &#125; if(!stack1.empty()) &#123; stack2.pop(); stack2.push(1); Node &#x3D; stack1.peek(); Node &#x3D; Node.right; &#125; &#125;&#125;]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è¡¨å†…å…³è”]]></title>
    <url>%2F2019%2F02%2F19%2F2019-02-19-%E8%A1%A8%E5%86%85%E5%85%B3%E8%81%94%2F</url>
    <content type="text"><![CDATA[Inner Join SELECT column_listFROM t1INNER JOIN t2 ON join_condition1INNER JOIN t3 ON join_condition2â€¦WHERE where_conditions; Example id name parentid 1 åŒ—äº¬å¸‚ 0 2 æµ·æ·€åŒº 1 3 åŒ—äº¬xxå¤§å­¦ 2 select a.name å¸‚,b.name åŒº,c.name åfrom address ajoin address b on b.parentid = a.idjoin address c on c.parentid = b.idjoin address d on d.parentid = c.id]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LongestCommonPrefix]]></title>
    <url>%2F2019%2F02%2F18%2F2019-02-18-LongestCommonPrefix%2F</url>
    <content type="text"><![CDATA[Problem Write a function to find the longest common prefix string amongst an array of strings. If there is no common prefix, return an empty string &quot;&quot;. Example 1: 12Input: [&quot;flower&quot;,&quot;flow&quot;,&quot;flight&quot;]Output: &quot;fl&quot; Example 2: 123Input: [&quot;dog&quot;,&quot;racecar&quot;,&quot;car&quot;]Output: &quot;&quot;Explanation: There is no common prefix among the input strings. Note: All given inputs are in lowercase letters a-z. solution12345678910111213141516171819202122232425262728293031323334class Solution &#123; public String longestCommonPrefix(String[] strs) &#123; int minLength = minLength(strs); String same = &quot;&quot;; boolean isSame=false; outer:for(int i=0;i&lt;minLength;i++) &#123; char sameCharacter = strs[0].charAt(i); isSame = false; for(int j=0;j&lt;strs.length;j++) &#123; if(strs[j].charAt(i)==sameCharacter) &#123; isSame = true; &#125;else &#123; isSame = false; break outer; &#125; &#125; if(isSame=true)same+=sameCharacter; &#125; return same; &#125; private int minLength(String[] strs) &#123; // TODO Auto-generated method stub if(strs.length==0) &#123; return 0; &#125; int min = strs[0].length(); for(int i=1;i&lt;strs.length;i++) &#123; if(strs[i].length()&lt;min) &#123; min = strs[i].length(); &#125; &#125; return min; &#125;&#125; keyæ•°å­¦é¢˜ï¼Œæ²¡ä»€ä¹ˆå…³é”®ï¼Œä½†æ˜¯è¿™ä¸ªè§£æ³•ï¼Œè¿˜æ˜¯å­˜åœ¨ä¼˜åŒ–ç©ºé—´ Perfect123456789101112131415161718192021class Solution &#123; public String longestCommonPrefix(String[] strs) &#123; if (strs == null || strs.length == 0) &#123; return &quot;&quot;; &#125; String prefix = strs[0]; for (int i = 1; i &lt; strs.length; ++i) &#123; while (!strs[i].startsWith(prefix)) &#123; prefix = prefix.substring(0, prefix.length() - 1); if (prefix.isEmpty()) &#123; break; &#125; &#125; &#125; return prefix; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ReverseInteger]]></title>
    <url>%2F2019%2F02%2F17%2F2019-02-17-ReverseInteger%2F</url>
    <content type="text"><![CDATA[ProblemGiven a 32-bit signed integer, reverse digits of an integer. Example 1: Input: 123Output: 321Example 2: Input: -123Output: -321Example 3: Input: 120Output: 21Note:Assume we are dealing with an environment which could only store integers within the 32-bit signed integer range: [âˆ’231, 231 âˆ’ 1]. For the purpose of this problem, assume that your function returns 0 when the reversed integer overflows. Solution1234567891011121314151617181920class Solution &#123; public int reverse(int x) &#123; if (x == 0) &#123; return 0; &#125; int result =0; long result_l = 0; while (x != 0) &#123; result_l = result_l * 10 + x % 10; x = x / 10; &#125; if(result_l &gt;= Integer.MAX_VALUE||result_l &lt;= Integer.MIN_VALUE) &#123; return 0; &#125;else &#123; result = (int) result_l; &#125; return result; &#125;&#125; keys1.å€’åºå¾ˆç®€å•ï¼Œå–ä½™èµ‹ç»™æ–°æ•°å°±å¯ä»¥äº†ï¼Œä¸è¿‡æ³¨æ„JavaScriptæˆ–è€…Pythonçš„intâ€“&gt;floatçš„æƒ…å†µ 2.é¢˜ç›®ä¸‹é¢å…¶å®žæç¤ºäº†intçš„èŒƒå›´ï¼Œæ”¹é¢˜ç›®1032ä¸ªæµ‹è¯•æ•°æ®ï¼Œæœ‰å¤§æ¦‚7ä¸ªæ˜¯è¶…èŒƒå›´çš„éªŒè¯æ•°æ®ï¼Œæ‰€ä»¥javaä¸­å¯ä»¥å·§åˆ©ç”¨Integer.MAXæ¥è¿›è¡Œå¤„ç†ã€‚ perfect12345678public int reverse(int x) &#123; long res = 0; while (x != 0) &#123; res = res * 10 + x % 10; x = x / 10; &#125; return (int)res == res ? (int)res : 0; &#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>Easy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•ç”Ÿæˆtagå’Œcategories]]></title>
    <url>%2F2019%2F02%2F17%2F2019-02-17-%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90tag%E5%92%8Ccategories%2F</url>
    <content type="text"><![CDATA[12hexo new page tagshexo new page categories]]></content>
      <categories>
        <category>others</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—MQ]]></title>
    <url>%2F2019%2F01%2F24%2F2019-01-24-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97MQ%2F</url>
    <content type="text"><![CDATA[ä»Žå®žä¹ åˆ°åŽæ¥çš„ä¸¤ä»½å·¥ä½œä¹Ÿå†™äº†ä¸å°‘çš„é¡¹ç›®ï¼Œåœ¨æœ€è¿‘çš„ä¸€ä»½å·¥ä½œç”¨åˆ°äº†å¤§é‡çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå®¢æœç³»ç»Ÿï¼Œä¼šæœ‰å¤§é‡çš„è®¿å®¢å’¨è¯¢æ¶ˆæ¯ï¼‰ï¼Œè®©æˆ‘é‡æ–°å›žé¡¾äº†ä¸€ä¸‹åœ¨å¤§æ•°æ®é¢å‰ï¼Œä¸ºä»€ä¹ˆè¦ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ€Žä¹ˆç”¨å¥½æ¶ˆæ¯é˜Ÿåˆ— ç†ç”± è§£è€¦ å¼‚æ­¥ å‰Šå³° è§£è€¦é€šè¿‡ä¸€ä¸ª MQï¼ŒPub/Sub å‘å¸ƒè®¢é˜…æ¶ˆæ¯è¿™ä¹ˆä¸€ä¸ªæ¨¡åž‹ï¼Œä¸åŒå¾®æœåŠ¡ä¹‹é—´é€šä¿¡ä¼šæ›´åŠ è§£è€¦ï¼ŒAç»™BCDEFå‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦è€ƒè™‘ä»–ä»¬æ˜¯å¦å®•æœºï¼Œå¦‚ä½•é‡å‘ç­‰ï¼Œåªéœ€è¦å°†ä¿¡æ¯å‘é€åˆ°é˜Ÿåˆ—é‡Œï¼Œè®©ä»–ä»¬è‡ªå·±åŽ»å–å°±å¥½äº† å¼‚æ­¥å‡è®¾ç”¨æˆ·è¯·æ±‚éœ€è¦å†™è¡¨ï¼Œé‚£ä¹ˆå§ä»»åŠ¡æ”¾è¿›é˜Ÿåˆ—é‡Œï¼Œç­‰å¾…å†™å…¥ï¼Œå‰ç«¯å¯ä»¥å…ˆè¿”å›žï¼Œå¯ä»¥å‡å°‘ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ï¼Œæˆ–è€…é‡‡ç”¨å¤šä¸ªæœºå™¨åŒæ—¶å†™æ•°æ®çš„ä¸åŒéƒ¨åˆ†ï¼ŒåŠ å¿«æ•°æ®çš„å¤„ç† å‰Šå³°å°±å’Œå¹³æ—¶ç”¨ç”µä¸€æ ·ï¼Œæ™šä¸Šç”µç½‘çš„åŽ‹åŠ›è‚¯å®šä¼šå¾ˆå¤§ï¼Œå¦‚æžœç›´æŽ¥æŠŠå¤§é‡è¯·æ±‚åŽ‹åˆ°æœåŠ¡å™¨ï¼Œä¼šç›´æŽ¥å®•æœºï¼Œä½†å¦‚æžœæŠŠè¯·æ±‚æŽ’æˆé˜Ÿåˆ—ï¼Œç„¶åŽæœåŠ¡å™¨ä»Žé‡Œé¢é¡ºåºå–ï¼Œè™½ç„¶ä¼šå¢žåŠ å»¶è¿Ÿï¼Œä½†æ˜¯ä¸ä¼šå®•æœºï¼Œæ»¡è´Ÿè·è¿ä½œè€Œå·² å®žé™…ç”Ÿäº§çŽ¯å¢ƒå’¨è¯¢ç³»ç»Ÿå¤§è‡´åˆ†ä¸ºï¼šå’¨è¯¢æ ¸å¿ƒï¼Œç«¯æ¨¡å—ï¼Œå¾®ä¿¡æ¨¡å—ï¼Œåˆ†é…æ¨¡å—ç­‰ç­‰ï¼Œè®¿å®¢å‘é€çš„å’¨è¯¢ä¿¡æ¯ï¼ˆwebï¼‰å¯èƒ½å…ˆç»è¿‡ç«¯æ¨¡å—ï¼Œåœ¨å’¨è¯¢æ ¸å¿ƒæ¨¡å—å¤„ç†å‰è¿›å…¥é˜Ÿåˆ—ï¼Œç„¶åŽï¼Œåˆ†é…æ¨¡å—æ ¹æ®ç”¨æˆ·çš„è®¾ç½®ï¼Œå¦‚æŽ¥å…¥å®¢æœè¿˜æ˜¯æœºå™¨äººï¼ŒæŒ‰ä»€ä¹ˆæƒé‡è¿›è¡Œåˆ†é…ï¼Œåˆ†é…ç»™å“ªä¸€ä¸ªä¸šåŠ¡ç»„è¿›è¡Œæ“ä½œï¼Œæ¥å‡è½»å’¨è¯¢æ ¸å¿ƒçš„åŽ‹åŠ› ç¼ºç‚¹1.ç³»ç»Ÿå¯ç”¨æ€§é™ä½Žï¼ˆMQæŒ‚äº†å’‹æ•´ï¼‰ 2.å¤æ‚åº¦æå‡ï¼ˆæ¶ˆæ¯æ²¡æœ‰é‡å¤æ¶ˆè´¹ï¼Œä¸ä¼šä¸¢å¤±ï¼‰ 3.ä¸€è‡´æ€§é—®é¢˜æœ‰å¾…è§£å†³ ç‰¹æ€§ ActiveMQ RabbitMQ RocketMQ Kafka å•æœºåžåé‡ ä¸‡çº§ï¼Œæ¯” RocketMQã€Kafka ä½Žä¸€ä¸ªæ•°é‡çº§ åŒ ActiveMQ 10 ä¸‡çº§ï¼Œæ”¯æ’‘é«˜åžå 10 ä¸‡çº§ï¼Œé«˜åžåï¼Œä¸€èˆ¬é…åˆå¤§æ•°æ®ç±»çš„ç³»ç»Ÿæ¥è¿›è¡Œå®žæ—¶æ•°æ®è®¡ç®—ã€æ—¥å¿—é‡‡é›†ç­‰åœºæ™¯ topic æ•°é‡å¯¹åžåé‡çš„å½±å“ topic å¯ä»¥è¾¾åˆ°å‡ ç™¾/å‡ åƒçš„çº§åˆ«ï¼Œåžåé‡ä¼šæœ‰è¾ƒå°å¹…åº¦çš„ä¸‹é™ï¼Œè¿™æ˜¯ RocketMQ çš„ä¸€å¤§ä¼˜åŠ¿ï¼Œåœ¨åŒç­‰æœºå™¨ä¸‹ï¼Œå¯ä»¥æ”¯æ’‘å¤§é‡çš„ topic topic ä»Žå‡ ååˆ°å‡ ç™¾ä¸ªæ—¶å€™ï¼Œåžåé‡ä¼šå¤§å¹…åº¦ä¸‹é™ï¼Œåœ¨åŒç­‰æœºå™¨ä¸‹ï¼ŒKafka å°½é‡ä¿è¯ topic æ•°é‡ä¸è¦è¿‡å¤šï¼Œå¦‚æžœè¦æ”¯æ’‘å¤§è§„æ¨¡çš„ topicï¼Œéœ€è¦å¢žåŠ æ›´å¤šçš„æœºå™¨èµ„æº æ—¶æ•ˆæ€§ ms çº§ å¾®ç§’çº§ï¼Œè¿™æ˜¯ RabbitMQ çš„ä¸€å¤§ç‰¹ç‚¹ï¼Œå»¶è¿Ÿæœ€ä½Ž ms çº§ å»¶è¿Ÿåœ¨ ms çº§ä»¥å†… å¯ç”¨æ€§ é«˜ï¼ŒåŸºäºŽä¸»ä»Žæž¶æž„å®žçŽ°é«˜å¯ç”¨ åŒ ActiveMQ éžå¸¸é«˜ï¼Œåˆ†å¸ƒå¼æž¶æž„ éžå¸¸é«˜ï¼Œåˆ†å¸ƒå¼ï¼Œä¸€ä¸ªæ•°æ®å¤šä¸ªå‰¯æœ¬ï¼Œå°‘æ•°æœºå™¨å®•æœºï¼Œä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œä¸ä¼šå¯¼è‡´ä¸å¯ç”¨ æ¶ˆæ¯å¯é æ€§ æœ‰è¾ƒä½Žçš„æ¦‚çŽ‡ä¸¢å¤±æ•°æ® åŸºæœ¬ä¸ä¸¢ ç»è¿‡å‚æ•°ä¼˜åŒ–é…ç½®ï¼Œå¯ä»¥åšåˆ° 0 ä¸¢å¤± åŒ RocketMQ åŠŸèƒ½æ”¯æŒ MQ é¢†åŸŸçš„åŠŸèƒ½æžå…¶å®Œå¤‡ åŸºäºŽ erlang å¼€å‘ï¼Œå¹¶å‘èƒ½åŠ›å¾ˆå¼ºï¼Œæ€§èƒ½æžå¥½ï¼Œå»¶æ—¶å¾ˆä½Ž MQ åŠŸèƒ½è¾ƒä¸ºå®Œå–„ï¼Œè¿˜æ˜¯åˆ†å¸ƒå¼çš„ï¼Œæ‰©å±•æ€§å¥½ åŠŸèƒ½è¾ƒä¸ºç®€å•ï¼Œä¸»è¦æ”¯æŒç®€å•çš„ MQ åŠŸèƒ½ï¼Œåœ¨å¤§æ•°æ®é¢†åŸŸçš„å®žæ—¶è®¡ç®—ä»¥åŠæ—¥å¿—é‡‡é›†è¢«å¤§è§„æ¨¡ä½¿ç”¨ æ‰€ä»¥ä¸­å°åž‹å…¬å¸ï¼Œç”¨ RabbitMQ æ˜¯ä¸é”™çš„é€‰æ‹© å¤§åž‹å…¬å¸ï¼ŒåŸºç¡€æž¶æž„ç ”å‘å®žåŠ›è¾ƒå¼ºï¼Œç”¨ RocketMQ æ˜¯å¾ˆå¥½çš„é€‰æ‹© å¦‚æžœæ˜¯å¤§æ•°æ®é¢†åŸŸçš„å®žæ—¶è®¡ç®—ã€æ—¥å¿—é‡‡é›†ç­‰åœºæ™¯ï¼Œç”¨ Kafka æ˜¯ä¸šå†…æ ‡å‡†çš„ï¼Œç»å¯¹æ²¡é—®é¢˜ï¼Œç¤¾åŒºæ´»è·ƒåº¦å¾ˆé«˜ï¼Œç»å¯¹ä¸ä¼šé»„ï¼Œä½•å†µå‡ ä¹Žæ˜¯å…¨ä¸–ç•Œè¿™ä¸ªé¢†åŸŸçš„äº‹å®žæ€§è§„èŒƒã€‚]]></content>
      <categories>
        <category>high_availability</category>
      </categories>
      <tags>
        <tag>MQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é€’å½’ä¼˜åŒ–]]></title>
    <url>%2F2019%2F01%2F23%2F2019-01-23-%E9%80%92%E5%BD%92%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[é€’å½’ä¼˜åŒ–åŽŸå› ï¼šåœ¨ Java ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„ Java è™šæ‹Ÿæœºæ ˆã€‚æ ˆå…·æœ‰åŽå…¥å…ˆå‡ºçš„ç‰¹ç‚¹ï¼Œé€’å½’è°ƒç”¨ä¹Ÿæ˜¯éœ€è¦åŽè°ƒç”¨çš„æ–¹æ³•å…ˆè¿”å›žï¼Œå› æ­¤ä½¿ç”¨æ ˆæ¥å­˜å‚¨é€’å½’è°ƒç”¨çš„ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯å­˜å‚¨åœ¨æ ˆå¸§ä¸­ï¼Œæ¯ä¸ª Java æ–¹æ³•åœ¨æ‰§è¡Œæ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œç”¨æ¥å­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€å¸¸é‡æ± å¼•ç”¨ç­‰ä¿¡æ¯ã€‚åœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§å…¥æ ˆï¼Œè€Œæ–¹æ³•è¿”å›žæ—¶ï¼Œå¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§å‡ºæ ˆã€‚ éšç€æ ˆå¸§frameçš„å¢žå¤šï¼Œå°†ä¼šå¯¼è‡´Stack Overflowçš„æŠ¥é”™ï¼Œä¾‹å¦‚ 1234567int f(int i)&#123; if(i == 1 || i == 2) return 1; else return (f(i - 1) + f(i - 2));&#125; è§£å†³æ–¹æ³•1ï¼šé€’å½’â€“&gt;éžé€’å½’å…¶å®žå¾ˆç®€å•ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œæ¥ä¿å­˜ä¸­é—´çš„å€¼ï¼Œè€Œä¸æ˜¯åŽ‹å…¥å †æ ˆä¸­ï¼Œ 1234567891011//è´¹æ³¢çº³åˆ—æ•°åˆ—ï¼Œå‰ä¸¤ä½æ˜¯1ï¼Œä¹‹åŽæ²¡ä½æ•°æ˜¯å‰ä¸¤ä½æ•°çš„å’Œprivate static void fibonacci(int n) &#123; int temp1=1,temp2=1,temp; for (int i = 1; i &lt;=n ; i++) &#123; temp=temp1+temp2; temp1=temp2; temp2=temp; &#125; System.out.println();&#125;//ç²˜è´´äºŽç½‘ä¸Š è§£å†³åŠžæ³•2ï¼šé€’å½’â€“&gt;å°¾é€’å½’å°¾é€’å½’å°±æ˜¯å½“å‡½æ•°åœ¨æœ€åŽä¸€æ­¥ï¼ˆå°¾éƒ¨ï¼‰è°ƒç”¨è‡ªèº«ï¼Œå¦‚ï¼š 123function f(x)&#123; return g(x);&#125; ä»¥ä¸‹ç®—æ³•æ¥è‡ªé˜®ä¸€å³°æ•™ç¨‹ï¼š 123456function factorial(n) &#123; if (n === 1) return 1; return n * factorial(n - 1);&#125;factorial(5) // 120 è¯¥ç®—æ³•å¹¶éžæ˜¯å°¾é€’å½’ï¼Œå› ä¸ºå…¶åœ¨è¿”å›žå€¼çš„æ—¶å€™è¿›è¡Œäº†ä¸€ä¸ªä¹˜æ³•æ“ä½œï¼Œæ‰€ä»¥è¿˜æ˜¯æ™®é€šçš„é€’å½’ï¼Œå¤æ‚åº¦ä¸ºO(n)ï¼Œè€Œå¦‚æžœæ”¹æˆå°¾é€’å½’ï¼Œåˆ™ï¼š 123456function factorial(n, total) &#123; if (n === 1) return total; return factorial(n - 1, n * total);&#125;factorial(5, 1) // 120 è¯¥ç®—æ³•åªéœ€è¦è®¡ç®— factorial(5,1) factorial(4,5) factorial(3,20) factorial(2,60) factorial(1,120) åœ¨è¿›å…¥æ–°çš„é€’å½’å‡½æ•°æ—¶ï¼Œå°¾é€’å½’ä¸å†éœ€è¦ä½¿ç”¨æ ˆå¸§ä¿å­˜æ•°æ®ï¼Œå…è®¸æŠ›å¼ƒæ—§çš„æ ˆå¸§ï¼Œé‚£ä¹ˆåªéœ€è¦ä¿å­˜ä¸€ä¸ªæ ˆå¸§å³å¯ å‚è€ƒèµ„æ–™ï¼š [é˜®ä¸€å³°å°¾é€’å½’]ï¼ˆhttp://www.ruanyifeng.com/blog/2015/04/tail-call.htmlï¼‰]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>regreesion</tag>
      </tags>
  </entry>
</search>
